<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-08F3C5E6-E47E-418D-A027-AE8FD121565A">
      <meta name="indexterm" content="envelopes: about">
      <meta name="indexterm" content="skin\ \ envelopes">
      <meta name="indexterm" content="skeletons: also chains and envelopes">
      <meta name="indexterm" content="skinning">
      <meta name="indexterm" content="boning">
      <meta name="indexterm" content="deformers: envelopes">
      <meta name="indexterm" content="envelopes: deformers">
      <meta name="indexterm" content="envelopes: weights">
      <meta name="indexterm" content="weights: envelopes">
      <meta name="indexterm" content="envelopes: weight operator stack">
      <meta name="indexterm" content="operator stack: envelope weights">
      <meta name="indexterm" content="weights: operator stack">
      <meta name="indexterm" content="approximate envelope deformations">
      <meta name="indexterm" content="envelopes: approximate deformations">
      <meta name="topic-type" content="concept">
      <title>About Envelopes</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-08F3C5E6-E47E-418D-A027-AE8FD121565A"></a></span><div class="head">
            <h1>About Envelopes</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-7CACE63B-60B8-4D33-BB49-E2A7AAECF3E7"></a></span> An envelope is an object or hierarchy that is assigned as a "skin" to a set of deformers
               such as IK chains. Envelopes move and deform in response to the movements of their
               deformers. In this way, for example, a character moves as you animate its skeleton.
               
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-74C2182D-6D68-4D07-952A-C1DA7318462D"></a></span>Every point in an envelope is assigned to one or more deformers. For each point, weights
               control the relative influence of its deformers. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-3CB992F3-331F-478E-883D-97A05F5B900E"></a></span>The process of setting up an envelope is sometimes called <em class="mild">skinning</em> or <em class="mild">boning</em>. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0005"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-B6EA6FF2-AACE-42D7-84A5-0DBA80A9E3AF"></a></span>Deformers
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-C70C09EB-5CE4-4CEE-AD41-CD42C15DB833"></a></span> Deformers are the objects that control the shape of the envelope. You pick the deformers
                  when you first create an envelope deformation. You can still add and remove deformers
                  later if necessary. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-54CA4374-C436-452F-BFAB-D764CD034474"></a></span>Although it's common to use skeletons as deformers, you can actually use any object.
                  The geometry of a deformer does not matter because the points of the envelope are
                  assigned to its center. (Bones are the exception — points are deformed by the whole
                  length of a bone.) Whether you use a cube, a sphere, or a null, all transformations
                  of the surrounding envelope are relative in size, orientation, and position to the
                  deformer's center, not its shape. Nulls and implicit objects are good choices because
                  they do not render. 
               </p> <span class="anchor_wrapper"><a name="FIG_89F3A71FEA37425D9C6610E24348103A"></a></span><div class="figure-anchor"><img src="../images/GUID-54ED669D-C118-4A86-A1AF-53DE34EA1131-low.png"></div> 
               <p><span class="anchor_wrapper"><a name="GUID-DE51E0F3-5A75-42E6-ACBF-BC60A7E29E50"></a></span>Light bulb (<span class="MenuCascade" id="GUID-9CB72E87-71D4-479E-9CD0-CFCA5873F7C0">A</span>) as an envelope. The light bulb is an object defined as an envelope to the hierarchy
                  of a cube, a cylinder, and a cone. The hierarchy of objects as deformers is displayed
                  in the explorer (<span class="MenuCascade" id="GUID-30DEA457-92A5-4294-96B8-23C13C4481AD">B</span>): The cube, cylinder, and cone are used to illustrate the example. Nulls would produce
                  equivalent results, but geometric objects are easier to visualize. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-EFE0A521-8B41-4C6A-A8B4-F6DD9D265B0C"></a></span>Deform the light bulb by altering the skeleton: translate the cube (<span class="MenuCascade" id="GUID-63A67E47-BCE9-486A-9B95-F4C66B54C408">C</span>); translate the cylinder (D); scale and rotate the cube (<span class="MenuCascade" id="GUID-AA03B2A5-5793-4B40-951A-18B5C4609449">E</span>). 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0007"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-96995D2F-B30D-40FC-AC67-47F4CC0B512E"></a></span>Weights
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-6612EDA0-8838-4D8B-8EE9-DFDE8729B85E"></a></span> Each point on an envelope has a total weight of 100, which is divided between the
                  deformers to which it is assigned. For example, if a point is weighted by 75 to deformer
                  A and 25 to deformer B, then A pulls on the point three times more strongly than B.
                  
               </p> <span class="anchor_wrapper"><a name="FIG_9438A91267A94E8AAA7F95AFB4777575"></a></span><div class="figure-anchor"><img src="../images/GUID-8755E035-E45E-4177-93AE-76D9816A8F33-low.png"></div> 
               <p><span class="anchor_wrapper"><a name="GUID-F900BCF9-B398-4812-A66D-D6592D33DBB9"></a></span>A point is weighted between the two nearest deformers. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0009"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AF5140F9-30F2-47C2-A7D4-F82C1E34AF61"></a></span>Multiple Levels of Control
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-10127B3C-83B8-49F7-B66E-AABA1A5D7E7F"></a></span>You have several levels of control over how points are assigned and weighted: 
               </p> <span class="anchor_wrapper"><a name="UL_0DAB3A69ED79445E9FE1889CFD6E3F48"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-251035A5-B414-4EF4-9BEB-E803FD4256C7"></a></span>Deformers and weights are initially assigned to points when you apply an envelope
                        deformation. There are several options for controlling how this initial assignment
                        is performed. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-D2B3A38C-384A-457A-9DB6-CB48163A6CEC"></a></span>You can use bounding volumes to fine-tune the automatic assignment of deformers. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-59A82339-8158-4516-A61B-1861225D4AFB"></a></span>You can then select points and reassign them to specific deformers or to no deformers
                        at all. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E4BAD51D-138B-4885-9634-A4502F30A496"></a></span>You can edit the weighting of individual points by painting or editing numerically.
                        
                     </p> 
                  </li>
               </ul> 
               <p><span class="anchor_wrapper"><a name="GUID-67CDC9A5-20F7-4FD6-83D9-662DBB08EAA8"></a></span>When you make changes that cause the initial weight assignment to be recalculated
                  — for example, if you add deformers, or reset the reference pose — all modifications
                  you have made to weights are preserved. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-000A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8CCE4A05-A9F3-4C9A-BA7C-D2358276DDA4"></a></span>Envelope Weight Operator Stack
               </h2>    
               <p><span class="anchor_wrapper"><a name="GUID-50DC67B9-9128-4E8C-80C7-E21E643E9736"></a></span>When you modify the weighting, your changes are added to an operator stack, similar
                  to the geometry operator stack. Once you are satisfied with your envelope, you can
                  freeze the weights to improve performance as described in <span class="char_link"><a href="weighted1.htm#WSDAAF7F2ABD2B13489B449A25174236B1-007A">Freezing Envelope Weights</a></span>. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-05EFE5D8-C3D6-45F3-8FD4-14501D006037"></a></span>After you have frozen the weights, you can still make modifications, but Softimage
                  cannot recalculate the initial assignment. 
               </p> <span class="anchor_wrapper"><a name="FIG_773547BC579B4E43AB26A769CE16EC6E"></a></span><div class="figure-anchor"><img src="../images/GUID-741FE150-F3BC-48D0-91A8-08C4D9111C9C-low.png"></div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-000C"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-30546CD4-5F9E-426B-A518-72CBAADB978A"></a></span>Approximate Envelope Deformations
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-537CCA93-0B4D-46A5-BC66-AA60FC56DE18"></a></span>Approximate envelope deformations give as much as double the performance of standard
                  envelopes when you are interacting and playing back in the 3D views. With standard
                  enveloping, the geometry is deformed and then the new normals are computed. With approximate
                  enveloping, both the geometry and the normals are deformed. There are other performance
                  enhancements as well, so the result can be faster even in wireframe display. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-D1160F2A-8584-4792-839B-7BABC76A771B"></a></span>Standard enveloping is always used when rendering, including in the render region.
                  This means that the shading can be different between the rendered result and the display
                  in the 3D views. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-252AEE03-6862-45AC-98D1-0BCACDE9AE08"></a></span>By default, approximate envelope deformations are enabled, but you can toggle this
                  setting on or off in your preferences. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-000D"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-9A47713C-4B9D-4D2E-83C8-233A7B8F5A3C"></a></span>To toggle approximate envelope deformations
                  </h3> <span class="anchor_wrapper"><a name="UL_58B8B065922A4DFBBEE54B682912F6AB"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A3969209-860D-4332-BFB0-07335F46E570"></a></span>Choose <span class="MenuCascade" id="GUID-77804094-4B71-4876-BE90-BAFE968D07E0">File <img src="../images/ac.menuaro.gif"> Preferences</span>, click <span class="MenuCascade" id="GUID-908E8F9C-4540-4CD3-929E-8B47F05C4987">Display</span>, and set <span class="MenuCascade" id="GUID-E7F13D02-B0F9-419E-96BA-EFEAB140BC8B">Allow Approximate Operators</span>. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-000E"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-04F5D081-BC02-46CF-B799-EE1110793E97"></a></span>Limitations with Approximate Envelope Deformations
                  </h3> <span class="anchor_wrapper"><a name="UL_BA892FF7728E4CFEB20F8ACE61DFAFEB"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-C017A9C9-B5F1-43D4-BE9D-CE5824C949EB"></a></span>Approximate envelope deformations apply only to polygon meshes. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-21A5F876-17F6-4D34-998A-CF798E20FECE"></a></span>The envelope operator must be the topmost operator in the stack, otherwise the display
                           uses the standard envelope deformation. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F02A4060-20C6-4D90-9302-251DBDDB6604"></a></span>The envelope operator must be above the Modeling region marker in the stack, otherwise
                           the display uses the standard envelope deformation. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-996C166C-4F5D-4BD8-AEEA-03ADA4E4110B"></a></span>Approximate envelope deformations may be slower with user normals. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>