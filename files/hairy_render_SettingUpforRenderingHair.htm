<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-E817B8C9-C621-4247-873E-A70734999B86">
      <meta name="indexterm" content="geometry approximation: hair">
      <meta name="indexterm" content="hair: geometry approximation for viewing or rendering">
      <meta name="indexterm" content="BSP tree: for hair">
      <meta name="indexterm" content="Hair Renderer shader: BSP tree">
      <meta name="indexterm" content="render options: geometry hair toggle">
      <meta name="indexterm" content="hair: deactivating geometry hair for rendering">
      <meta name="topic-type" content="concept">
      <title>Setting Up for Rendering Hair</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-E817B8C9-C621-4247-873E-A70734999B86"></a></span><div class="head">
            <h1>Setting Up for Rendering Hair</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-66529278-3FFA-4754-B008-30316960B4AF"></a></span>Before you render hair, either in a render region or to file, there are some settings
               that can make a big difference to the quality of the render. This includes setting
               the quality of the render, setting the geometry approximation, and setting up a BSP
               tree for hair. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0086"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-265B6B1C-0BDF-4AF7-AE1D-E50A2B49499C"></a></span>Selecting the Render Quality for Hair
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-938A820F-751E-4C95-9311-6035EB91EA0A"></a></span>You can choose to render hair with a low quality for quick rendering, or with a higher
                  quality rendering that takes longer to process. This setting affects only pre-processing
                  time (hair generation). If the hair doesn't have a lot of kink or frizz, and has few
                  segments (such as short hair or fur), use the Low setting for faster processing; otherwise,
                  use the High setting for better quality. 
               </p> <span class="anchor_wrapper"><a name="GUID-C38FAF99-4C68-468B-AA2F-ED726D09A9D5"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E0C1975F-EC45-4249-96A9-6C76635BEDFA"></a></span>Attach a shader to the hair object as described in <span class="char_link"><a href="hairy_render_ColoringYourHair.htm">Coloring Your Hair</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-BB7855FD-AE59-4762-B126-D368F0FDB049"></a></span>Open the Hair property editor and select either Low or High from the <span class="MenuCascade" id="GUID-2DC56229-3E2C-4101-B88F-0DAFF650CF77">Render Quality</span> list. 
                     </p> 
                     <div class="figure-anchor"><img src="../images/GUID-A6A94CF7-C984-4993-9B38-35CE468960CE-low.png"></div> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0088"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-792A750F-244E-4C32-8588-AC317749BB70"></a></span>Setting the Geometry Approximation for Hair
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-27931BFD-27FA-4E0B-9EC0-D17A1EFCA5EB"></a></span>When either viewing or rendering hair, you can set its geometry approximation. Geometry
                  approximation specifies how objects and curves should be tessellated (divided into
                  triangles and line segments, respectively, at rendering time). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-B50B1A5D-FBBE-4B85-B89E-5A845080126F"></a></span>When you set the geometry approximation for hair, a general Bézier curve is created
                  to represent the hair. You can reduce the number of segments in the hair curves and
                  still render a very smooth surface. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0089"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-0F3B104D-B61A-4C43-8452-44276648137E"></a></span>To set the geometry approximation for hair
                  </h3> <span class="anchor_wrapper"><a name="UL_0C3DD522F6B94B36A42C4659254A7C5C"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A13015FE-B667-4E35-A315-1FBD25477210"></a></span>Apply or edit a Geometry Approximation property as described in <span class="char_link"><a href="scel_properties_ApplyingandEditingGeometryApproximation.htm">Applying and Editing Geometry Approximation</a></span> [<span class="char_link"><a href="scel_cover.htm">Scene Elements</a></span>], and set options on the Hair tab. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-90B7F288-83FC-40D0-978A-7B7594C447C0"></a></span>For a complete description of all options, see <span class="char_link"><a href="property6061.htm">Geometry Approximation Property Editor</a></span> [<span class="char_link"><a href="property_ref.htm">Properties Reference</a></span>]. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-DF3C2186-96D9-4989-968F-350C2862F6CB"></a></span><div class="note-tip"><span class="label">TIP:</span>You can also press the + and – shortcut keys on the numeric keypad to respectively
                              increase or decrease the Level values. 
                           </div>
                        </div> 
                     </li>
                  </ul> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-008A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8A5B5F51-CFD2-433C-9AA6-F518C1C0A0B5"></a></span>Setting the BSP Tree for Hair
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-41EC9062-9379-48DF-830F-E38C90664288"></a></span>You can set up a BSP tree exclusively for rendering hair. These settings work in the
                  same way as do the standard BSP tree settings for the scene, but they are calculated
                  separately. This allows you to deal with any special considerations that hair requires
                  for rendering, apart from the rest of the scene. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-4839D999-1CC8-49F3-82F7-96F6FA18AA63"></a></span>You should spend a good amount of time tweaking the hair BSP settings to speed up
                  rendering. Draw small render regions on the hair as you go so that previews are fast.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-8C441355-F846-461F-974D-5DDF1FD9AC16"></a></span>For some general tips about rendering hair, see <span class="char_link"><a href="hairy_render_TipsforRenderingHair.htm#WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0099">Raytracing and Antialiasing</a></span>. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-008B"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-4A7BFC88-B7FB-4AE9-80E8-A6288B8ED17F"></a></span>To set up the BSP tree for hair
                  </h3> <span class="anchor_wrapper"><a name="GUID-51975CBF-6B86-4444-A428-1CAF34CA3A86"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B8FB4846-2D26-4DC9-B573-25DE00DE6BF2"></a></span>Open the Hair property editor and make sure that Instancing is <span class="MenuCascade" id="GUID-E39F37AE-71B5-4907-B602-91F9F6622137">not</span> enabled so that you are rendering the hair geometry, not instanced geometry. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-C2A8D166-B9CF-41C3-8CC0-549603B3E9DE"></a></span>Set the values for the <span class="MenuCascade" id="GUID-0E6DA17B-4F01-4306-A8FF-64D54FA78DD9">Hair Geometry</span> parameters on the same page: 
                        </p> 
                        <div class="figure-anchor"><img src="../images/GUID-07379BE4-B541-4A68-A652-5586181ACB26-low.png"></div> <span class="anchor_wrapper"><a name="UL_5FCA898F74424C619B87D37FC860BEE4"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-D31DCE0F-8820-4FD7-B987-969DDCB2EB3F"></a></span> <span class="MenuCascade" id="GUID-F872C08C-B63E-483D-BCD0-FC74F0DC65A3">Maximum Depth</span> is the maximum number of branches down the tree can go until it stops splitting into
                                 any further branches. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-DD97487B-D502-4C8F-9577-33E50A1799D7"></a></span> <span class="MenuCascade" id="GUID-D7E1CD5E-969D-4BAF-8CFF-F60A7E7640E0">Maximum Size</span> is the maximum number of hair segments each leaf on the tree can hold before converting
                                 that leaf into a branch to allow for further splitting. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-008D"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AE2D05BB-4246-4A3F-A06B-28429874623B"></a></span>Setting the Hair Chunk Size for Rendering
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-C173EA1F-4E03-4A9C-8CF7-090BBCC6897A"></a></span>When you render hair, it is split into separate mental ray objects in approximately
                  400,000-strand chunks. This results in approximately 40,000 hairs per object given
                  the default 10-segment hair. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-4024F36C-A169-409B-9BBD-3E6DEE3BD636"></a></span>Splitting the hair objects into smaller hair objects allows you to speed up the rendering.
                  This means that you can render more hair, which increases the overall realism. As
                  well, making smaller hair chunks can help render hair with motion blur because memory
                  requirements increase when motion blur is used. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-008E"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-C1F5CBF6-ABF0-4529-960F-3C03B96A86AB"></a></span>To set the hair chunk size for rendering
                  </h3> <span class="anchor_wrapper"><a name="UL_7BCDEBC8687E45F4B452673D3AD03CF7"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D247E795-8C69-4E0F-9F01-6076C4DC0EEF"></a></span>Enter SI_HAIR_CHUNK_SIZE as an environment variable in the <span class="filePath">setenv.bat</span> file (in the Softimage Application\bin folder) and enter a value for the maximum
                           hair strands you want per hair object. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-F277302D-290D-4DD2-BD71-2796A988EFCB"></a></span>For more information about setting environment variables, see <span class="char_link"><a href="config_envirovars.htm">Environment Variables</a></span> [<span class="char_link"><a href="config_cover.htm">Advanced Setup and Configuration</a></span>]. 
                        </p> 
                     </li>
                  </ul> 
                  <p><span class="anchor_wrapper"><a name="GUID-8FAECE1F-6B66-459B-9141-8E58C710AA0C"></a></span>Currently the default is set to 40,000 strands, so say you have 1000 hairs with 80
                     segments each, this give you a total of 80,000 strands. when you render this we'll
                     generate two hair objects of 40,000 strands each at render time to optimize it. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-008F"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-13F56995-1330-453B-AA25-A700A1412450"></a></span>Support for Multiple Shave (Hair) Instances
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-1D9F194B-B272-41EF-B541-86FF2A273707"></a></span>Render hairs can be generated differently depending on the number of processors that
                  a machine has. To fix this, you can split the hair generation into the same number
                  of batches as there are processors. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-D1D131B9-5461-4A9A-AB46-EE8F70970FF6"></a></span>As a result, you can have up to 8 hair (shave) instances for creating batches of hair.
                  You can set the environment variable XSI_SHAVEINSTANCES to control the number of instances
                  you want to use. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-CAB21986-ADAF-4E8D-8928-C9AA326A84A7"></a></span>For more information about setting environment variables, see <span class="char_link"><a href="config_envirovars.htm">Environment Variables</a></span> [<span class="char_link"><a href="config_cover.htm">Advanced Setup and Configuration</a></span>]. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0090"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8794DF13-0278-452A-A674-AF2C01AB9F9F"></a></span>Deactivating Hair for Rendering
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-006695EC-BF93-4709-8EB2-C54E0306F3F8"></a></span>Hair can often slow down the rendering of a scene, and you may want to render the
                  scene without rendering the hair. Instead of hiding the hair or putting it on a separate
                  scene layer and making that layer unrenderable, you can easily deactivate an option
                  in the Render Manager to achieve faster preview rendering. This applies only to hair
                  that uses the geometry render type, not instanced geometry. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS07FF3F5C1F4F2D4E8CBED7D77B97646A-0091"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-8CD74074-004D-4974-83F4-A66BF799284A"></a></span>To deactivate geometry hair for rendering
                  </h3> <span class="anchor_wrapper"><a name="GUID-071CDDFA-F017-42F5-9D70-C61E6F7E3763"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-ED9594AA-814E-42D1-987A-289580F69DE7"></a></span>Choose <span class="MenuCascade" id="GUID-4E43CAAE-96D3-429C-8435-28A65217FDA8">Render <img src="../images/ac.menuaro.gif"> Render Manager</span> on the Render toolbar to open the Render Manager. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-E7A4A924-DADF-4E88-9326-CE9ED8A0ADDE"></a></span>On the Renderer options panel on the right side of the Render Manager, make sure that
                           the mental ray tab is displayed. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-794D152C-83D6-49EE-9971-CD141BA4BFB7"></a></span>Then click the Rendering tab and deselect the <span class="MenuCascade" id="GUID-6A4EC8F5-850F-4655-9915-A22E09851623">Enabled Features <img src="../images/ac.menuaro.gif"> Hair Geometry</span> option. The hair is still generated, but not rendered. 
                        </p> 
                     </li>
                  </ol> 
                  <p><span class="anchor_wrapper"><a name="GUID-3EB2B3D6-2DFD-4CCF-9579-70FA31B3A8F2"></a></span>For more information about all of the rendering (and render region) options, see <span class="char_link"><a href="render_options_managing.htm">Managing Rendering Options</a></span> [<span class="char_link"><a href="render_cover.htm">Rendering</a></span>]. 
                  </p> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>