<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-2D267577-4F1A-4200-AA77-A39890B357C7">
      <meta name="indexterm" content="CrowdFX: creating the simulation">
      <meta name="indexterm" content="CrowdFX: pedestrian (locomotion) simulations">
      <meta name="indexterm" content="CrowdFX: adding simulations to the scene">
      <meta name="indexterm" content="CrowdFX: current crowd">
      <meta name="topic-type" content="concept">
      <title>Creating the Crowd Particle Simulation</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-2D267577-4F1A-4200-AA77-A39890B357C7"></a></span><div class="head">
            <h1>Creating the Crowd Particle Simulation</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-A6AC8BCB-526A-4E8D-B2BD-A8FCBA5E96EC"></a></span>  
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-E6D6D81B-9C2C-4870-BF13-0AFF071FEFEE"></a></span>Once you have loaded an actor, and possibly added one or more emitters, you can emit
            particles and create the crowd simulation. When the particles are emitted, an instance
            of each actor in the Crowd model is "attached" to each particle. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-24A1545A-74E6-4971-8974-C31BBE52BC2B"></a></span>If you don't want to use specific emitter objects, a default emitter object is created
            automatically when you create a crowd simulation. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-321F1A9B-F68E-4DDF-B572-680781C89F71"></a></span>In Softimage, you can create the <em class="strong">Pedestrian</em> crowd simulation, which is explained below. You can also have multiple crowd simulations
            in a scene. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_37F27830C4D243A9A779FDDB35093AC6"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-CDB8E190-2EEA-49B6-9733-FA3FE89CF73A"></a></span> Creating a Pedestrian (Locomotion) Simulation
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-1A64F2C1-06DC-4148-A629-13C1D0A477E3"></a></span>A pedestrian crowd simulation is a locomotion-type simulation that allows actors to
               move along the XZ plane. This lets you create typical crowd simulations of people
               walking around in the city, running through fields, teams playing sports, and so on.
               Of course, you can create other interesting effects as the scene requires, such as
               if you're using animals, zombies, cells, or other non-humans as the actors. 
            </p> <span class="anchor_wrapper"><a name="FIG_154361F55EB44A7FB4C357CE442390AA"></a></span><div class="figure-anchor"><img src="../images/GUID-924CE4B3-3763-493B-8464-3837FDDE150C-low.png"></div> 
            <p><span class="anchor_wrapper"><a name="GUID-BFDE7599-D286-4E77-82AD-ABBF33EEACB8"></a></span>To create a pedestrian crowd simulation, see the workflow mentioned in the <span class="char_link"><a href="GUID-77858F65-0FA1-4204-B4DE-7B8131E2FDE9.htm">Creating a Pedestrian Crowd Simulation</a></span>. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_A036BF54C9714463B444F6345CBF924A"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-57401BD5-4128-43FE-A692-3021C40F4415"></a></span>The Crowd Simulation Point Cloud
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-A2DB2962-68BD-4CA6-B533-55AB7DD2B878"></a></span>The <em class="strong">Point Cloud</em> object in the Crowd model is the point cloud that drives the crowd simulation. It
               has several ICE trees in it, as described here: 
            </p> 
            <div><span class="anchor_wrapper"><a name="GUID-22D0903E-FD8D-4C38-B717-28F881ABE03F"></a></span><div class="note-note"><span class="label">NOTE:</span>Choose the <span class="MenuCascade" id="GUID-2B54CB2A-86B7-48C0-874C-2196049B404B">CrowdFX <img src="../images/ac.menuaro.gif"> Simulation <img src="../images/ac.menuaro.gif"> Select Simulation Cloud Tree</span> command from the ICE toolbar to select this point cloud. 
               </div>
            </div> 
            <p><span class="anchor_wrapper"><a name="GUID-C50DDE31-523E-4A78-83A0-E0C258F7AC7B"></a></span> <em class="strong"> Modeling Region</em> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-8E6123EB-F8F2-47D7-8E96-849C7F7FB6C8"></a></span> <span class="anchor_wrapper"><a name="UL_48760792ACA44112B015111043C83FF3"></a></span><ul>
                  <li>The <em class="strong">Emit and Initialize</em> ICE tree emits the particles to which each instance of the actor proxy is "attached".
                     You can set the typical particle emission properties here, including the initialization
                     of the actor's locomotion and collision avoidance data (for locomotion only). 
                  </li>
                  <li>The <em class="strong">Get Animations Sources</em> ICE tree gets the source model's action source data as a reference to be used in
                     the simulation. 
                  </li>
               </ul> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-B4FABECC-9FDD-4CF1-B134-A06DE94339BB"></a></span> <em class="strong"> Simulation Region</em> 
            </p> <span class="anchor_wrapper"><a name="UL_305DBC5BDA8C4AE58CAD2951796290AB"></a></span><ul>
               <li>The <em class="strong">Animation Blending</em> ICE tree defines all possible animations that an actor is capable of. This can be
                  prerecorded animations or modified prerecorded animations. The names for the states
                  can be easily used in the Behavior tree in the state selector node. Therefore, this
                  ICE tree acts as the place for defining the libraries of possible movements for an
                  actor. 
               </li>
               <li> The <em class="strong">Behavior</em> ICE tree defines when to use an appropriate animation state that was defined in the
                  Animation Blending tree. You can also trigger different animations according to the
                  environment of the actor or just over time. 
               </li>
            </ul> 
            <p><span class="anchor_wrapper"><a name="GUID-255097AB-5D42-4EDA-94A7-BBC08D02D1AC"></a></span> <em class="strong"> Post-Simulation Region</em> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-9DDB2061-E6C0-41EE-BCAD-6421832AD19C"></a></span> The <em class="strong">Shape Instance Skinning</em> ICE tree stores data that is used by the realtime skinning shader when you view the
               Mesh Proxy in an OpenGL display mode, as described in <span class="char_link"><a href="GUID-9CE64265-93DD-4F5B-AEEE-2594DD00B212.htm">Viewing the Actor's Envelope</a></span>. Normally, the Actor Copies mesh is displayed as the deformed envelopes of each actor
               instance in any view. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_6A4E13D997084B46935755B5B130595F"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-F3D63E04-D5C0-4B8C-A814-6C19351327FF"></a></span>Adding More Crowd Simulations to the Scene
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-E212CBCB-7D00-44C9-BA77-191AB03C5D7D"></a></span>You can create multiple crowd simulations (multiple Crowd models) in a scene. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-2A3BDC9A-450F-48DC-A28E-67F0E906EE14"></a></span>The actors in each crowd simulation don't interact with each other because they are
               not in the same Crowd model and have no way of detecting each other (see <span class="char_link"><a href="GUID-F0ED94EA-F73F-4458-968F-C4C039EEC957.htm">Collision Avoidance Behavior for Actors</a></span>). As well, the actors in each crowd simulation respond only to the goals, obstacles
               (walls), and terrains that are in their own Crowd model. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-94564627-9B43-4658-BEC8-C488BFC5E403"></a></span>However, you can use the same original source model to create actors in any crowd
               simulation. Likewise, you can use the same goal, wall, and terrain objects in multiple
               crowd simulations as long as you identify them properly for each Crowd model. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-6783E60A-0AFA-4044-8522-351F1A3CA588"></a></span>To add another crowd simulation: 
            </p> <span class="anchor_wrapper"><a name="OL_BA875A784A334E358D4887F89561F31D"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-149F1F55-9250-46CD-B898-CF5CEEDFE166"></a></span>Choose the <span class="MenuCascade" id="GUID-D55C9647-8F47-4069-B57F-A9C34FB179D2">CrowdFX <img src="../images/ac.menuaro.gif"> Simulation <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> New Basic Crowd</span> command from the ICE toolbar. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-6DD49D90-1F40-4385-8150-77154AFD0FBC"></a></span>This creates a new Crowd model with the next available number appended to its name
                     (such as Crowd1, Crowd2, etc.), and containing all the typical nodes and groups -
                     see <span class="char_link"><a href="GUID-B28743FA-33EC-4DA3-877B-FA7E7FD97F68.htm">Anatomy of a Crowd Simulation</a></span>. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-63D478BB-E7FF-44C4-98FE-54B5CE988C18"></a></span>Load one or more actors as described in <span class="char_link"><a href="GUID-AF081E95-A70E-4BA6-A1DC-856C05C35A46.htm">Loading Actors for the Crowd Simulation</a></span>. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-E03B5F0A-9FAB-44C9-87D7-6972C8E16D1C"></a></span>Create one type of crowd simulation as described above. 
                  </p> 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-CD24C9C8-427A-45ED-818F-BD0F0E096D1F"></a></span>This Crowd model becomes the current crowd — see below. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_D90B3578F6754A46AEF725994A0148D4"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-D59CC5D2-1F28-4887-820A-7EB3F1847356"></a></span>Setting and Selecting the Current Crowd
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-23E7B16A-0438-4258-B9BD-83AB056DA1D4"></a></span>When you have more than one crowd simulation (Crowd model) in a scene, you need to
               set which one is the current crowd. When you create a new crowd, it is automatically
               set as the current crowd. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-21F4D338-A9F9-4924-AC2C-541FAE0F3F74"></a></span>Being the current crowd means that when you choose CrowdFX commands from the ICE toolbar,
               the current crowd is the only one to which these are applied. All crowds will simulate
               normally whether or not they are current. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-B3FE8790-778B-4080-BC44-AF0F5D5D762C"></a></span>To <em class="strong">set</em> the current crowd: 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-A154299C-3DF8-4BE9-AA5F-665384659E73"></a></span>Select any Crowd model in the explorer and do either of the following: 
            </p> <span class="anchor_wrapper"><a name="UL_F13A97C53CEA4E66BB742DC2AE3DD84D"></a></span><ul>
               <li>Choose the <span class="MenuCascade" id="GUID-1E9452F9-6957-414F-B6AD-D11569435C49">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Edit <img src="../images/ac.menuaro.gif"> Set As Current Crowd</span> command from the ICE toolbar. 
               </li>
               <li>Open its <span class="char_link"><a href="CrowdFX.htm">CrowdFX Property Editor</a></span> and click the <span class="MenuCascade" id="GUID-D64ECF6B-8F0F-4D31-AF26-81070CE245FD">Set As Current Crowd</span> button in it. 
               </li>
            </ul> 
            <p><span class="anchor_wrapper"><a name="GUID-7622A409-DF51-4DC1-84F8-28C01CA15D92"></a></span>To <em class="strong">select</em> the current crowd: 
            </p> <span class="anchor_wrapper"><a name="UL_AE6B4DB5BEC44B838CF7D8B7D01591BB"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-212457A3-E63F-4CEF-A7F7-7C6B8DB65869"></a></span>Choose the <span class="MenuCascade" id="GUID-1A7781AC-6255-4EC5-AB15-7A61BBEC996D">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Edit <img src="../images/ac.menuaro.gif"> Select Current Crowd</span> command from the ICE toolbar. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-27FCD728-AF39-458C-A553-F604B34F26DB"></a></span>All elements in the Crowd model are selected. 
                  </p> 
               </li>
            </ul> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>