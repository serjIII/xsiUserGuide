<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-49E6F6B9-6658-44AD-967C-22BBA531BB76">
      <meta name="indexterm" content="Face Robot: exporting a game rig (.emdl file)">
      <meta name="indexterm" content="Face Robot: Game Export tool">
      <meta name="topic-type" content="concept">
      <title>Exporting Game Rigs (Bones)</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-49E6F6B9-6658-44AD-967C-22BBA531BB76"></a></span><div class="head">
            <h1>Exporting Game Rigs (Bones)</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-E07635B6-260E-4B18-A116-EBC43EFE668E"></a></span>After you have solved, tuned, adjusted, calibrated, and animated a head in Face Robot,
               you can prepare it for and export it to a game engine using the Game Export tool.
               This tool exports the envelopes and bones in a model file (.emdl). 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-42552023-68EB-431E-928D-1774E62F068F"></a></span>To use Game Export, the head model in Face Robot must be a completed high-resolution
               mesh. Make sure that this mesh has all the wrinkles and folds built into its geometry,
               and that you're satisfied with the animation on it. As well, make sure that materials
               are applied to the head mesh, not to clusters on the mesh. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F93B6D9D-218B-4877-8CF2-D02AE1F01FAD"></a></span>Remember that the quality of the resulting game export rig will only be as good as
               what you start with! The game model that you create allows realtime playback of the
               performance and is ready to be brought into a game engine. 
            </p><span class="anchor_wrapper"><a name="FIG_86792A9E2CE14F128D570A55DA1416AB"></a></span><div class="figure-anchor"><img src="../images/GUID-DA9E7F7E-774C-48BB-9D8A-B3E2113524F8-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-97076683-2C81-4DD0-980D-A752C4DDB9F8"></a></span>On the left, the original high-resolution head in Face Robot. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-ED1A3793-F2B1-4B9A-B457-FBBF7B870418"></a></span>On the right, the low-resolution duplicate head that will be exported to a game. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0011"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-88B005E9-2F5E-419C-8CFE-8C8F80105A4B"></a></span>Overview of the Game Export Workflow
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-CA56E3F8-D316-4BA1-8FFE-CE2420B945E7"></a></span>The basic Game Export workflow involves the following steps. See each corresponding
                  section for details on what you need to do: 
               </p> <span class="anchor_wrapper"><a name="GUID-2CF94FF6-B6FB-4802-AAA1-A3342A6FA677"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8FB98555-D571-4B28-B951-A018ACA08104"></a></span>Create a game version of the original Face Robot head for exporting — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0016">Selecting the Game Mesh, Parts, and the UVs</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-905B6014-6445-48CC-91D0-BA3C02CF0B8F"></a></span>Align the game mesh and the original Face Robot mesh in the same physical space when
                        they're in a neutral/base state — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0016">Selecting the Game Mesh, Parts, and the UVs</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-7C3C6CD9-DBB1-4C49-9F3A-42DAEBF07D7D"></a></span>Click the Import/Export tab on the Act panel (see <span class="char_link"><a href="face_export_SavingandLoadingaFastPlaybackCacheFile.htm">Saving and Loading a Fast Playback Cache File</a></span>) and choose the <span class="MenuCascade" id="GUID-4C5D8B4E-2DAA-4AA7-A96B-9D4143771A21">Game Export - Plotted Bones</span> option. The Game Export property editor opens. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-A85FC4EA-C363-447E-9317-FE72F0448D99"></a></span>On the <span class="MenuCascade" id="GUID-CDF66BAB-FE7E-4624-AAEC-6A1E9D0295DD">Mesh</span> page in the Game Export property editor, select the game mesh and its parts to export,
                        as well as its non-overlapping UV set — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0017">Painting Bone Locators for the Envelope</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-D79BA476-8138-4575-9CFA-C1814F57095E"></a></span>On the <span class="MenuCascade" id="GUID-E075A3A8-EB4B-43B6-92A8-E1535F0304B7">Envelope</span> page, paint the bone locators on the face and set the other envelope options — see
                        <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-001E">Envelope Timeline Resampling Options</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8AF965B0-8DDF-4494-918B-C990C6A60FEF"></a></span>If you have built an eyelash rig using the Build Eyelashes tool, you can transfer
                        it to the game rig for export — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-001F">Transferring Eyelash Rigs</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-D85BBAA6-F189-46EA-8455-9AA19D9ADF99"></a></span>Export the envelope with the animation and then check for problems. Go back and fix
                        any issues on the envelope, if necessary. 
                     </p> 
                     <div><span class="anchor_wrapper"><a name="GUID-7D68B255-B6D4-4006-8B95-7ADE03B8F658"></a></span><div class="note-tip"><span class="label">TIP:</span>If you want to start again, delete the Envelope operator from the game mesh and delete
                           the Game model that has been created. 
                        </div>
                     </div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-12B75449-9AA3-4087-8F2A-D60BB0444419"></a></span>On the <span class="MenuCascade" id="GUID-FF05CF74-40ED-489E-B11B-82334F2EB07D">Normals</span> page, generate the rest and stress normal maps for the face — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0027">Generating the Masks</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-74E2F7C1-EF09-45A1-A8CD-6163FC8459D0"></a></span>On the <span class="MenuCascade" id="GUID-75E2813D-BFF3-4C4D-B60D-0D44B136A298">Masks</span> page, generate the normal masks to be exported — see <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0029">Building Realtime Shaders</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-1B5197CA-CB4F-4688-B90F-900FF78B677D"></a></span>On the <span class="MenuCascade" id="GUID-562FCE0D-58CE-4515-B67C-CE5EABE54314">Shaders</span> page, build up and apply a realtime shader to the game mesh to be exported — see
                        <span class="char_link"><a href="face_export_ExportingGameRigs.htm#WS38C9EED16FDE024591DF17B0520564F4-0029">Building Realtime Shaders</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-0A428024-D8B0-461E-8273-1BFF4BAF8254"></a></span>Create a flipbook to see how everything is going. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-C744B74E-B54F-4BD3-9E98-B793EB559ED2"></a></span>When you're done everything, export the GameExport model as an .emdl file. 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0012"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-A1EA5C13-BC7E-4812-8CC3-6EDF1CE43233"></a></span>Creating and Preparing the Game Mesh
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-C888F009-95C1-4204-BB90-CF599CB938FB"></a></span>To use Game Export, the original head model in Face Robot must be a completed high-resolution
                  mesh. Make sure that this mesh has all the wrinkles and folds built into its geometry,
                  and that you're satisfied with the animation on it. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-ACFBC829-44D9-4183-8CD3-F3B4E5D5234C"></a></span>As well, make sure that materials are applied to the head mesh, not to clusters on
                  the mesh. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-E87693EC-0947-46E0-A184-6ED6F28AE239"></a></span>Once you have a good head, you need to create a game version of it for exporting.
                  
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0013"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-2601B71D-B592-4628-A0F3-8636D21F90D6"></a></span>To create the game mesh
                  </h3> <span class="anchor_wrapper"><a name="GUID-9F7A98B9-1C81-47E7-9A29-CC7639F4F679"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-9E6F1A1E-25E7-4312-A7D1-C5973D0EAAF5"></a></span>Click the Export tab on the Act panel and choose the <span class="MenuCascade" id="GUID-899C31DB-34FF-42AD-B80B-3B66283E8649">Game Export</span> option. The Game Export property editor opens. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D54FEB8B-59BD-4036-872B-448505D4B400"></a></span>On the <span class="MenuCascade" id="GUID-9179164B-B5BB-48CD-B1E6-005A3FCDCB91">Mesh</span> tab in this property editor, click the <span class="MenuCascade" id="GUID-73CFC25A-156B-439D-BCAB-3E13BF5A696C">Use Duplicate</span> button to create a copy of the original Face Robot mesh. The copy is automatically
                           selected as the game mesh. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-9B2E08FE-815A-4B13-8C27-C96A602F882D"></a></span>You can then do either of the following: 
                        </p> <span class="anchor_wrapper"><a name="UL_8D40217BFC494C449C4D5E14DBA944F0"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-5B4C9BA3-9EDB-415B-84E1-F79BD3B3E4D1"></a></span>Leave the game mesh head "as is" so that you have a high-resolution mesh that's identical
                                 to the original head. The result is an optimized model that doesn't include the entire
                                 Face Robot solver, so it can be more easily exported. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-3526C576-2EFB-4E5E-BF4F-0FFC5D9785FA"></a></span> <em class="mild">or</em> 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-0DB281F7-7C9F-478B-828F-A395777CC530"></a></span>Create a lower-resolution version of the original Face Robot head for the game mesh.
                                 You can use the Polygon Reduction command to do this. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-18B1C330-6B95-44D9-8C85-5111E84C126B"></a></span>This is the most common route to take. Even though the head has fewer polygons, you
                                 can transfer the animation from the original head without losing quality. As well,
                                 all wrinkling details from the original head will be preserved in the game mesh. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                  </ol> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0014"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-BD80BACA-1FFC-439D-AA40-D334F3448EE7"></a></span>Aligning the Meshes
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-D6B5F1F3-B8B0-46E3-9DD5-6911C1D7743F"></a></span>Once you have created a game mesh, you need to align it and the original Face Robot
                     mesh in the same physical space when they're both in their neutral/base state. This
                     has implications for transferring the envelope later, so you should try to match the
                     location of the original and game mesh as closely as possible. 
                  </p> <span class="anchor_wrapper"><a name="GUID-EFD8B64A-1A48-456A-A067-2FCB610856CE"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-3FF7517B-194D-4F6A-839B-2B3CE7A1CD4F"></a></span>Because the original mesh is animated, it may be moving around a bit, so you need
                           to first mute the operators in the head's Animation construction history, which returns
                           it to its neutral pose. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-B19949B8-8E78-4433-864A-836C977EEF50"></a></span><div class="note-note"><span class="label">NOTE:</span>For information on operators and the construction history, see <span class="char_link"><a href="basic_mod_OperatorStack.htm">Operator Stack</a></span> [<span class="char_link"><a href="modef_cover.htm">Data Exchange</a></span>]. 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-70FEC39B-57E3-4C55-81F9-1F9176F19C02"></a></span>Select the points on the game mesh and then use the <span class="MenuCascade" id="GUID-9A60F8E6-295A-495B-BD92-BB4D4D276F61">Deform <img src="../images/ac.menuaro.gif"> Shrinkwrap</span> command on the Model toolbar to make it match exactly with the original head. Use
                           the <span class="MenuCascade" id="GUID-32668E24-B63D-435F-BC2E-EAC2614E22AC">Closest Surface</span> option. Remove the shrinkwrap operator from the game mesh's operator stack when you're
                           done. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-795CFD6B-54DD-4DFD-A311-17698C5D9D3D"></a></span>When you're done, unmute the operators in the head's Animation construction history
                           so that you're using the correct animation data. 
                        </p> 
                     </li>
                  </ol> <span class="anchor_wrapper"><a name="FIG_36CB6CE6A1B84216803CD9856C0B742B"></a></span><div class="figure-anchor"><img src="../images/GUID-1FC5311F-1AEF-4047-BF29-85AA8295BD32-low.png"></div> 
                  <p><span class="anchor_wrapper"><a name="GUID-9153C567-0062-42A7-8FD9-DED53CC76223"></a></span>Original high-resolution head is spatially aligned with the game mesh. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0016"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-B3176A2F-E5AC-4D24-BDFA-7AF6F8D58213"></a></span>Selecting the Game Mesh, Parts, and the UVs
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-75DE2558-91E9-4E5B-A94A-A51A9068ED85"></a></span>After the head meshes are aligned, you need to select the mesh that you want to export,
                  also known as the game mesh. 
               </p> <span class="anchor_wrapper"><a name="GUID-72AF1B99-436E-4B3A-93C9-B292632193FE"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8F71B77F-842F-4CA3-93EA-979CBB666FDD"></a></span>On the Mesh page in the Game Export property editor, click the <span class="MenuCascade" id="GUID-72AC8EC2-242B-4841-8B67-5ABDF8042717">Pick Mesh</span> button and select the game mesh that you want to export. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-79F6F203-AFF7-41B2-BFA2-0A1A57F92F29"></a></span>If you clicked the <span class="MenuCascade" id="GUID-5E903868-69E5-4841-86F0-209E36F048C3">Use Duplicate</span> button to create a copy of the original Face Robot mesh, the copy is already selected
                        as the game mesh. 
                     </p> 
                     <div><span class="anchor_wrapper"><a name="GUID-58EB68D5-BD09-4184-8169-8EEB48C8018A"></a></span><div class="note-tip"><span class="label">TIP:</span>Use the buttons on the Display page to easily hide/display and select the original
                           Face Robot mesh and the game (export) mesh. 
                        </div>
                     </div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-731F30C4-A9B7-4DAE-99AA-113016DA1972"></a></span>Click the <span class="MenuCascade" id="GUID-BACE916F-5F91-4B36-A65F-D3AA2A01B105">Copy Face Parts</span> button to copy the character's eyeballs, teeth, and tongue meshes to the game mesh.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-78BF3F42-C4EA-44EB-8C8E-35DD600DB961"></a></span>If your character has eyelash meshes, select the <span class="MenuCascade" id="GUID-30B59A8F-A2C7-4553-B9EC-A4D211553821">Eyelashes</span> option to copy those meshes to the game mesh. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-39E31FDE-7CCA-48C1-AEF6-BC4E6A3ADD82"></a></span>You also need to select a set of UVs for the game mesh, or generate a new set. The
                        UVs should be non-overlapping with as little discontinuity as possible. If you want
                        to reuse the same UVs from the Face Robot mesh, you can use GATOR to transfer the
                        UVs from it to the game mesh. 
                     </p> 
                     <div><span class="anchor_wrapper"><a name="GUID-D5D92F9A-D2B9-4286-988C-DF2B00195FE9"></a></span><div class="note-note"><span class="label">NOTE:</span>For information on GATOR, see <span class="char_link"><a href="basic_mod_AttributeTransfer.htm">Attribute Transfer</a></span>. 
                        </div>
                     </div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4EE3B60C-4EC9-4157-919B-7271AD8F6EE2"></a></span>Do either of the following: 
                     </p> <span class="anchor_wrapper"><a name="UL_614844B255544061B1C786D7421003C9"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-5010C5E6-B0BA-4223-ABBA-D4BFAC6EF710"></a></span>On the Mesh page, select <span class="MenuCascade" id="GUID-64589CB4-B2E7-4A29-8218-256A746E07F8">UV Map <img src="../images/ac.menuaro.gif"> Pick UV</span>. This opens an explorer from which you can select an existing UV set. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-94B44835-E3E0-418C-81B8-77466A186193"></a></span> <em class="mild">or</em> 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-1906AB9A-371A-4E1D-AA47-E26A784576D2"></a></span>Click <span class="MenuCascade" id="GUID-994D07EF-9051-441D-BD60-38A22851955F">UV Map <img src="../images/ac.menuaro.gif"> Generate</span> to create a new set of UVS called <span class="MenuCascade" id="GUID-AB9CE371-8AD4-452B-8449-81C66F3DD617">texcoords</span>, which is based on the angle grouping. You can find this set under the geometry node
                              of the game mesh head or in the Texture Editor (press Alt+7). 
                           </p> 
                        </li>
                     </ul> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0017"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-F1A0309B-7ED1-4067-B70C-7E84D4671665"></a></span>Painting Bone Locators for the Envelope
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-8D5E172D-80D8-4D15-BEE6-6B8878BA59F2"></a></span>The purpose of painting locators is to define the location of the bones that will
                  be exported to your game engine. These are the bones that deform the envelope. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-59AB63C5-E6B5-4B38-AB3B-E404A9222F5F"></a></span>You paint the locators on the original Face Robot mesh, then transfer the envelope
                  weights and/or animation to the game mesh. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-8F69077E-DFBD-49D2-A15A-AC17C78FE9B9"></a></span>You need to paint locators at anchor positions in the areas of greatest deformation,
                  such as the mouth region. Every major deformation area should be covered by a bone.
                  
               </p> <span class="anchor_wrapper"><a name="FIG_37655C319C00434C85E35A1E867853F5"></a></span><div class="figure-anchor"><img src="../images/GUID-A66662B7-7FAC-4BED-B3E2-D931E4484228-low.png"></div> <span class="anchor_wrapper"><a name="TABLE_F1E12CFA944643D7AA52A47A0234C1F9"></a></span><div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col>
                        <col>
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-6A08A51F-6CCA-4E73-A2F7-00A4B3ACA6E2"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-35209637-CA44-410E-80BC-D70CD47ED2D0">A</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8B8B664A-2253-47B0-98BA-0D5D56A55C7A"></a></span><p class="table-body">Inner brow </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-24C7FE46-1A61-4E7B-8D77-1B7BCADA616F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-3E633ADD-050E-4500-A92A-25B0A1E04542">B</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-58ED9DDE-4CF6-4FB9-AAB1-DEA4733816E1"></a></span><p class="table-body">Top of the eye </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-C57634F6-7F2B-4C6C-ABE0-22E85210682C"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-D7E495DB-D16B-4E65-A63A-1ADD7D18BBCF">C</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-2C6BC350-562F-4B33-9C69-0E74D250E987"></a></span><p class="table-body">Bottom of the eye </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8618B190-F7EC-4044-9E58-B349F9D6CADE"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-D205BA3A-3E2A-42D0-922B-20D9376D2288">D</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-1DC6504D-8892-4E1D-94B5-264C3BE5B54F"></a></span><p class="table-body">Side of the nose </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E2BF3D32-7262-4291-9243-150C39162514"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-76BEC1E4-8803-4D7D-880E-217DCD23A387">E</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-0D48A153-CE02-4D4F-B433-9877DAF8592C"></a></span><p class="table-body">Tip of the nose </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-55D9714F-75F6-4C93-82DB-73DBB98485AD"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-1A7A1AA3-7231-40CA-B363-F78D27AF1F3E">F</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-952EE1C3-CB2C-4C3B-80CF-9DCBC4B6B1F6"></a></span><p class="table-body">Nostril </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-7EF92CEF-4F56-4821-A715-BA9E3F061907"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-F74EBE82-F111-494A-8096-6EBE60D8694B">G</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8BCF97C1-0B18-4937-9E0D-62344246DD50"></a></span><p class="table-body">Nasolabial fold </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-3DBDE452-B305-4B2D-84F8-773794E47855"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-C204D4C9-7607-4578-9F47-A4473AAC951D">H</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-DF5C9AE8-3FB3-4639-B4B3-C51D93DA2E39"></a></span><p class="table-body">Above lips (3 markers) </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-A512E656-4268-4673-8C83-D803B3B6FC7F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-19963E61-45F3-4768-A426-7C1E4F8528E9">I</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-85777D0B-0205-4292-B1F9-777DF9E547CC"></a></span><p class="table-body">Mouth corner </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-EC4E15D4-AA41-4F0E-A6F8-17BC15CBCB6C"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-58E09981-F740-47A7-8E17-C8230DCB5A29">J</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-24B7EFC6-BBD2-4F01-BC7C-9B8C19BD0818"></a></span><p class="table-body">Below lips (3 markers) </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-BED24753-9CF4-495A-8657-AA2B688F378A"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-A3990A18-DC0A-4FC0-A559-6765CC3350CF">K</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-DF4EB3AC-77EF-4837-B569-1F6B05C88327"></a></span><p class="table-body">Chin </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-9FBF2145-4177-4F84-A225-FCEABA5AF6BF"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-0EFF5C4C-5243-4E82-A4FC-7B405F04C6C5">L</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E941104F-AA71-4751-ADFC-6E6C48EE7E52"></a></span><p class="table-body">Jaw bone </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-85BBF41D-5F35-4F30-8F41-06EA728F8221"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-F8C8E9B4-BE56-48AE-8A94-63076BE60456">M</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-73BD7819-247D-4AF2-8FF5-2C488F938FA4"></a></span><p class="table-body">Cheek puffer </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E53E9AF6-4792-4D32-B7AB-1EC0348075C2"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7885DAF2-5EBF-4C3F-BAD4-D3F816B4C868">N</span> 
                           </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8FED565D-5757-471C-92FB-32D3232E0638"></a></span><p class="table-body">Cheek bone </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
               <p><span class="anchor_wrapper"><a name="GUID-03CE4D1A-7A7D-473A-8AA7-0408A9E1B79E"></a></span>You want to capture the face's deformation as accurately as possible with the minimum
                  number of bones (30 bones is often the maximum number used in games). This is often
                  a trial-and-error process requiring a few iterations to get the bone positions just
                  right. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-06D922CC-4808-436C-ABBC-7E8E4BBF0B33"></a></span>Always refer to your reference animation or live action video to figure out which
                  areas of the face move the most. 
               </p> <span class="anchor_wrapper"><a name="GUID-1432E25C-FAE2-4D05-BF63-007BBAE9EA55"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8EC6FE07-81CA-49E1-8598-E6BD147AB472"></a></span>On the Envelopes page in the Game Export property editor, click the <span class="MenuCascade" id="GUID-94B80D10-1562-4D5F-8A8D-760941CB212E">Locations</span> button and start painting on the map where the bones should be. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-F8F26C53-23D4-41DB-83BA-6D8688D8FF1C"></a></span> <em class="mild">or</em> 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-BC25213E-E3AE-4515-A0C6-BB872B423F55"></a></span>If you already have a weight map created for the locators, click the <span class="MenuCascade" id="GUID-2DBB5F40-5728-4956-AB2F-B89B762F00B2">Import</span> button to open a browser from which you can select the weight map. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-ED54014C-B865-4ADF-A211-81CA4A6D9A14"></a></span> <span class="MenuCascade" id="GUID-F77EDDA8-6A3D-4F84-943E-3FE5736E73DB">Tips for Painting Locators:</span> 
                     </p> <span class="anchor_wrapper"><a name="UL_7B1EDF465BED435D86F935B3108D80EB"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-69E4BDFF-847A-45A9-A40D-55FECB5717FE"></a></span>Generally, it's good to start with more bones, and then test; if necessary, you can
                              then adjust and optimize the bone locations. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-63C1EAFF-040D-43EB-B802-D005A0C634CA"></a></span>To avoid problems like bone flipping, don't paint in highly-detailed areas. Stay outside
                              the lip area to prevent this from happening. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-103BF19B-66BA-45F1-983A-78B7DA694D35"></a></span>The corner of the mouth can have points that rotate, so it's best to paint outside
                              this area. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-B0B2AE78-E0EC-4DC7-AB11-FFAD5D61C5B1"></a></span>Points within wrinkles are best handled by the shaders instead of painting locators.
                              
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-CBFC3FAF-AB84-4F75-81E8-7A2818F232FB"></a></span>To tweak the bone rotations, click the <span class="MenuCascade" id="GUID-CEEC27AF-96DD-49DB-9F5C-1FD97484C9A9">Bone Spin</span> button and adjust each locator's rotation. Doing this can prevent envelope fitting
                              problems. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-5B109675-34E2-4CCE-AAEA-9333E022977E"></a></span>The current number of Bones you've painted is displayed in the upper-right corner
                              of the viewport (DisplayInfo set). The maximum number of bones allowed for most games
                              is 30. 
                           </p> 
                        </li>
                     </ul> 
                     <p><span class="anchor_wrapper"><a name="GUID-0371F46B-74F4-4373-AF8C-602FF52D2049"></a></span>For more information about using the Paint tools, see <span class="char_link"><a href="face_tune_PaintingWeightMaps.htm">Painting Weight Maps</a></span>. 
                     </p> 
                     <div class="figure-anchor"><img src="../images/GUID-B0EA5983-1D64-49CB-A125-982F07562292-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-3535B5EF-34FA-47DA-A7C2-F3819BDAF406"></a></span>Paint where you want bones that deform the envelope. Start off with highly deformed
                        areas such as the mouth. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-01869DB6-2A28-4963-8E28-52C05CBDADCE"></a></span>Create a flipbook to see if there are any problems with bone flipping, etc. Then go
                        back and repaint the locators as necessary. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4ED94423-C74A-4830-B318-49184D5294AF"></a></span>Click the <span class="MenuCascade" id="GUID-1A6BACA7-4B6C-4DAB-99C7-3EF33373829B">Hierarchy <img src="../images/ac.menuaro.gif"> Jaw Parent</span> button to paint the area around the jaw that will be deformed by the jaw bone (mandible)
                        at runtime. This creates a jaw map. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-9221FBC1-4A59-4E54-B046-BF6829ED8E6E"></a></span>By painting the jaw bone properly, you can improve the quality of interpolation between
                        animation clips. If you don't create a jaw map, the jaw will not be parent to any
                        bones. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-5CB8396C-A9CA-44BC-A83B-BE772A277667"></a></span>Clicking the <span class="MenuCascade" id="GUID-63828B8E-F5CF-4FB6-9F93-0952BB5F80C4">Jaw Parent</span> button activates the paint brush and hides the game mesh so that you paint only on
                        the original high-res mesh. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-5FD46E10-B9CB-49E3-98E6-4C8A30069424"></a></span>You should select a frame where the mouth is open so that you can more easily paint
                        the bottom half of the mouth and jaw. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-097CFB76-6C11-40B7-9059-44119B150F2A"></a></span>Smooth out the edges between the jaw and the rest of the head. 
                     </p> 
                     <div class="figure-anchor"><img src="../images/GUID-17BC1E2C-ED6B-4C00-AAA2-A3EA45E37C19-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-8818724F-FC65-4A5C-BA65-486604F62CC7"></a></span>Paint the area that you want to be deformed by the jaw bone. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-48CA99E9-4CDC-415D-9F73-E56A38929C23"></a></span>Click the <span class="MenuCascade" id="GUID-AEA8983E-BC85-455A-8F0A-5B5D3998D31C">Hierarchy <img src="../images/ac.menuaro.gif"> Neck Parent</span> button to paint the area around the neck to define which part of the skin is parented
                        to the neck bone. This creates a neck parent map. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-47C360E8-92D2-4B90-B5E7-7FAB0C365AFD"></a></span>If you don't create a Neck Parent map, the neck will not be parent to any bones. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-E82AD287-8B3E-4ABA-A8B3-C383B0F5A975"></a></span>Clicking the <span class="MenuCascade" id="GUID-6A761565-8D2E-42AF-95E4-376056C8F813">Neck Parent</span> button activates the paint brush and hides the game mesh so that you paint only on
                        the original high-res mesh. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-4D62BFEF-F1FF-47B4-9ECA-264179A5F9AA"></a></span>Smooth out the edges between the neck and the head. 
                     </p> 
                     <div class="figure-anchor"><img src="../images/GUID-5E83B5FA-A67A-4671-B04B-F00D064550A1-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-80916F45-21EE-431A-A92E-DDDAA324A23A"></a></span>Paint the neck area that you want to be parented to the neck bone. 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-001C"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8BE799C8-F3CC-4906-85FA-2E8FC696F65A"></a></span>Setting Envelope Options
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-881F9243-C0A5-48B3-9DFE-D13DF02494BA"></a></span>After picking the bones and painting the jaw and neck maps on the original high-res
                  mesh, Face Robot can automatically set envelope weights on your low-res mesh and transfer
                  the animation from the high-res mesh to it. 
               </p> <span class="anchor_wrapper"><a name="GUID-B9D5C7D7-34B6-4D71-B4D9-1EDB07A14B1C"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-69BFB0E0-9985-4FEB-A536-B17C6FBAFF6E"></a></span>Set the options in the <span class="MenuCascade" id="GUID-9143627E-CD3A-4FF9-91E6-772A3AF95D23">Envelope Settings</span> group on the Envelopes tab in the Game Export property editor — see <span class="char_link"><a href="propref_facebot_GameExport.htm#WSD5274B1FC2E34F4894871ED78D7E5A02-002B">Envelopes</a></span> [<span class="char_link"><a href="property_ref.htm">Properties Reference</a></span>] for details. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B62F99A8-021F-4DBA-9822-FC2272A1B302"></a></span>Before you export, you may want to smooth the envelope in the difficult areas around
                        the eyes and mouth using the options in the <span class="MenuCascade" id="GUID-B573003E-9D51-4BC1-9EA7-3B2F14B2E8EA">&lt;Driven&gt; Envelope Smoothing</span> group. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-75F1F219-8C7D-44B0-9698-7B58BB3DC5EA"></a></span>Note that <span class="MenuCascade" id="GUID-3EDED404-8C6C-4DAF-BBB9-A1365EF523C8">&lt;Driven&gt;</span> options have are extra steps that you can perform manually after the envelope has
                        been generated. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-32D4AC7C-4F7A-484A-A4DE-872A3955480B"></a></span>When you're done painting and setting up the envelope, export all this information
                        to the game mesh by clicking the big <span class="MenuCascade" id="GUID-58400EDC-06D8-4B7B-8BFF-159748681A4C">Generate</span> button. 
                     </p> 
                     <div class="figure-anchor"><img src="../images/GUID-21C3A307-F888-44C9-A3D9-1EE2861063C1-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-62462BD4-852D-49E9-9099-2ECB88FA54E7"></a></span>The envelope weights and animation are transferred from the original high-res mesh
                        to the low-res game mesh. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F6270979-4496-459C-955C-249C26E0FF1A"></a></span>After the animation is transferred, check that the general deformation is good on
                        the low-res mesh envelope by moving the nulls on the face. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-8AB76F1F-97D6-4878-A3A8-C184BE22C80D"></a></span>Scrub through the timeline or create a flipbook of the animation and study the low-res
                        mesh to check for flipping problems: if you notice some flipping, it indicates that
                        a locator was not placed properly. You can either remove the locator or pick a new
                        position for the locator and re-export it. 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-001E"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AD616857-D999-494A-9AEC-8986562FA388"></a></span>Envelope Timeline Resampling Options
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-881F9A53-22DC-4BA2-9E35-7DF2546D573D"></a></span>Select the <span class="MenuCascade" id="GUID-72352A5C-24F0-40EB-AF5B-26C75B792EA7">&lt;On Generation&gt; Envelope Timeline Resampling</span> option on the Envelopes tab in the Game Export property editor to have the Envelope
                  Timeline Resampling Settings group appear. See <span class="char_link"><a href="propref_facebot_GameExport.htm#WSD5274B1FC2E34F4894871ED78D7E5A02-002B">Envelopes</a></span> for details. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-8A4FC260-454A-4451-9F9A-0C94B459813A"></a></span>Resampling can be used to improve the quality of the envelope if it does not fit a
                  certain animation. This option should be used only if there is animation associated
                  to the export. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-33A3C62F-1C9B-4892-892F-7F433E5ABD7E"></a></span>The Envelope Timeline Resampling options work by reconstructing a set of best possible
                  envelopes per point per frame along a timeline, and then fitting the resulting combinations.
                  This allows the game export mesh to match the closest possible weight combination
                  to the Face Robot mesh. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-001F"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-522545D5-2B1A-4F07-983B-6C6F37BDDD01"></a></span>Transferring Eyelash Rigs
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-13749338-AF48-4B16-9635-F2D5CD88C57A"></a></span>If you've created an eyelash mesh rig using the Build Eyelash tool (see <span class="char_link"><a href="face_tune_eyes_BuildingEyelashMeshes.htm">Building Eyelash Meshes</a></span>), you can transfer it to the game rig for export using the Eyelash options in the
                  Game Export property editor. 
               </p> <span class="anchor_wrapper"><a name="FIG_D4FE72CD5587472DABE8BD13F1696C2F"></a></span><div class="figure-anchor"><img src="../images/GUID-0BCA971E-F00D-41E2-8683-D5536D2CCA4B-low.png"></div> <span class="anchor_wrapper"><a name="GUID-248C8D00-132E-410C-9047-973F6E3302D6"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-02D32B26-6BA8-4628-80D2-49CF9CC106CE"></a></span>On the Mesh tab, select the <span class="MenuCascade" id="GUID-99E57BC1-1790-47B3-BDBA-025ABA06BF89">Eyelashes</span> option in the <span class="MenuCascade" id="GUID-2A4753B6-D0D2-4D83-99BF-88DD79832E1D">Face Parts</span> group, then click the <span class="MenuCascade" id="GUID-4A24B860-0FE2-4E71-A6F4-9B10D413A528">Copy Face Parts</span> button to transfer the eyelash rigs to the game rig. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-12AF81DF-BA6D-4B72-8C56-1D4BD9409788"></a></span>On the Envelopes tab, select the <span class="MenuCascade" id="GUID-1722C1E2-621E-4BD7-B2A0-5544492520FE">Envelope</span> option in the <span class="MenuCascade" id="GUID-93D48B5E-AE50-41E3-BD57-C3ABB5641E07">Envelope Generation</span> group to have all envelope settings appear. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-D1BD71CB-B880-419D-BE85-FD92427480CF"></a></span>Select the <span class="MenuCascade" id="GUID-D2D837D4-5EFC-4A92-BA1C-7F0529D2C2A9">&lt;On Generation&gt; Envelope Timeline Resampling</span> option to have the Envelope Timeline Resampling Settings group appear. 
                     </p> <span class="anchor_wrapper"><a name="UL_EC03B3097523474DBEBBB01F76807D1E"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-48145396-55D9-4638-9D77-667B3295B663"></a></span>If eyelash meshes are found, they are automatically enveloped to the head and their
                              animation is transferred when you click the big <span class="MenuCascade" id="GUID-465FB378-F6CD-4F46-B357-FBE8B27DB573">Generate</span> button. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-246589A1-8871-4A28-94D3-CF388FC24191"></a></span>If eyelashes are attached to the rig after the game export has been done, you can
                              be transfer them by clicking the <span class="MenuCascade" id="GUID-D4C87198-C2F0-4B31-8445-03884E2E705A">Transfer Eyelash Envelope</span> button at the bottom of this tab. 
                           </p> 
                        </li>
                     </ul> 
                     <div class="figure-anchor"><img src="../images/GUID-9BC6EAFC-A5FB-4AAA-8131-BE32C3A46C97-low.png"></div> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0022"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-E410F123-6773-4AF6-8275-60EF125C3AF7"></a></span>Generating the Normal Maps
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-563D7BA8-C273-4CAA-BA49-469B3CC4A4E6"></a></span>Face Robot can automatically generate stressed and unstressed (rest) normal maps to
                  "feed" the runtime shader. These maps take all the surface details from the original
                  high-resolution Face Robot mesh and transfer them to the game mesh. Normal maps need
                  to be generated to get a good looking export. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-4312CA85-1C7A-48CD-BD5C-7F84CB36748B"></a></span>For the best quality, you should also generate a stressed mesh, then export it and
                  tune the visual quality of the wrinkling by using general modeling and detailing in
                  a paint program (such as Autodesk Mudbox, ZBrush, etc.). Then bring it back into Face
                  Robot and pick it as the stress normal map to create better definition for the facial
                  expressions. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-AC39A7FC-AA1D-4CC0-A527-8264D35759F3"></a></span>On the Normals page in the Game Export dialog box, select the options for the maps
                  that you want to generate — see <span class="char_link"><a href="propref_facebot_GameExport.htm#WSD5274B1FC2E34F4894871ED78D7E5A02-0032">Normals</a></span> for details. 
               </p> <span class="anchor_wrapper"><a name="TABLE_C3D8B63B75374081ACC2451E942E8E00"></a></span><div class="table_NotRuled">
                  <table cellpadding="0" cellspacing="0" class="not-ruled">
                     <colgroup>
                        <col>
                        <col>
                     </colgroup>
                     <tr class="not-ruledOddRow">
                        <td class="table-body">&nbsp; <img src="../images/GUID-607D94E0-FEB2-429F-A110-21E4731E7448-low.png"> 
                        </td>
                        <td class="table-body">&nbsp; <img src="../images/GUID-7CF3B054-0984-4362-AC14-11C3F327553E-low.png"> 
                        </td>
                     </tr>
                     <tr class="not-ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-DE45E80D-194C-456C-B65E-511F2FA8BDD5"></a></span><p class="table-body">A rest normal map is generated for the face. </p> 
                        </td>
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-351ED557-1085-43C9-8C2E-7E7EF4B36E40"></a></span><p class="table-body">A stress normal map is generated for the face. </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0025"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-BB5D83B5-96ED-401C-A404-259631F18539"></a></span>Creating a Stressed Mesh
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-E1922E1A-BA14-45EA-9577-EFD7FCAAF401"></a></span>For the best quality, you should generate a stressed mesh, then export it and enhance
                     the visual quality of the wrinkling by adding detail in a paint program, such as Autodesk
                     Mudbox or ZBrush. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-800557DB-A606-4BCC-A73A-CE30819F41D7"></a></span>Then when you bring it back into Face Robot, you can use it as the stress normal map
                     to create better definition for the expressions. 
                  </p> <span class="anchor_wrapper"><a name="GUID-B1E9DCF9-D9D6-4BD8-97B4-85F98ACB67A7"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-32153B53-71B4-47A6-8953-99B88BE70969"></a></span>You need to generate the rest and stress normal maps before you create a stressed
                           mesh. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-1517044C-82AC-46A9-A6E7-C79F24CC7329"></a></span>On the Normals page in the Game Export dialog box, select the <span class="MenuCascade" id="GUID-81F49B7F-1B09-454D-966D-76CA0068BEA2">Stressed Mesh</span> option to create a version of the game mesh with the results of the stress map applied
                           to it. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-4054C53C-FFE2-42CB-B746-D7F48A6AF4CF"></a></span>Click the big <span class="MenuCascade" id="GUID-39BD95B8-BB56-4D42-A40C-47DBB48F9921">Generate</span> button to generate the stressed mesh. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-CE14C22A-96DE-422C-BAC7-98968A8F271B"></a></span>Bring the stressed mesh image into a paint program and add detail to it as you like.
                           
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7DB1FDA3-17D4-4396-9FE9-0B1EE648CBF3"></a></span>Back on the Normals page, select <span class="MenuCascade" id="GUID-9EFA46E4-07B8-43FB-AD47-D685D7C0FB8C">Use Custom Stress Mesh</span> to pick and use a specific mesh that has been generated from a stress map. If not,
                           then the current stress map is used. 
                        </p> 
                        <div class="figure-anchor"><img src="../images/GUID-D72C8FC3-4948-4186-AD11-34ADA6F5249B-low.png"></div> 
                        <p><span class="anchor_wrapper"><a name="GUID-CDDF9863-C50B-4131-922A-3DE1DC47CC3B"></a></span>On the left, the original high-resolution head in its rest state. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-2948BB08-E9E0-4A3B-AF06-33B9CB6229BB"></a></span>On the right, a stressed mesh version of the game mesh is created using the results
                           of the stress map applied to it, which causes the man to age quite a bit. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0027"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-DA670058-1BC7-42B1-98F6-739F7E17CE97"></a></span>Generating the Masks
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-94217BD8-4E30-460E-AB92-E89068A24773"></a></span>Masks modulate the blending between the stress and rest normal maps. They are automatically
                  generated in 1, 2, or 3 vertex color map sets, where each color channel contains one
                  mask (3 per vertex color map) so that you can have 3, 6, or 9 region masks. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-B212F37A-B850-4DE4-8F09-726E5F4CA2FD"></a></span>Masks consolidate the region deform areas on the face (see <span class="char_link"><a href="face_tune_AdjustingtheRegionDeformAreas.htm">Working with the Region Deform Areas</a></span>) into a smaller set of regions (as many as 9) for the game engine. One mask can cover
                  a group of deform areas, such as one mask for the forehead, one for each cheek, etc.
                  
               </p> <span class="anchor_wrapper"><a name="GUID-E78B88C3-9AD1-4B8C-8EEF-AE063001D571"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-6D4FBF4A-DC0F-4478-98D6-850F85F55510"></a></span>On the Masks page, select <span class="MenuCascade" id="GUID-02E4D4ED-8147-461D-8B15-D25E30CE1FAF">Generate Masks</span> to generate the masks. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-A8683294-1325-4B83-9725-200608DD3BC8"></a></span>Select the <span class="MenuCascade" id="GUID-01E20A8D-D0B4-4940-9004-55A9CE4074A1">Animate Masks</span> option to generate the animation on the masks. The animation determines which area
                        of the mask turns on or off at the right time to reveal the stress normal map. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-49CBCC3C-0E50-4705-8059-86D6D4AF4EC0"></a></span>You can control the animation of the regions using the sliders in the Region Masks
                        property set (see step 6 below). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-D9F9F216-941E-43C6-8110-7C9DD7879891"></a></span>Set the number of regions on the face that are to be used for generating the <span class="MenuCascade" id="GUID-E944F84E-7967-43EF-826D-B7020022C8DE">Region Masks</span> for the shader: 3, 6, or 9. Each mask can control three regions of the face at once.
                        It's recommended you use 9 regions for the best results, which creates 3 region masks,
                        as shown below. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-7DA6883B-17FA-4E7E-ADC1-27E37EB157C8"></a></span>When you've set all the mask options, click the big <span class="MenuCascade" id="GUID-F7FB0306-75AE-4505-897A-7762243406A8">Generate</span> button to generate the masks you've selected. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-AF340173-5C75-4369-B609-E99E7D2A8E1F"></a></span>In the explorer, check under the game mesh's cluster to see the masks that are generated,
                        as well as a tangent operator. 
                     </p> <span class="anchor_wrapper"><a name="UL_73FF61CE932240EA983D7C4F85FFDB5A"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-A0603A5D-6490-44F4-B7CC-7650736C3A2C"></a></span>Click the <span class="MenuCascade" id="GUID-1679B906-DD8F-4F0C-9218-FA1EE9DFE74A">Toggle Display Map</span> button repeatedly to toggle through the masks that have been created for the game
                              mesh. 
                           </p> 
                        </li>
                     </ul> 
                     <div class="figure-anchor"><img src="../images/GUID-6CD3979F-BD32-420E-9C79-B5C443560692-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-EDAE354E-BC0A-4348-8344-2C55DEF8FECC"></a></span>Masks are generated for use by the shader. Each mask shows a group of three different
                        regions of deformation that are controlled by that mask. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F75DBFA7-48E8-42A4-BB09-7ED65264939F"></a></span>Use the Vertex Color tools to paint on the masks to add or subtract definition. 
                     </p> 
                     <div><span class="anchor_wrapper"><a name="GUID-4C276B3D-19EC-451A-AEFD-FD015D47E34F"></a></span><div class="note-note"><span class="label">NOTE:</span>For information on vertex colors, see <span class="char_link"><a href="tex_vcolor_VertexPaintingWorkflowOverview.htm"> Vertex Painting Workflow Overview</a></span> [<span class="char_link"><a href="scel_cover.htm">Scene Elements</a></span>]. 
                        </div>
                     </div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-C2C27EB2-3162-444C-A7C9-CF23A98D1C49"></a></span>After the shader is applied, select the <span class="MenuCascade" id="GUID-DAB887A3-A868-4C84-8859-3768609F18CA">Region Masks Pset</span> to experiment with the sliders. This lets you exaggerate the animation to tweak the
                        normal maps' influence. You can also animate each of the slider's weights separately.
                        
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-0029"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-38631B1E-8DF5-4700-B84B-91782DAF3950"></a></span>Building Realtime Shaders
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-4B358448-D870-488D-A85A-A68149D5D8E9"></a></span>You can build a game realtime shader to which you can add textures. This shader is
                  applied to the game mesh head's Material node. 
               </p> <span class="anchor_wrapper"><a name="FIG_69612A87B020437C8CF2C640BB0CE1CB"></a></span><div class="figure-anchor"><img src="../images/GUID-96A4E7FB-CBF3-4F77-B59D-D62D90169DC2-low.png"></div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS38C9EED16FDE024591DF17B0520564F4-002B"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-22E8EE5E-BD4E-4141-8707-92D837E273CB"></a></span>To build a realtime shader for the game mesh head
                  </h3> <span class="anchor_wrapper"><a name="GUID-5195D5E0-488F-400B-9A9C-F57660B44A67"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-020CF073-CAD4-4BC4-8193-636E7F3C6D7A"></a></span>On the Shaders tab in the Game export property editor, you can select the type of
                           realtime shader you want to create (CgFX, HLSL, or Custom OGL) and add textures to
                           it in the Texture Stack — see <span class="char_link"><a href="propref_facebot_GameExport.htm#WSD5274B1FC2E34F4894871ED78D7E5A02-0039">Shaders</a></span> [<span class="char_link"><a href="property_ref.htm">Properties Reference</a></span>] for details on each of the options. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-5614CB97-865E-41B0-834C-8B7A056D3DFD"></a></span>Click the big <span class="MenuCascade" id="GUID-BC2B71B0-5558-4CDB-AD4A-3B658F1AF283">Apply</span> button at the bottom of the Shaders tab to apply the realtime shader to the game
                           mesh's Material node. All the textures that you specified are plugged into their appropriate
                           ports on the shader. 
                        </p> 
                        <div class="figure-anchor"><img src="../images/GUID-3294F472-10CB-442C-9CA6-1E10E0200CF4-low.png"></div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-4D5E026F-5CB5-4BC5-BA26-6F4DA78B83E7"></a></span>After the shader is applied, select the <span class="MenuCascade" id="GUID-0AD3BBA2-A776-4AF0-9F1E-A85DCA03FCC9">Region Masks Pset</span> option on the Masks page to experiment with the sliders. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-88F910F8-E53F-433B-B47D-739076815F1B"></a></span>If the wrinkles aren't strong enough or the expressions are weak, you can create more
                           pronounced effects after you've hooked up the shader. To do this, click the <span class="MenuCascade" id="GUID-36E8152D-4038-4F0C-9759-D5457A6D44F3">Region Masks Pset</span> button on the Masks page to open the set. In it, you can edit the sliders' fcurves
                           in the fcurve editor. Select them all and scale them up to create overall stronger
                           effects. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>