<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-88ABAD33-22EB-47D3-95E5-4C54DB3A905A">
      <meta name="topic-type" content="concept">
      <title>mib_fast_occlusion</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-88ABAD33-22EB-47D3-95E5-4C54DB3A905A"></a></span><div class="head">
            <h1>mib_fast_occlusion</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-B90C4434-5F7A-4234-BF13-07B1F5FFA3D1"></a></span> <em class="strong">Category:</em> mental ray &gt; Texture
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-6DB4F00F-5FE1-4CF1-A5C8-68232304EC0C"></a></span> <em class="strong">Shader Family:</em> Texture
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-0EFD5B41-07EF-44D7-A000-91E281E5896B"></a></span> <em class="strong">Output:</em> Color
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-5094F2EE-8D7A-4450-BDB2-03C4A31B912C"></a></span>This shader is an alternative to the <span class="char_link"><a href="mentalray_mib_amb_occlusion.htm">mib_amb_occlusion</a></span> shader, with similar functions, but fully utilizing the ambient occlusion facilities
               built into mental ray. This shader offers optimal rendering performance and the possibility
               to benefit from the ambient occlusion cache, if enabled.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-D695BBE9-C1E0-4F00-AE3C-77C0C95D55B6"></a></span>This shader cannot be used as a light shader.
            </p>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-155E1240-A00D-4FE3-9681-57F7F6E4B314"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-2E9BF4C6-F8EC-4BDE-8533-F994CD703973">Name</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-FED74207-E4A5-4FB4-97C3-67914B03795C"></a></span><p class="table-body">The name of the shader node displayed in the render tree. Enter any name you like,
                           or leave the default.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-2369620E-1428-476A-9B66-23166C9426F4"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-DDCD87E8-F53F-4E17-820B-5F5346FE0EC3">samples</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-D7898F51-1141-4A66-A16B-1CF4C8870CEC"></a></span><p class="table-body">The number of probe rays that are sent. More rays yield a smoother image. If the ambient
                           occlusion cache is enabled, this parameter is ignored: the number of points to use
                           for cache interpolation is controlled by the <span class="MenuCascade" id="GUID-FCE353FF-81F7-4A83-B43E-06C62A8D830F">cache_points</span> option.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-B1C93AAF-30B6-4F43-A310-51E948AEBADD"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-DBA2A5C2-D320-4098-93EF-0F30BBED0286">bright</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-0474B4CE-D8BB-4003-B14C-4D749F77F5B1"></a></span><p class="table-body">The color used when no occluding objects are found. For partial occlusion, a gradual
                           mix between this color and the <span class="MenuCascade" id="GUID-B2E3D566-7EBF-48A7-A23B-CB419E591BF4">dark</span> color is returned.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5A4B6DB8-F9B0-46AC-9465-3464CEFE599F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-2003ED80-8CBA-49B8-A109-88ED5111924D">dark</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-67D6547F-EF87-4C2F-9348-AF4AD3005321"></a></span><p class="table-body">The color used when total occlusion occurs. In most practical cases, it is set to
                           black.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-0CBC2CC2-BA4B-4556-9B9E-A8B776A7052B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-297A2F83-7987-42ED-A1D8-71D3FC61A4D5">spread</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-6D97F75A-E5DE-46A8-86B3-F021F4965164"></a></span><p class="table-body">Defines how large an area of the hemisphere above the point is sampled. Unlike the
                           <span class="char_link"><a href="mentalray_mib_amb_occlusion.htm">mib_amb_occlusion</a></span> shader, this value is the cosine of the angle between the normal and the maximum
                           direction. Its value ranges from 0.0 for a cone that covers the entire hemisphere
                           to 1.0 for a cone that is a single direction.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E50E1A7C-76FF-4297-9322-9AFD6A7CA7D6"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-28958025-0E52-413E-9CEA-05076ED9E6B7">spread_exp</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F04DC33B-C03F-4051-AAEC-283945D1C299"></a></span><p class="table-body">The exponent of the <span class="MenuCascade" id="GUID-C7A4CA1B-E43E-4A2A-BC19-8834A1BA97B9">spread</span> angle. It controls how the rays shot from the sampling point are concentrated around
                           the normal. A higher value means more density around the normal.
                        </p> <span class="anchor_wrapper"><a name="GUID-401DD8D5-3F54-43C7-9C40-681A1B265B43"></a></span><p class="table-body">This parameter is not currently supported by mental ray, but is provided for future
                           versions.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-2AF766A7-C7BB-4B41-B328-94ABBE89B3E6"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5C838666-F002-4F05-9FF4-C0F2494A7525">max_distance</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F7504692-1EF1-4D4C-B9A6-E13B6CCD8690"></a></span><p class="table-body">The range within which geometry is probed. If it is zero, the entire scene is sampled.
                           If it is a non-zero value, only objects within this distance are considered (which
                           makes sampling much faster). Objects outside this range do not occlude at all, and
                           objects that are closer occlude more strongly as the distance approaches zero.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-CA8DFBFA-3DFC-45E0-88DD-29F01FADBD76"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-29CCEFAD-5910-4C54-B674-969E888BD995">reflective</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-AA162713-988F-4683-BD77-1E7189007398"></a></span><p class="table-body">If this option is off, sampling is performed in a cone area based around the surface
                           normal.
                        </p> <span class="anchor_wrapper"><a name="GUID-CDAA66DB-E5AD-4F79-9235-FE10F9683445"></a></span><p class="table-body">If this option is on, the samples are instead distributed around the reflection direction.
                           This generates reflective occlusion which can greatly enhance the realism of reflection
                           mapping.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-36AA7EBA-9A74-4DA0-8FA1-BCE854834A24"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5B17DDE9-5A9B-47F5-A24E-5F8CE764BDB1">output_mode</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-DB200D1B-75FF-4766-8158-046E361B28F8"></a></span><p class="table-body">Defines what the returned color is:</p> 
                        <ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-6638F281-D09E-4EDF-9BAA-460387C49992"></a></span>Mode 0 enables standard occlusion behaviour.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-EA0D2456-2F7D-49FC-80A1-CA229A81CEDB"></a></span>Mode 1 enables environment sampling. This changes the behavior of the shader slightly.
                                 As directions are probed for occlusion, the current environment is also sampled and
                                 weighted based on how occluded that particular direction is. With mode 1, the output
                                 of the function is the gathered weighted environment colors multiplied by the <span class="MenuCascade" id="GUID-637E2261-B57C-4C27-B5DA-4AEE475E9CBB">bright</span> color, with the <span class="MenuCascade" id="GUID-7D60B078-468D-4558-B4E6-3D47AEF28136">dark</span> color added for convenience.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-0DA35671-A8CC-43F6-A166-8E5BEF5BFE2B"></a></span>Mode 2 enables bent normals (see <span class="char_link"><a href="mentalray_mib_bent_normal_env.htm">mib_bent_normal_env</a></span>). The average unoccluded world space normal direction is calculated and returned,
                                 encoded as a color where red is X, green is Y, and blue is Z.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-3A1A2912-B937-417F-9B5F-936AD59A8EDE"></a></span>Mode 3 is the same as 2, except that the normals are encoded in the camera coordinate
                                 space.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-773D6F28-BB89-4657-96FC-2C6889301D26"></a></span>Mode 4 is the same as 2 except that the normals are in object space.
                              </p> 
                           </li>
                        </ul> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-0B99CD28-7236-4E8E-9F6E-13CB92FEB50E"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-A5064939-27B9-4F28-AE84-E0D1C4248F1E">occlusion_in_alpha</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-4255BDF8-DAB5-4E17-979F-EB973D7CE317"></a></span><p class="table-body">Puts the scalar occlusion value in the returned color's alpha component, regardless
                           of what is set for <span class="MenuCascade" id="GUID-5C00CC70-E0D9-492F-ADB8-41497746293C">output_mode</span>. The other color components remain as before.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-65627976-A9CC-4575-BC1B-C256B1DAA904"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-17587E62-4471-4843-9F99-0FED1D4AB9DE">cache_points</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-8D1060E3-A731-4B3D-819D-6F1839771010"></a></span><p class="table-body">Controls the number of ambient occlusion points to lookup for interpolation in the
                           ambient occlusion cache. If the the cache is not enabled, this option is ignored.
                        </p> <span class="anchor_wrapper"><a name="GUID-4851B515-F9A8-4A8F-B8F9-0DB9C64ADDD1"></a></span><p class="table-body">A value of 0 means the number of ambient occlusion points are determined by mental
                           ray settings. Values greater than 0 override the setting for the current object. Values
                           smaller than 64 give more precise results, but artifacts can appear. Higher values
                           tend to produce a blurry image.
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>