<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-B1A14003-B175-4CEF-9E11-EDCB8153D633">
      <meta name="indexterm" content="rigid body: initial state">
      <meta name="indexterm" content="initial state: rigid body">
      <meta name="topic-type" content="concept">
      <title>Setting a Rigid Body's Initial State</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-B1A14003-B175-4CEF-9E11-EDCB8153D633"></a></span><div class="head">
            <h1>Setting a Rigid Body's Initial State</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-16CF2F11-9BC3-4C5B-88B7-5CAAB8535428"></a></span>When you're working with rigid body simulations, you often need to have a certain
               state of a rigid body or constraint object be at the first frame of the simulation.
               You can transform the object as you like and then use that as the initial state. Setting
               an initial state prevents the need for doing pre-roll frames of the simulation to
               get the rigid body into its correct state for the beginning. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-676826F3-A3B0-4F47-AE57-B0D2C6D8DCA3"></a></span>The initial state is the position, orientation, and linear and angular velocities
               of a rigid body or constraint at the first frame of the simulation. Scaling is not
               considered as part of the initial state properties because rigid body simulation does
               not drive scaling. The scale of an object is automatically taken into consideration
               for the initial state. 
            </p><span class="anchor_wrapper"><a name="FIG_929E0D5EAAC1454FAFA94EC7641E036E"></a></span><div class="figure-anchor"><img src="../images/GUID-971B1101-F745-40F0-9766-C4E20625EB6E-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-C73C7852-0919-4A25-B467-778700AC4B15"></a></span>On the left, rigid body in current initial state for simulation. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-43EF8324-B0C0-4DF9-95D7-5ED2EC63A924"></a></span>On the right, the rigid body is transformed to a new position and orientation. This
               is now its initial state for the first frame of the simulation. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-30EAD075-135F-4382-BB35-583DFC0B7B32"></a></span>There are three ways in which you can set a rigid body or constraint object's initial
               state: 
            </p><span class="anchor_wrapper"><a name="UL_9F53CA9439664BAA97F68F0CCD03468C"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-0E462053-BA55-43A3-B2EB-596031C86954"></a></span>You can transform the rigid body or constraint object as you like in a view: the initial
                     state of the object is automatically updated with its current transformation values
                     (see the following section). 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-A6A14CC7-6B7E-44A3-98A0-0F7153FB0825"></a></span>For an animated rigid body, its position, orientation, and velocity are automatically
                     used for calculating its initial state (see <span class="char_link"><a href="rigidbody_SettingaRigidBodyxd5sInitialState.htm#WSA1B6EFC221254041A441258FAB7C7AE4-00BE">Setting an Initial State for Animated Objects</a></span>). 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-418492FB-BD57-4579-BF1E-DCD02BAE1D7D"></a></span>You can directly edit the rigid body or constraint object's initial state properties
                     in a property editor (see <span class="char_link"><a href="rigidbody_SettingaRigidBodyxd5sInitialState.htm#WSA1B6EFC221254041A441258FAB7C7AE4-00BB">Editing the Initial State Properties</a></span>). 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-54704828-F903-4485-B20D-6AD8C8711A9C"></a></span>You can set up and play the simulation to your liking. Then you can go to any frame
                     of the simulation and set the rigid body or constraint object's at that state as its
                     initial state (see <span class="char_link"><a href="rigidbody_SettingaRigidBodyxd5sInitialState.htm#WSA1B6EFC221254041A441258FAB7C7AE4-00C1">Selecting an Initial State from the Simulation</a></span>). 
                  </p> 
               </li>
            </ul>
            <p><span class="anchor_wrapper"><a name="GUID-510379D8-8C61-4053-ACA4-7DC852C956AD"></a></span>Any way you do it, the rigid body or constraint object's initial state property is
               updated with these values. Softimage then uses these values, along with the values
               in the simulation's time control, to recalculate the simulation. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00B9"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-18B5FEA9-0494-4A67-8A77-B931851B0936"></a></span>Setting the Initial State by Transformation
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-E085AAB2-43AF-447B-BE62-87F83A0816D8"></a></span>You can interactively transform the rigid body or constraint object at any frame so
                  that this new position and orientation is its initial state. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00BA"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-7E8E88A0-A536-4FF4-BE33-F5251671535B"></a></span>To change the object's transformation for its initial state
                  </h3> <span class="anchor_wrapper"><a name="GUID-1F41DFA1-6B06-4687-B95C-9F52CE3C2EA2"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-E72B544D-21DB-4D93-A4B7-635A2172AB73"></a></span>Select a rigid body or constraint object. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-26EE76A1-025C-4DC9-9305-EE72728E052C"></a></span>Go to the first frame of the simulation, or to a frame that comes before the first
                           simulation frame. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-5EE6077F-4801-4D12-BBE2-8A7A24420F1D"></a></span>Transform the object so that it's in the desired position and orientation for its
                           initial state. The parameters in its Dynamics Initial State property editor (see the
                           next section) are automatically updated to reflect the current transformation values.
                           
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-6407ED42-9ED1-4739-B5B9-052C5F274EEF"></a></span><div class="note-tip"><span class="label">TIP:</span>For best results, you should set up the rigid bodies so that their geometries don't
                              interpenetrate at the initial state of the simulation. 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-9BB141F6-4A95-49CE-B3AC-814F94F4D19D"></a></span>When you play back the simulation, you'll notice that the rigid body or constraint
                           object's state at the first frame of the simulation is the initial state that you
                           set. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00BB"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-9BA5C383-00C0-424E-947E-6A19F9CCB48D"></a></span>Editing the Initial State Properties
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-6A4EF584-2BAC-46F4-9E6F-215E5D6E4E6F"></a></span>The initial state property contains the initial global position, orientation, and
                  linear and angular velocities of the rigid body or constraint object. These parameters
                  define the object's position and motion. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00BC"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-6AD93E9A-7671-409B-B01A-1F74F4744B04"></a></span>To edit the initial state's properties
                  </h3> <span class="anchor_wrapper"><a name="GUID-7F487BF0-C9AC-4954-B72B-2730B22C9E2F"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-68A4B65A-3C82-4CB0-9640-73335456F00E"></a></span>Select one or more rigid body or constraint objects. 
                        </p> 
                     </li>
                  </ol> <span class="anchor_wrapper"><a name="GUID-DEAD9FED-6FF7-48A0-AF13-732BE7585A3B"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F44D8C9C-DD86-4196-B57C-B9ED1E83560A"></a></span>Do either of the following to open the Dynamics Initial State property editor: 
                        </p> <span class="anchor_wrapper"><a name="UL_6ACD806893D848558DEBEF79DCD80675"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-A7CA1C22-E2CC-4282-8A2A-7C8E90F523F3"></a></span>Choose <span class="MenuCascade" id="GUID-4D5AEDED-F03B-4CBC-A08E-1FF7B0A7C36D">Modify <img src="../images/ac.menuaro.gif"> Rigid Body <img src="../images/ac.menuaro.gif"> Edit Rigid Body</span> and then click the Dynamics Initial State tab. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-2BC16020-FD20-4B7A-A38A-6B811BE261EB"></a></span> <em class="mild">or</em> 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-D9FBD411-80E4-4B19-B88D-18830687A665"></a></span>Click the rigid body's Dynamics Initial State Property icon in the explorer. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D26D5843-E852-4FCC-A574-6B7F56183E78"></a></span>Set these options as you like to adjust the object's Position and/or Rotation (orientation)
                           values for its initial state: 
                        </p> <span class="anchor_wrapper"><a name="FIG_59A63052DC324141976BA24EE43AD911"></a></span><div class="figure-anchor"><img src="../images/GUID-8A73C0EF-CDBF-499D-8DDD-BFC4E19F3C08-low.png"></div> 
                        <div style="margin-top: 9pt;"><span class="anchor_wrapper"><a name="GUID-649C4473-1E1A-4244-8FB7-FB9B78361325"></a></span><div class="note-tip"><span class="label">TIP:</span> <span class="anchor_wrapper"><a name="UL_B920CC4BDF194AE18DBE6EE7693093D7"></a></span><ul>
                                 <li> 
                                    <p><span class="anchor_wrapper"><a name="GUID-ECF9C7DD-537E-409A-8F1C-B061DF571417"></a></span>When you select any of the <span class="MenuCascade" id="GUID-0AD4FFC1-223B-4B44-8C2A-5A926B2293A6">FromAnim</span> options (such as PosFromAnim), the rigid body's values are calculated from its animation
                                       — see <span class="char_link"><a href="rigidbody_SettingaRigidBodyxd5sInitialState.htm#WSA1B6EFC221254041A441258FAB7C7AE4-00BE">Setting an Initial State for Animated Objects</a></span> below. 
                                    </p> 
                                 </li>
                                 <li> 
                                    <p><span class="anchor_wrapper"><a name="GUID-B4768462-0E1D-4404-8FB2-8D78943B8C6E"></a></span>All the <span class="MenuCascade" id="GUID-23D57F3C-1208-48EB-97F9-3B0A81F2100D">X/Y/Z</span> parameters in this property editor (Pose and Velocity tabs) are animatable so that
                                       it's easy for you to create proxy parameters with them or create custom parameters
                                       that are controlled by expressions. However, if you want to animate these parameters
                                       directly, it's recommended that you do so in the rigid body's Local or Global Transformation
                                       property editor instead. 
                                    </p> 
                                 </li>
                              </ul> 
                           </div>
                        </div> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00BE"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-CF5C12F4-8DA5-4284-9EAE-1840D9A8AA19"></a></span>Setting an Initial State for Animated Objects
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-5023481A-0C8D-4099-8144-F8A74C541726"></a></span>If the rigid body or constraint object is animated, you can use its position, rotation,
                  and velocity from its animation to calculate its initial state for the first frame
                  of the simulation. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A1BB4CF5-B030-41E2-8FD8-3E6C9E4D74EA"></a></span>For example, you could animate an object moving quickly, make it a rigid body, and
                  then use its position and velocity from its animation at the beginning of the simulation
                  as it collides with another rigid body. 
               </p> 
               <div><span class="anchor_wrapper"><a name="GUID-A54AEBFE-C7B4-4B55-879C-29FD1E9DD206"></a></span><div class="note-tip"><span class="label">TIP:</span>You can animate the switching between a rigid body's active and passive state to determine
                     when the simulation takes over its animation. The rigid body must be active to be
                     affected by the simulation. See <span class="char_link"><a href="rigidbody_CreatingRigidBodies.htm#WSA1B6EFC221254041A441258FAB7C7AE4-0045">Switching between Active and Passive States</a></span> for more information. 
                  </div>
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00BF"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-3AD35573-C37E-4B9D-9C77-5E4BA9160C80"></a></span>To use the rigid body or constraint object's animation as its initial state
                  </h3> <span class="anchor_wrapper"><a name="UL_BBDC7F4F13F34614AA001F9352A9F4FF"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-5D7AA09B-FDE4-4AC9-82E7-E6F01776969F"></a></span>Do either of the following: 
                        </p> <span class="anchor_wrapper"><a name="UL_2190466EA59D410B88B02BE9356525FE"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-982BDF74-6220-40AE-B550-CE51BAC91BAD"></a></span>Select the appropriate <span class="MenuCascade" id="GUID-FBADA0C8-F2F2-4EE7-8170-5FC11219356E">"FromAnim"</span> options in the Dynamics Initial State property editor. For example, to use the rigid
                                 body's position from its animation, select the PosFromAnim option. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-B49B3783-CCB6-4995-9CAA-619F6C2D2A8A"></a></span> <em class="mild">or</em> 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-CBF0978F-3F43-4C17-A44E-843FEAAFBC40"></a></span>Select the rigid body or constraint object and choose <span class="MenuCascade" id="GUID-5BD1AD53-301C-4E1E-ABB7-04F08A920C00">Modify <img src="../images/ac.menuaro.gif"> Rigid Body <img src="../images/ac.menuaro.gif"> Use Animation as Initial State</span>. This automatically selects all <span class="MenuCascade" id="GUID-9AC5CA27-3807-49B7-9CEF-74F5108987B3">FromAnim</span> options in the Dynamics Initial State property editor. 
                              </p> <span class="anchor_wrapper"><a name="FIG_1D85BCA21A764F3FBE5D20E08504228F"></a></span><div class="figure-anchor"><img src="../images/GUID-3CCE4BDE-8633-42BF-B24A-AD1E963A663E-low.png"></div> 
                           </li>
                        </ul> <span class="anchor_wrapper"><a name="TABLE_643A5BF5CA7841778321B46A5C21BB8F"></a></span><div class="table_Ruled">
                           <table cellpadding="0" cellspacing="0" class="ruled">
                              <colgroup>
                                 <col align="left">
                                 <col align="left">
                              </colgroup>
                              <tr class="ruledOddRow">
                                 <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-AB9B47EB-2039-4AEF-807B-44C43878E4AE"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-D36BF1C6-3567-4226-A7CD-186EF49A5120">A</span> 
                                    </p> 
                                 </td>
                                 <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-FF71A372-D4B7-4219-ABD8-F8FD42906459"></a></span><p class="table-body">If the object is animated, its linear and angular velocity is calculated and used
                                       at the first frame of the simulation. 
                                    </p> 
                                 </td>
                              </tr>
                              <tr class="ruledEvenRow">
                                 <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-6E7C5926-F358-40A7-8DBE-D7D7270C8BB5"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-4FD576C6-70F8-4C56-8662-BF638AEBF14A">B</span> 
                                    </p> 
                                 </td>
                                 <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-610B5A90-B92E-40CE-8281-4824CB216DC3"></a></span><p class="table-body">If the object is animated, its position at the first frame of the simulation is used
                                       if you select the <span class="MenuCascade" id="GUID-DFB17A2D-65A1-4215-8BB5-132885E4E28A">PosFromAnim</span> option. 
                                    </p> 
                                 </td>
                              </tr>
                           </table>
                        </div> 
                     </li>
                  </ul> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00C1"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-33C06593-941F-499F-ACDA-C5A8E19A5850"></a></span>Selecting an Initial State from the Simulation
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-F84458A2-90BA-4AE1-B7A7-54CF1834A15A"></a></span>Although less likely than setting the position and orientation, you can take the state
                  of a rigid body or constraint object at any frame during the simulation and set this
                  state as its initial state. This will then be the state of the rigid body or constraint
                  object at the first frame of the simulation. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA1B6EFC221254041A441258FAB7C7AE4-00C2"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-FAC0B4E1-A1D9-4C18-8D0D-96CFC525197E"></a></span>To set the initial state for a rigid body or constraint object
                  </h3> <span class="anchor_wrapper"><a name="GUID-87430CCF-5BEB-4F47-8202-59AEB2FACFAC"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-021F6126-6318-4D18-898B-E2B89E06E37A"></a></span>Select one or more active rigid bodies or constraint objects. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B88D7866-B1D8-4124-8FA6-CF9C83C63B93"></a></span>Set up the simulation as you like, then go to any frame in the simulation that you
                           want to set as the initial state. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-DF1B24A5-46EF-4FD0-967D-DBE3CD9B1C4B"></a></span>Select the rigid body and choose <span class="MenuCascade" id="GUID-F9018643-6629-4F11-8F8E-D90330451C1A">Modify <img src="../images/ac.menuaro.gif"> Rigid Body <img src="../images/ac.menuaro.gif"> Set Initial State</span> from the Simulate toolbar. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-808D548F-D58D-4545-A600-89655C83599F"></a></span>The parameters in its initial state property editor are updated to reflect the current
                           state. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-1899BDC1-A8D0-42CD-8752-2C3488E1C59B"></a></span>When you play back the simulation, the rigid body's state at the first frame of the
                           simulation is the initial state that you set. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>