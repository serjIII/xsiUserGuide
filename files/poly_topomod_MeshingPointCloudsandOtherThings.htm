<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-019D112C-6318-41FE-A9EE-4C79A8CEF5F8">
      <meta name="indexterm" content="Polygonizer">
      <meta name="indexterm" content="polygon meshes: meshing">
      <meta name="indexterm" content="polygon meshes: polygonizing">
      <meta name="indexterm" content="meshing point clouds">
      <meta name="indexterm" content="point clouds: meshing">
      <meta name="indexterm" content="particles: meshing">
      <meta name="indexterm" content="Lagoa: meshing">
      <meta name="topic-type" content="concept">
      <title>Meshing Point Clouds (and Other Things)</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-019D112C-6318-41FE-A9EE-4C79A8CEF5F8"></a></span><div class="head">
            <h1>Meshing Point Clouds (and Other Things)</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-E89AE475-A2C5-48F2-AB0D-A1E004E810A4"></a></span>Polygonizer allows you to create a mesh around the points of a cloud and other objects
               in your scene. The effect is similar to metaballs and blobs. This is especially useful
               for water and other liquids, such as the result of a Lagoa simulation. 
            </p><span class="anchor_wrapper"><a name="FIG_552A12F2BB334C168990D7F3445A9A2C"></a></span><div class="figure-anchor"><img src="../images/GUID-1302378A-D882-48DE-A684-0F1116A1C11E-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-3862AF5D-02E3-49D2-86F0-8CE5F253BDFE"></a></span>The mesh is based on a 3-dimensional density field. You specify a density level, and
               a mesh is generated corresponding to the isosurface for that level — the volume inside
               the mesh has a higher density than the specified level and the volume outside has
               a lower density. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-FF428332-4020-49B6-941D-F6EE484052EE"></a></span>The density field can be defined and controlled by any combination of: 
            </p><span class="anchor_wrapper"><a name="UL_5FFC225AE3CE43F992D373F449E20C72"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-32F97B9C-A035-4830-929A-1829F82D1E6A"></a></span>Point clouds, including strands. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-33043E22-F00A-41AA-9C1D-76526B150E85"></a></span>Curves. You can optionally control certain parameters along the length of the curve.
                     
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-D7878F97-5C4E-4136-8E9B-FB1FAAC8BA13"></a></span>Polygon meshes. You can optionally control certain parameters with weight maps. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-1FBE063F-25C5-4D5F-8A72-523D17EF482E"></a></span>Nulls. 
                  </p> 
               </li>
            </ul>
            <p><span class="anchor_wrapper"><a name="GUID-F0DC2B4E-EC69-4C62-9D44-DF94F63784CD"></a></span>Because the Polygonizer operator regenerates the mesh every frame, you should not
               use UV coordinates, clusters, anything that relies on component indices, anything
               that relies on persistent locators, and so on. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-480CB0EC-0D7E-4B60-97EA-4301C0F883EF"></a></span>Polygonizer is a version of emPolygonizer written by Eric Mootz. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01ED"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AA19674A-407B-4B72-BB61-E02F20E73401"></a></span>Meshing Things
               </h2> <span class="anchor_wrapper"><a name="GUID-63A8834D-1350-4B5C-94AF-8C2BD6B249A0"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F925D47D-B355-4BBB-B32C-34141461CDBC"></a></span>Select the objects to use as inputs. You can select point clouds, curves, polygon
                        meshes, and nulls. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F7FA3DA4-A33F-4525-8ADA-A0BC6B584512"></a></span>Choose <span class="MenuCascade" id="GUID-25C6C0F9-61B5-4205-A709-7D88A8F2208E">Create <img src="../images/ac.menuaro.gif"> Poly. Mesh <img src="../images/ac.menuaro.gif"> Polygonizer</span> from the Model toolbar. This command is also available as <span class="MenuCascade" id="GUID-FBD667C0-B875-4D6B-9443-C37B01526EEE">Particles <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Surface from Point Cloud</span> on the ICE toolbar. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B55204B2-5CC9-4776-A8EE-293B83171DC7"></a></span>Adjust settings in the <span class="char_link"><a href="propref_topogen_Polygonizer.htm">Polygonizer Property Editor</a></span>. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-99EB4DD6-9AE4-4E7B-90DE-673F055FC610"></a></span>In addition, you can adjust the settings for each input individually in its Polygonizer
                        custom property. See: 
                     </p> <span class="anchor_wrapper"><a name="UL_E99B222C01694EADA3608AEC246E8920"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-166CE7DE-FEA9-4288-B473-99577FA6161E"></a></span> <span class="char_link"><a href="propref_topogen_Polygonizer_Curve.htm">Polygonizer_Curve Property Editor</a></span>. This is where you can control the Size and Influence parameters along the length
                              of the curve. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-514E4ABB-D3C5-4FA1-AB1E-BF09C2077C0D"></a></span> <span class="char_link"><a href="propref_topogen_Polygonizer_Null.htm">Polygonizer_Null Property Editor</a></span>. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-9171728D-904C-4C97-8248-4F6C6AD8469B"></a></span> <span class="char_link"><a href="propref_topogen_Polygonizer_PointCloud.htm">Polygonizer_PointCloud Property Editor</a></span>. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-AB84052D-16EF-409D-9A09-52D36B177E35"></a></span> <span class="char_link"><a href="propref_topogen_Polygonizer_Polymesh.htm">Polygonizer_Polymesh Property Editor</a></span>. This is where you can control the Size and Influence parameters with weight maps.
                              
                           </p> 
                        </li>
                     </ul> 
                     <p><span class="anchor_wrapper"><a name="GUID-DFD97FEA-2540-4BAA-9C3D-1B96EC3D8836"></a></span>The main parameters that control the size and shape of the mesh are: 
                     </p> <span class="anchor_wrapper"><a name="UL_030FFBBF3C014DA3A95D3FA9BB7B12C6"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-E0570C02-6C19-4927-BE86-E1D36EC4A064"></a></span> <span class="MenuCascade" id="GUID-3EDE90FA-AB86-4D3A-A76F-F19BD815FC0A">Isolevel</span> in the main Polygonizer property editor. This is the density level at which to build
                              the mesh. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-D0C6EDD8-C053-4F9C-BEF6-811DA60FED05"></a></span> <span class="MenuCascade" id="GUID-50F85579-8C5D-4628-8504-899CAD2C1B9E">Detail</span> in the main Polygonizer property editor. If this value too small then the mesh will
                              miss detail and will not follow the isosurface well. However, values that are too
                              high can produce very dense meshes. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-950E51D8-3DDC-4239-931F-20F456E698BD"></a></span>The <span class="MenuCascade" id="GUID-88B56D7E-818C-427E-8818-5278DCEB14B3">Size and Influence</span> settings in the inputs' Polygonizer custom properties, as well as <span class="MenuCascade" id="GUID-BF5705EE-1098-42FB-9E9F-DB8C7936DD84">LOD</span> if <span class="MenuCascade" id="GUID-B81E86A1-963B-450C-9D51-8BFD1B4D455B">Use</span> is set to an option that includes it. Note that you can use a negative <span class="MenuCascade" id="GUID-C5739E7D-2EAF-479E-9F8B-C92B0D5CB276">Isofactor</span> value to make an input remove volume from the resulting mesh. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-8BB36262-F53B-4F51-914F-71158D3BF62F"></a></span>The particles's Size attribute when using point clouds as inputs. This is because
                              <span class="MenuCascade" id="GUID-8D14D49D-88B4-4C24-9B8E-1A7A9F79C778">Multiply Radius by Point Size</span> (<span class="MenuCascade" id="GUID-E45AE7DA-A119-44B3-87D1-71D39EC61283">if available</span>) and <span class="MenuCascade" id="GUID-57CC83F5-5E0A-4012-B033-366AC640935F">Multiply Falloff by Point Size</span> (<span class="MenuCascade" id="GUID-ACC83BDF-B759-4632-B3B2-D370CC402DC0">if available</span>) are on by default in the clouds' Polygonizer custom properties. Note that if the
                              size of particles is very small, you may need to increase it or turn off those options.
                              
                           </p> 
                        </li>
                     </ul> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01EE"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C52EDE2D-B4B6-4B4A-9A5D-66349D49E597"></a></span>Adding and Removing Inputs from Polygonizer
               </h2> <span class="anchor_wrapper"><a name="GUID-88C33894-3403-402A-A231-4E420740BBAC"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-FE4B52C5-2975-4903-80EB-27589768B121"></a></span>Select the objects to add or remove. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B545F6FC-A110-499D-9917-EC6F46D2DBA9"></a></span>In the main Polygonizer property editor, click either <span class="MenuCascade" id="GUID-B593EC62-C0DC-4653-928A-E9A3D5668FB5">Add</span> or <span class="MenuCascade" id="GUID-DEB99EB3-E19E-4BC1-8971-3192703EFE57">Remove</span> on the Main tab. 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01EF"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-DA1D471A-A090-46AE-9515-186973A80128"></a></span>Shaping Fluids
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-D138FB31-50CD-4262-944C-9DEB3C8C0AC8"></a></span>By default, polygonized points clouds can look rather blobby. You can improve the
                  look to something closer to that of a flowing liquid using the Lagoa Fluid Shaper.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-81D350AF-45B3-4242-A827-B20FAA5B46BE"></a></span>Note that this compound is a deformation that can be used on polygonized meshes from
                  any point cloud, not just Lagoa simulations. 
               </p> <span class="anchor_wrapper"><a name="GUID-B3847165-6677-4847-9F4D-484C6D5975E6"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-93935F62-4FC2-404D-863E-75FDAB1EEAF5"></a></span>Select the polygonized mesh. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-01A34961-3623-480F-8AE3-BA6561CAC8AD"></a></span>Choose <span class="MenuCascade" id="GUID-AB1702D1-E826-48F2-B8B8-E7844CB7ACD8">Particles <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Lagoa Fluid Shaper</span> from the ICE toolbar. This command is also available from the <span class="MenuCascade" id="GUID-3A071531-F153-46BA-B167-F5D18E866B3A">Deform <img src="../images/ac.menuaro.gif"> Create</span> menu. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-4971C12D-9275-4BF5-BA38-2A6C1901DC2C"></a></span>An ICE tree is created and the Lagoa Fluid Shaper compound is applied. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-48E420DC-52CF-4D34-BF34-A62B1FCF035B"></a></span>If you want to move mesh geometry outside of other geometry, such as outside of the
                        collision objects for a fluid simulation, connect the collision object or group to
                        the Geometry port and activate Remove Intersections. 
                     </p> <span class="anchor_wrapper"><a name="FIG_8C91B822B5B048528270ECD510167C89"></a></span><div class="figure-anchor"><img src="../images/GUID-3C658284-6147-4138-BDF1-845F95A4D35C-low.png"></div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-513943F7-5311-4650-8CC8-FDA3C6ED1415"></a></span>Set the other options as desired for flattening and smoothing the mesh — see <span class="char_link"><a href="iceref_Lagoa_Fluid_Shaper.htm">Lagoa Fluid Shaper</a></span> [<span class="char_link"><a href="iceref_cover.htm">ICE Reference</a></span>]. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-4E1F0552-07CD-49EF-8566-811EEB293B80"></a></span>Note that if you are using the smoothing options in Lagoa Fluid Shaper, you might
                        want to turn off the smoothing options in the Polygonizer property editor to avoid
                        over-smoothing. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-7C0D9418-BD37-4D54-B96B-15FC97BF470B"></a></span>After you have applied Lagoa Fluid Shaper, you should apply Subframe Deformation to
                        recalculate the correct point velocities for motion blur. See <span class="char_link"><a href="poly_topomod_MeshingPointCloudsandOtherThings.htm#WSF64117A6A93C394BA4D767D8C01808E6-01F2">Recalculating Motion Blur After Polygonized Meshes Have Been Deformed</a></span>. 
                     </p> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01F1"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-1C10B289-0183-417F-A6DF-402005822DA5"></a></span>Polygonized Meshes and Motion Blur
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-D734FC5E-10A7-49B5-BA1D-FAC891BA42FB"></a></span>The Polygonizer operator can calculate motion vectors that are used for rendering
                  motion blur. The motion vectors are based on the point velocities of nearby particles
                  in the input point clouds. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-CE5B9D6A-326C-4612-BC14-A5CB4D4E2B60"></a></span>To calculate motion vectors, activate <span class="MenuCascade" id="GUID-7C795910-BD22-41E8-805F-AF1C1DDCC4F5">Calculate 3D Motion Vectors</span> on the Advanced tab of the Polygonizer property editor. You can adjust the amount
                  of motion blur using the Scale parameter. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-65A9EF6D-A97D-4EDB-9330-0E77D043C300"></a></span>For best results with motion blur, especially with long shutter speeds, you should
                  cache the point cloud being used to generate the polygonized mesh (see <span class="char_link"><a href="data_cache.htm">Caching Animated Deformations and Simulations</a></span>). You should also use the options on the Cache tab of the Polygonizer property editor
                  to write cache files for the mesh and then read them. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-898D76DC-482B-4185-8493-C1C7B364546E"></a></span>To easily adjust the amount of blur without re-simulating or re-evaluating the Polygonizer
                  operator, write cache files using a Scale of 1.0. After that, set the cache options
                  to read from files, activate <span class="MenuCascade" id="GUID-A505E098-2039-4748-8C51-01E13B2020E7">Scale When Reading Cache Files</span>, and adjust Scale. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01F2"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-28A5CA9E-C243-4C77-A10A-6B59788C4FAE"></a></span>Recalculating Motion Blur After Polygonized Meshes Have Been Deformed
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-1BC0C29D-5993-4777-A000-D307EF83CA60"></a></span>If you deform a polygonized mesh, for example by using Lagoa Fluid Shaper, then the
                     motion vectors calculated by the Polygonizer operator may no longer be correct. You
                     can fix them using Subframe Deformation. 
                  </p> <span class="anchor_wrapper"><a name="GUID-60305590-C283-4648-9A1E-CCF5E5B25B23"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-96AB542C-5F72-4A90-9ED7-4060E989E7DB"></a></span>In the Polygonizer property editor, turn off <span class="MenuCascade" id="GUID-423E3F51-7151-4F7C-85D6-0FDF3CECBC69">Calculate 3D Motion Vectors</span> on the Advanced tab. This avoids unnecessary recalculations. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-33046451-5053-4025-B752-A078A6B923B9"></a></span>With the polygonized mesh selected, choose <span class="MenuCascade" id="GUID-0F6F29F2-52D3-421E-B54C-3EEEBE471B1C">Deform <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Subframe Deformation</span> from the ICE toolbar, and then pick the point cloud that was used to generate the
                           mesh. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-293F601F-6618-4411-A6E3-DB56EE107BC6"></a></span>An ICE tree is created and the <span class="char_link"><a href="iceref_Subframe_Deformation_From_Cloud.htm">Subframe Deformation From Cloud</a></span> compound is applied. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSF64117A6A93C394BA4D767D8C01808E6-01F3"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-559DD1DA-6916-4862-ADFB-DC1EC930610D"></a></span>Adding Bubbles and Debris to Polygonized Fluid Simulations
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-17B117F1-F326-4305-AF2C-DA36EDC57AE6"></a></span>You can use the Lagoa Cached Post Sim Effects compound to create effects like bubbles
                  and debris in polygonized fluid simulations. For more information, see <span class="char_link"><a href="lagoa_particles_ApplyingCachedPostSimEffects.htm">Applying Cached Post Sim Effects</a></span> [<span class="char_link"><a href="lagoa_cover.htm">Lagoa Multiphysics Simulations</a></span>]. 
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>