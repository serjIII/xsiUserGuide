<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-8CC5C95E-CA4A-4F86-9337-678DE6671310">
      <meta name="topic-type" content="concept">
      <title>mip_rayswitch_environment</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-8CC5C95E-CA4A-4F86-9337-678DE6671310"></a></span><div class="head">
            <h1>mip_rayswitch_environment</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-72BE8613-9E48-47F8-9514-9D6100DA426A"></a></span> <em class="strong">Category:</em> mental ray &gt; Texture
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-BB3945DB-435F-4739-8230-88B4ABB76DEE"></a></span> <em class="strong">Shader Family:</em> Environment
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F8A03163-8901-4717-A4D5-23793AFD58BF"></a></span> <em class="strong">Output:</em> Color
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-4176E56A-35EA-4881-A27C-565FEA1FABC3"></a></span>A classic issue you may run into with mental ray is that there is only a single concept
               for "the environment", whereas often, for practical reasons, you will want to separate
               the concept of a background from that of an environment.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-7466E20A-291D-4A23-A98C-D961E22B97DE"></a></span>The mip_rayswitch_environment shader accomplishes exactly that: it returns <span class="MenuCascade" id="GUID-2906CF64-494C-4858-AF39-7AD7D4A1CC08">background</span> for any eye ray, transparency ray (that is a child of an eye ray), or any refracted
               ray that travels in the same direction as the transparency ray (rays that were refracted
               by an IOR of 1.0 and are a direct child of an eye ray).
            </p>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body">&nbsp; <img src="../images/GUID-5414C0CE-E144-4F7E-B8AC-083056DE4F02-low.png"> 
                     </td>
                     <td class="table-body" align="left">&nbsp; <img src="../images/GUID-88364C21-4954-437D-BF80-59A944847C96-low.png"> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-0ED47C14-C7ED-42F4-AB06-6D08EE953E8C"></a></span>For any other type of rays (reflection, refraction, final gathering, etc.) the shader
               returns the <span class="MenuCascade" id="GUID-234BDD0E-BA27-4C57-BED6-2E7B856BD452">environment</span> color.
            </p>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body">&nbsp; <img src="../images/GUID-5CBB4623-4271-4CB6-9E3C-8D82E0FECF18-low.png"> 
                     </td>
                     <td class="table-body" align="left">&nbsp; <img src="../images/GUID-1A8DB177-18D3-4B27-B848-E798E13D04B5-low.png"> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-91394752-0EA6-49DE-839F-3BAA2A9AF28B"></a></span>This shader is intended to be used as an Environment input, but it will function anywhere
               in a render tree as a ray switching node, in cases where you need to distinguish between
               "primary" and "secondary" rays. For example, this is the ideal shader to switch between
               primary and secondary rays when using the <span class="char_link"><a href="mentalray_mip_matteshadow.htm">mip_matteshadow</a></span> shader.
            </p>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>