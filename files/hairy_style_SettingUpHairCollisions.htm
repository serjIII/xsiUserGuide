<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-0BA6F4B2-581F-4F08-BD57-D5186742776A">
      <meta name="indexterm" content="hair: collisions with obstacles">
      <meta name="indexterm" content="obstacles: and hair">
      <meta name="indexterm" content="obstacles: disconnecting">
      <meta name="topic-type" content="concept">
      <title>Setting Up Hair Collisions</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-0BA6F4B2-581F-4F08-BD57-D5186742776A"></a></span><div class="head">
            <h1>Setting Up Hair Collisions</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-1F71C007-2E21-4020-8200-E309E4B5E1CE"></a></span>If you're creating medium or long hair, you will most likely need to set up obstacles
               with which the hair will collide. Collisions with obstacles affect only the guide
               hairs, so make sure that the obstacle collides with guide hairs â€” otherwise you won't
               see any effect. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-A4D15B10-FF5B-47E8-AF03-347029B8820A"></a></span>For short hair, fur, or short grass, you may not need any obstacle objects, depending
               on what your hair-emitter object is doing. If you're creating a human head with long
               hair, the shoulders and neck need to be selected as obstacles; or if you have an animal
               run through a field of wheat, the animal would be considered the obstacle for the
               wheat. 
            </p>
            <div><span class="anchor_wrapper"><a name="GUID-F567A1F1-B28B-473E-9C43-F7FA89E16705"></a></span><div class="note-note"><span class="label">NOTE:</span>Hair created from curves (see <span class="char_link"><a href="hairy_create_CreatingHairbetweenCurves.htm">Creating Hair between Curves</a></span>) cannot collide with obstacles. 
               </div>
            </div><span class="anchor_wrapper"><a name="FIG_FBD45BE7070A49D5B0C8B608E7B95999"></a></span><div class="figure-anchor"><img src="../images/GUID-9E6F06F2-D643-4EE8-A519-38A6C5776B98-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-47CBB56F-CF9E-439F-93AB-474F7B652F42"></a></span>Head and shoulders are set as obstacles for the hair. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSEE033441ABFE7B44B10ECC543AAB91FE-008A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-DD45DF03-875A-46E4-A534-1959504390D9"></a></span>Tips for Setting Up Obstacles for Hair
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-397F125B-9917-4A1D-8276-EA195BBEE298"></a></span>Here are some tips for setting up the objects that will be used as obstacles: 
               </p> <span class="anchor_wrapper"><a name="UL_AFC67CB1F7C24199AF30245FCB4E1D0B"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-1A047FE1-D8EF-4545-A92E-1A30EB833061"></a></span>You can use polygon or NURBS surface objects as obstacles, but you cannot use implicit
                        objects or hair objects (that is, the actual hair strands) as obstacles. Obstacle
                        objects can be either stationary or animated. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-AC6C4B9A-F784-4003-A799-B75F0FE3A750"></a></span>You can use the hair emitter object itself as the obstacle for hair. For example,
                        select the head and shoulders of a long-haired character to be the obstacles for the
                        hair. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8E3AC34B-5D00-48C8-B346-52658A37535B"></a></span>If you're emitting hair from a geometry-approximated subdivided surface (see <span class="char_link"><a href="hairy_create_EmittingHairfromSubdivisionSurfaces.htm">Emitting Hair from Subdivision Surfaces</a></span>), you cannot also use it directly as the obstacle for its own hair. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-E4801934-4B1A-4251-A27A-F44D565EEB79"></a></span>To have a subdivided surface hair obstacle, create a subdivided polygon mesh (choose
                        <span class="MenuCascade" id="GUID-5CD34F0B-E5FF-422A-90DE-067E708D0380">Create</span><img src="../images/ac.menuaro.gif"><span class="MenuCascade" id="GUID-649A3811-F3DB-4EF4-88B4-A51A3226CBC9">Poly. Mesh</span><img src="../images/ac.menuaro.gif"><span class="MenuCascade" id="GUID-E579435D-6F2A-4530-B010-08252569B22D">Subdivision</span> from the Model toolbar) and set its subdivision level to what you need for the obstacle.
                        Then set this subdivided polygon mesh as the obstacle (you may want to hide it). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-BB7DF422-1AAC-4587-8E3B-EE54EE1D8524"></a></span>You may want to use polygons as obstacles to create more accurate collisions: a polygon's
                        points lie directly on its surface unlike those of a NURBS surface object. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-A6331C82-B9B3-40D9-B081-9D940225C4B5"></a></span>For best performance, make the object have as few polygons as possible and still have
                        the hair conform to its shape. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-2736DAE7-0A46-4BEE-AEB5-826E2764CE2A"></a></span>Use an obstacle object that is large enough and closed so that the hairs do not intersect
                        it. The obstacle should be bigger than the longest guide hair's segment length (that
                        is, one of the hair's 15 segments). 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-F4B25BE2-C75D-4636-8F55-A697F384A38D"></a></span>For example, if the entire guide hair is 10 units long, but the obstacle is only 0.5
                        units in diameter, it won't work well, such as with the brim of a hat. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-0BB9C0F8-2BEB-4D03-9F17-381A9890C12E"></a></span>Keep the obstacle object simple. For example, if you have a complex character with
                        which you want the hair to collide, use only the body geometry of where the hair will
                        actually collide as the obstacle (that is, you don't usually need to include the lower
                        body and arms). 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-39F0C6E3-D413-422D-8609-84612344C83B"></a></span>Otherwise, all these elements are calculated as part of the collision, which slows
                        things down considerably. You can, for example, tag only the polygons from the back
                        and neck area, extract the polygons, and use this result as your collision obstacle
                        instead. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E27F15E9-A724-4D84-BB8B-B61130A14F89"></a></span>Use simple proxy objects to stand in for complex obstacle objects. For example, use
                        a simple sphere scaled to the proportions of your character's torso as the obstacle
                        object. This proxy can be hidden or set to non-rendering after being constrained to
                        the real obstacle object. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-DEBFDA7B-DF9C-4D3E-A1B0-8CFBF7AC6335"></a></span>If an animated obstacle moves too much from one frame to the next, the hair may pass
                        through it. Again, having an object large enough and closed can help avoid this problem.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-09331DC0-4A4C-433B-8C93-DDCF7569BDDA"></a></span>Make sure that the obstacle is not touching the guide hairs in the first frame of
                        the simulation. This can cause problems with the collision calculations. 
                     </p> 
                  </li>
               </ul> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSEE033441ABFE7B44B10ECC543AAB91FE-008B"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-D27BA696-E1C4-44B5-8DDC-97D0F811766A"></a></span>Setting Up Objects as Obstacles for Hair
               </h2> 
               <div class="section"><span class="anchor_wrapper"><a name="WSEE033441ABFE7B44B10ECC543AAB91FE-008C"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-F1E93202-EC91-46BD-9600-6D01E7E43476"></a></span>To have hair collide with obstacles
                  </h3> <span class="anchor_wrapper"><a name="GUID-0FB22C90-889B-404D-BE77-FE951F50CA1C"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-2EC2D3E1-AA46-44A0-85F3-A6752EF38795"></a></span>You normally apply dynamics to the hair (see <span class="char_link"><a href="hairy_style_MakingHairMovewithDynamics.htm">Making Hair Move with Dynamics</a></span>), but you can also use obstacles without dynamics to use them as styling tools (the
                           hairs stay outside the obstacles when it comes close to the hair). 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-C49AA1EE-C43C-4282-807C-A15FDC637F24"></a></span>Set the Hair Collision options on the General page the Hair property editor, depending
                           on the type of collision you want to create: 
                        </p> 
                        <div class="figure-anchor"><img src="../images/GUID-59D25406-F119-4CB1-8B38-2E03B80654E5-low.png"></div> <span class="anchor_wrapper"><a name="UL_37DB9B8EFF914BFD91E679704D38D5CB"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-6941B96A-3B4E-4359-BFFF-49EC75720BF8"></a></span> <span class="MenuCascade" id="GUID-081BAB47-1C99-41B6-B76D-98C438398F1E">Average Sphere (fast)</span> creates a sphere around the obstacle object for the collision detection, giving fast
                                 calculations. This disregards the settings in the Obstacle property editor. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-68DCE23A-D01B-4F2D-BD1F-C4F07A3D38A5"></a></span> <span class="MenuCascade" id="GUID-E7F100E9-C654-4D2F-8349-DB48E9F144C6">Exact (slow)</span> uses the actual shape of the obstacle object for the collision detection, which is
                                 preferable for most collisions. This gives accurate results but may have a slower
                                 calculation time. This also disregards the settings in the Obstacle property editor.
                                 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-279D0658-BB28-4899-80C8-EA8E5CCF873B"></a></span> <span class="MenuCascade" id="GUID-B738DB11-A3FC-46FB-AE9C-550014EECD2A">XSI (fast, rough)</span> is the only method that detects obstacle collisions based on the settings in the
                                 Obstacle property editor (see below). For example, if you have Actual Shape as the
                                 Obstacle Type and a Push Length value set for the obstacle, this is taken into consideration
                                 for the collision. This method is fairly fast and as accurate as the Actual Shape
                                 that you choose. 
                              </p> 
                           </li>
                        </ul> 
                        <div><span class="anchor_wrapper"><a name="GUID-D4204581-1F1E-4A5F-9CA3-81470A7A2353"></a></span><div class="note-note"><span class="label">NOTE:</span>If you want to change the hair's <span class="MenuCascade" id="GUID-EBB091FA-D952-44A1-A924-BB657080B459">Collision Type</span> after you've picked the obstacles, you must first freeze the hair. Changing the collision
                              type is considered to be a topology change for hair. 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F1D48FFB-DAA3-426C-AE61-BAAA5D9713C6"></a></span>From the Hair toolbar, choose <span class="MenuCascade" id="GUID-E6F7275C-598B-4FC3-A76F-6CF25BD16A5B">Modify <img src="../images/ac.menuaro.gif"> Environment <img src="../images/ac.menuaro.gif"> Set Obstacle</span>. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-40939CCF-3B41-4909-BBFA-71398F7771EF"></a></span>Pick one or more objects in the scene that will act as obstacles for the hair. Right-click
                           to end the picking session. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-41BEFAC2-A66F-4229-B0E4-A7CEF305FE2E"></a></span>Set the general and physical parameters in the Obstacle property editor that appears
                           (see <span class="char_link"><a href="property523.htm">Obstacle Property Editor</a></span> [<span class="char_link"><a href="property_ref.htm">Properties Reference</a></span>]) to control the collision's behavior. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-43D799DC-137F-4D4C-8339-547BC0F10742"></a></span><div class="note-note"><span class="label">NOTE:</span>The Friction and Elasticity parameters in the Obstacle property editor are not used
                              in calculating obstacle collisions with hair, even if you have <span class="MenuCascade" id="GUID-77B8072B-4CEC-4A02-B9C8-1C68DEF0B7E8">XSI</span> set as the hair's Collision Type. 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-470A4103-3650-4B34-875F-1EFAF3646C5E"></a></span>When you play the simulation, the hair collides with the obstacle. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSEE033441ABFE7B44B10ECC543AAB91FE-008E"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-109FE64A-13A8-4E67-807F-DA5D749A9C76"></a></span>Disconnecting Obstacles
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-61E856B0-C239-4415-A1DE-84A4DE3337EF"></a></span>You can easily disconnect obstacles from the hair object to which they're associated.
                  
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSEE033441ABFE7B44B10ECC543AAB91FE-008F"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-D67A2FA2-439A-42E6-9D8B-70A45236CFD6"></a></span>To disconnect an obstacle
                  </h3> <span class="anchor_wrapper"><a name="GUID-97DCD640-05CE-488D-B4DF-AA0CCE6CADFE"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-79C681B4-358B-4E94-82DC-CD6AFCB6E7DA"></a></span>Select the hair object to which one or more obstacles is connected. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-62958091-10EF-4388-BC92-1A23EF4BB85E"></a></span>Choose <span class="MenuCascade" id="GUID-4A60B3B3-3E8B-4890-A06B-64D54A7A4B32">Modify <img src="../images/ac.menuaro.gif"> Cloth</span> (or <span class="MenuCascade" id="GUID-B7EDF8D8-CFE4-483F-A85E-A6E9A43279CD">Softbody</span>) &gt; <span class="MenuCascade" id="GUID-F3F3E626-E8CB-4CB2-B074-31D2310C02EF">Disconnect Obstacle</span>/<span class="MenuCascade" id="GUID-2A734852-772B-4062-AC2A-50A8D792DE00">Force</span>/<span class="MenuCascade" id="GUID-E44B893B-48DB-423C-9304-23575D0D1FCE">Emitter</span> from the Simulate toolbar. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-50461E37-FEE7-4402-96C1-EB6AF8401FF4"></a></span>Pick the obstacles you want to disconnect, then right-click to end the picking session.
                           
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>