<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-7959E610-15E3-4986-8DDB-A6A5E9EAE860">
      <meta name="topic-type" content="concept">
      <title>mia_physicalsun</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-7959E610-15E3-4986-8DDB-A6A5E9EAE860"></a></span><div class="head">
            <h1>mia_physicalsun</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-4612DBA6-31D0-4A3F-A581-23F3561FD8A4"></a></span> <em class="strong">Category:</em> mental ray &gt; Light
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-4A37209D-61EA-4908-83FB-D096141A7DDA"></a></span> <em class="strong">Shader Family:</em> Light
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F7B8CD5E-00F6-4E72-80FF-B85336E1B7BF"></a></span> <em class="strong">Output:</em> Color
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-7223DBC2-269F-47EF-ADC7-9964913F05F8"></a></span> <span class="MenuCascade" id="GUID-C84962CB-53DD-461C-B6DE-FBBFB7433477">Related Softimage shader:</span> <span class="char_link"><a href="light_shaders_PhysicalSun.htm">Physical Sun (mia)</a></span> 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-9D5022B3-FB25-4358-8199-C6E701292297"></a></span>This shader is intended to be used together with the <span class="char_link"><a href="mentalray_mia_physicalsky.htm">mia_physicalsky</a></span> shader to enable physically plausible daylight simulations and accurate renderings
               of daylight scenarios.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-DA15DD80-5D04-4807-B9F2-7CA09BFC4AB8"></a></span>The Physical Sun shader determines the color and intensity of the sunlight, as well
               as emitting photons from the sun. The shader should be applied as a light shader and
               photon emission shader on a directional light source (it does not work on any other
               light type).
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-89FABC19-8963-4906-8D59-33BEE251FFDD"></a></span>Some parameters exist in both the Physical Sun and Physical Sky shaders and all do
               the same thing. For physical correctness, you need to keep these parameters in sync
               with each other in both shaders. For example, a sun with a different haze value than
               the sky cannot be guaranteed to be physically plausible. The most important common
               parameters are those that drive the entire shading and colorization models: Haze,
               Red-Blue Shift, and Saturation.
            </p>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5778F1A5-0ADF-4F8C-B76C-28F397543687"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-C7A49DEA-68EE-4313-A1FF-E3789C590748">Name</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-5D66A867-5AD0-4C83-92EE-37BDECABE90D"></a></span><p class="table-body">The name of the shader node displayed in the render tree. Enter any name you like,
                           or leave the default.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-EBC0158E-503B-46D3-845A-7F974C429636"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-33B4FD38-61D3-4816-84FA-CB07DCE01262">on</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-6708E9F6-BF2E-4256-8DEC-C7CFA3F044B1"></a></span><p class="table-body">Activates this shader.</p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-4D6A83F2-84B0-4329-A284-A629CE05C570"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-D26CEB93-1AB4-4180-9133-AA8DFFFFE9AA">multiplier</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-150908E7-14C2-4CC3-935F-E7E69730B538"></a></span><p class="table-body">A scalar multiplier for the light output. The default value is 1. You might want to
                           turn down the multiplier to something like 0.01 as the default value is somewhat strong.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-091E0A9A-0933-4AA2-96CA-5D8C6D815CD4"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-2FFB369F-0812-4369-A18D-677A61A4983B">rgb_unit_conversion</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-EF2908DD-D8EC-46D9-A16C-40301E41FEE6"></a></span><p class="table-body">Converts the output to something other than true photometric units. If this value
                           is 1 1 1, both the values returned by the mental ray shader API functions <span class="MenuCascade" id="GUID-71A6DCEE-794D-4CB0-8407-1518EE69B8F6">mi_sample_light</span> (for the sunlight) and <span class="MenuCascade" id="GUID-30B8D277-24E5-42DD-B5D2-1C45F7BC6438">mi_compute_avg_radiance</span> (for the skylight), when sent through the <span class="MenuCascade" id="GUID-5EAB6A8B-4ADB-491B-8E8E-C05BF357E912">mi_luminance</span> function, will numerically match photometric values in lux.
                        </p> <span class="anchor_wrapper"><a name="GUID-3738A358-46B4-47DE-9751-CD07DCC39414"></a></span><p class="table-body">Since the intensity of the sun outside the atmosphere is calibrated to 127500 lux,
                           this is very bright when seen compared to a more classic rendering, where light intensities
                           generally range from 0 to 1. The RGB Unit Conversion parameter is applied as a multiplier
                           and should be set to a value below 1 (such as 0.001 0.001 0.001) to convert the raw
                           lux value to something more manageable.
                        </p> <span class="anchor_wrapper"><a name="GUID-7B1F6145-6268-4163-AF3F-3DB92593262D"></a></span><p class="table-body">For convenience, the value of 0 0 0 is internally set so that 80000 lux (approximately
                           the amount of light on a sunny day) equals the classic light level of 1.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-206F7D6B-0A75-41D3-9E42-358424DC7A80"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-E406142F-E51B-4EC4-8C12-F464F5C1C6D7">haze</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-5CF28011-C117-45B1-9E34-EA7CFAA8CBD1"></a></span><p class="table-body">Sets the amount of haze in the air. The range is from 0 (a completely clear day) to
                           15 (extremely overcast or like a sand storm). The haze influences the intensity and
                           color of the sky and horizon, intensity and color of sunlight, softness of the sun's
                           shadows, softness of the glow around the sun, and the strength of the aerial perspective.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-67733D4C-6FE9-4194-8788-BD1E654D6B58"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-0EBB9943-91F6-4DA8-A9B2-08126DA2E4A5">redblueshift</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-A1DE69E7-60BA-4FF0-9E88-7FD596366882"></a></span><p class="table-body">Controls the redness of the light. The default value of 0 is the physically correct
                           value, but you can change that with this parameter. The range is from -1 (extremely
                           blue) to 1 (extremely red).
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-4FF6B3A6-ADDD-4187-BA53-A813889E6A83"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-2B25E060-DA78-444B-B3DA-B11097DF8997">saturation</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-E9D10546-9C38-4564-80F1-AD6BE4ED0D0C"></a></span><p class="table-body">Controls the saturation, where 1 is the physically calculated saturation level. The
                           range is from 0 (black and white) to 2 (extremely boosted saturation).
                        </p> <span class="anchor_wrapper"><a name="GUID-D1C3E8CA-D5D5-42CD-9398-6CC5F200C3B7"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-A65F0E6B-6EEA-4B1C-8B90-4BB3A200969D">Note:</span> If you are using an HDR background, you can set the Saturation to zero because you
                           probably don't need the "sun color".
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-2B8D6695-A170-4C34-9C15-90D7E064259D"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-3EA3BED3-12CD-489C-87DC-614320FB6FBC">horizon_height</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-2C7CC4D8-CA0B-4CE9-ACA1-ED4CDEC72FC6"></a></span><p class="table-body">Sets the level of the horizon. The default value of 0 puts the horizon at a standard
                           height, but you may need to change this to accommodate different rendering locations,
                           such as the view from the top of a mountain or skyscraper.
                        </p> <span class="anchor_wrapper"><a name="GUID-5589E97D-420E-47E3-9360-B113F988542B"></a></span><p class="table-body">The horizon doesn't actually exist at any specific "height" in 3D space — it is just
                           a shading effect for rays that go below a certain angle, which you can change with
                           this parameter. The total range is from -10 (the horizon is straight down) to 10 (the
                           horizon is at the zenith), but smaller values are more useful; for example, -0.2 pushes
                           the horizon down just below the edge of a finite visible ground plane.
                        </p> <span class="anchor_wrapper"><a name="GUID-0CB4981C-6D21-43DA-8370-D6BFE99F8A87"></a></span><p class="table-body">This parameter affects not only the visual representation of the horizon in the Physical
                           Sky shader, but also the color of the Physical Sun itself.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5D0C9FF3-4572-49D0-A52C-B517C439417B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-28855607-0A7F-456F-BF33-1BF45D4FD3B4">shadow_softness</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F8B785D4-5CB8-4144-A42E-B94FC914AB94"></a></span><p class="table-body">The softness level for soft shadows. A value of 1 matches the softness of real solar
                           shadows most accurately. Lower values makes the shadows sharper, while higher values
                           make them softer.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-2D70A088-1156-4C99-B603-A0C2C978A045"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-B891B8FD-D7E4-4B7E-A0CD-9A421B73BF5E">samples</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-5C6203B8-0AC1-4240-A381-EE73366BCD7C"></a></span><p class="table-body">The number of shadow samples for the soft shadows. If set to 0, no soft shadows are
                           generated.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body" colspan="2"> <span class="anchor_wrapper"><a name="GUID-4CBFF474-2045-4C5C-B9BB-5EB66A78FB7C"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-9015F591-CDD7-4225-B6B2-85E0D92229D5">Photon Bounding Box:</span> When photon_bbox_min and photon_bbox_max are left set to 0,0,0 the photon bounding
                           box will be calculated automatically by the shader. If these options are set to a
                           non-zero value, they define a bounding box in the coordinate system of the light within
                           which photons are aimed. This can be used to "focus" global illumination photons on
                           a particular area-of-interest. For example, if you have modelled a huge city as a
                           backdrop, but you are only rendering the interior of a room, mental ray will by default
                           shoot photons over the entire city and maybe only a few will find their way into the
                           room. With the photon_bbox_max and photon_bbox_min parameters you can focus the photon
                           emission of the mia_physicalsun to only aim at the window in question, greatly speeding
                           up and enhancing the quality of the interior rendering.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-CE36F6B8-04BC-4FBB-92DE-461172B1D40C"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-BB2C98C4-C49A-4B33-8B39-DFD95901B994">photon_bbox_min</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-DEF1AF9F-72D6-4D56-8C63-3E19202520E9"></a></span><p class="table-body">Defines the bounding box minimum in the coordinate system of the light within which
                           photons are aimed.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-327C9EF0-7490-43C3-97E9-FD68380D0BAA"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-476DDD7C-C1A2-4B90-8EB1-8C51E0ACA2ED">photon_bbox_maax</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-0AAC0291-29E8-4258-B025-F3CE1FE6FF90"></a></span><p class="table-body">Defines the bounding box maximum in the coordinate system of the light within which
                           photons are aimed.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-559F7A4E-5CD3-4653-B229-696295F5BD75"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7B7DF063-3D18-4B3E-802D-B24D8D52E5C4">automatic_photon_energy</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-70069EEB-F456-4AD9-97DF-4040E73DA8D1"></a></span><p class="table-body">Enables the automatic calculation of energy and color of the photons. When on, the
                           light source does not need to have a valid energy value that matches that of the sun
                           (however, it needs a non-zero energy value or else photon emission is disabled by
                           mental ray). When off, the photons have an energy as defined by the light's energy
                           value.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-ADC22C4A-4BF5-43F6-8DD0-0CBC6A765667"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-0E5A301B-6155-4AED-AEF4-662BBA2B5342">y_is_up</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-056FFB6A-2A03-472E-9AAD-086F6F1C674B"></a></span><p class="table-body">Defines what constitutes "up". In Softimage, the Y axis is "up" and this parameter
                           should be on.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-55451A6D-4CAC-40BC-A959-20FE01A6D3A7"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-2DA9E59B-F050-4AAD-81A8-88631616F63C">illuminance_mode</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-DACF5E9E-47FE-48D9-A51E-9C9DB9BF5373"></a></span><p class="table-body">If illuminance_mode is 0 (zero), the default solar intensity is used (calculated internally
                           based on the haze, solar angle, optical air mass, etc.).
                        </p> <span class="anchor_wrapper"><a name="GUID-B66E7A3E-1A5B-44A7-8EE8-7C0D2C02B245"></a></span><p class="table-body">If illuminance_mode is 1, the sun light will have the direct normal illuminance (in
                           lux) set by the direct_normal_illuminance parameter. The color of the sunlight is
                           still driven by the haze as before, only the intensity is modified.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-1522224C-59E7-467E-9C18-9FC5752A06A4"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-18CF9295-5A44-4FDA-A865-A91ECCD0F951">direct_normal_illuminance</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-A12F4F6E-3887-42FB-8C62-45811B99610A"></a></span><p class="table-body">Specifies the direct normal illuminance (in lux) of the sunlight when the illuminance_mode
                           is set to 1.
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSFDCB412EBAB20C42B1BFA92680A813C9-000E"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-925EE321-AA33-400E-BD0D-790D399FE4B9"></a></span>Render Tree Usage
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-86789E19-46FA-49E1-B749-C456C0BB80E9"></a></span>This shader is intended to be used together with the <span class="char_link"><a href="mentalray_mia_physicalsky.htm">mia_physicalsky</a></span> shader. You can also use it in conjunction with the shader <span class="char_link"><a href="mentalray_mia_material.htm">mia_material</a></span>.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-C9A8A6AA-2FBE-46EA-88A2-8C476C78064F"></a></span>This shader is applied to a directional light that represents the sun, and the mia_physicalsky
                  shader is used as the scene's camera environment shader. The environment shader should
                  be used to illuminate the scene with the help of final gathering, and bounced light
                  from the sun can be handled either by final gathering diffuse light that is bounced
                  or via global illumination (photons).
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-76DF5552-86DF-45C7-B58E-0D1B8B5D1897"></a></span>Connect this shader to the Light node's Light Shader input.
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>