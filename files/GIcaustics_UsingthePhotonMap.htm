<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-D93688E0-D30F-4A5E-BE0C-95DB1B3270ED">
      <meta name="indexterm" content="photon maps: about">
      <meta name="indexterm" content="photon maps: file name and location">
      <meta name="indexterm" content="photons: rebuilding photon map">
      <meta name="indexterm" content="photon maps: rebuilding">
      <meta name="topic-type" content="concept">
      <title>Using Photon Maps</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-D93688E0-D30F-4A5E-BE0C-95DB1B3270ED"></a></span><div class="head">
            <h1>Using Photon Maps</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-1C39A963-D704-4930-814B-C7F7A58B63D9"></a></span>Location: 
            </p><span class="anchor_wrapper"><a name="UL_5C1563711BB646D1A9E0219942BFFDD3"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-8F7EE57A-AA58-4EC6-A38A-50816848A67C"></a></span> <span class="char_link"><a href="renderoptions_TheRenderManager.htm">The Render Manager</a></span> &gt; mental ray (Global Renderer) 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-F89AD046-5348-4132-8B7A-350CA2583D5F"></a></span> <span class="char_link"><a href="renderoptions_TheRenderManager.htm">The Render Manager</a></span> &gt; (expand a pass) &gt; mental ray 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-D915F765-50E2-4C7E-B548-EFAA0FCC60A0"></a></span>Set the current pass and choose Render &gt; Render &gt; Renderer Options from the Render
                     toolbar. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-06D96729-32DB-4785-A5DD-FF06C1EACAF2"></a></span>Tab: <span class="char_link"><a href="property4502.htm#WS3006BE1388530344A0CBB5EC50AB924E-0084">Importons</a></span> [<span class="char_link"><a href="property_ref.htm">Properties Reference</a></span>] 
                  </p> 
               </li>
            </ul>
            <p><span class="anchor_wrapper"><a name="GUID-194B0AFB-1FF1-4522-9A28-CD36758E2872"></a></span>The Photon Map is essentially a table that stores the positions of the photons in
               the scenes along with their RGB energy levels for each of the thousands of photons.
               
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-492ED7DD-AD0A-4545-B3CA-AB618C6AA9ED"></a></span>When mental ray wants to determine how the Photon Map affects a given point in space,
               the raytracer consults the Photon Map to determine which photons are nearby (within
               a given radius) and then calculates the photon contribution to the total lighting
               in the scene, based on the energy level of every photon within the radius. Only one
               map is created regardless of the number of lights. 
            </p><span class="anchor_wrapper"><a name="FIG_2BC24E756C7040889DF006FC45D8C96C"></a></span><div class="figure-anchor"><img src="../images/GUID-1A9C904C-B0E0-4322-B99B-8A2A97ED89E9-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-C803FD54-E045-4B16-B89D-DADDE704F8AC"></a></span>The path of photons that occurs when using caustic illumination. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-E546C010-5329-4444-9F55-389097B48595"></a></span>Both scenes below have the same number of lights and types of shaders. 
            </p><span class="anchor_wrapper"><a name="FIG_B85EBCB31A0B4C2A955E32724446C95E"></a></span><div class="figure-anchor"><img src="../images/GUID-865816C7-F015-4725-A50E-A94140AC2CE0-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-41FD1569-67AA-495D-9A1A-2774662874E7"></a></span>This scene does not use caustic effects. 
            </p><span class="anchor_wrapper"><a name="FIG_CE3B3CC7CFB3482AB8777622DF496A59"></a></span><div class="figure-anchor"><img src="../images/GUID-E5736278-C193-4016-82C8-D4AB2DC9D5D7-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-71DAA171-6F16-4F8D-BFE3-35F3BA9D3807"></a></span>This scene uses caustic effects. Notice the reflections on the table caused by the
               glass pencil holder. Both the reflectivity and refraction of the glass play a part
               in how the caustic effects are rendered. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS2AC16530ADA927498F2E66C653F26AE6-0022"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-6808B323-2755-4E00-BF6F-48C5707B1B05"></a></span>Specifying the Photon Map File
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-FB689273-A446-4883-921B-777049765EDE"></a></span>You can also specify a Photon Map in the Photon Map text box. Click the browse (...)
                  button to open a browser and select a map file. 
               </p> 
               <div><span class="anchor_wrapper"><a name="GUID-15E7CFD1-219A-45EC-87DE-1FB587B40B24"></a></span><div class="note-important"><span class="label">IMPORTANT:</span>Make sure that the path to the photon map is valid. Otherwise the rendering process
                     will abort whenever you try to render the scene with photon effects. 
                  </div>
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS2AC16530ADA927498F2E66C653F26AE6-0023"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-720BDCED-12ED-48EC-B4AC-1C2485EA3FED"></a></span>Rebuilding the Photon Map
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-AA75E410-947F-4EE7-A4FE-A171BEF8D358"></a></span>To modify the display of caustics in the region, you can generate a map of the caustic
                  effect by selecting the <span class="MenuCascade" id="GUID-9DB67474-9E00-4294-B908-86526C2DCAB2">Rebuild</span> option (wait while the Photon Map is calculated and displayed). You can then zoom,
                  pan, or play back your animation in the render region using the precomputed map of
                  the caustics instead of computing the caustic effect each time the region is refreshed,
                  which takes much longer. 
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>