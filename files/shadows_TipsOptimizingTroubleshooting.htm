<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-03A8D2A5-DAA3-4FFB-9455-340A8A5FB8BB">
      <meta name="indexterm" content="shadows: tips, optimizing &amp; troubleshooting">
      <meta name="indexterm" content="lights: optimizing">
      <meta name="indexterm" content="shadows: optimizing">
      <meta name="indexterm" content="shadows: troubleshooting">
      <meta name="topic-type" content="concept">
      <title>Troubleshooting Shadows</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-03A8D2A5-DAA3-4FFB-9455-340A8A5FB8BB"></a></span><div class="head">
            <h1>Troubleshooting Shadows</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-512B43A0-7D74-4719-B74C-108F39F50467"></a></span>The following will help you optimize your scene's shadows, as well as troubleshoot
               common problems.
            </p>
            <div><span class="anchor_wrapper"><a name="GUID-091E4215-60F3-4D28-A62F-67093103EBA5"></a></span><div class="note-note"><span class="label">NOTE:</span>Keep in mind that speed optimizations usually sacrifice quality and that quality optimizations
                  usually decrease speed.
               </div>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0023"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-DCD1A258-70AF-4C81-815C-156AD1989C8B"></a></span> Enabled Shadows (Speed Optimization)
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-838B9A54-9176-4058-985C-48CEBFB639D1"></a></span>Shadows are time-consuming to render, so remember to select None as the Shadow Type
                  on the Active Effects tab of the Rendering Options property editor for passes that
                  do not require shadows.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A04CD937-A5B1-47AE-8AFC-61D1961C5E50"></a></span>In addition, shadows on distant objects do not need to be as accurate as those on
                  objects that are close to the camera. For example, you could use a selective area
                  light to generate soft shadows for close objects and a selective point light in the
                  same location to generate simpler shadows for distant objects.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-36BF3A56-0F2B-4F7C-99B3-8E0C283C018D"></a></span>Alternatively, you could use two separate render passes: one with raytraced shadows
                  for close objects and one with shadow-mapped shadows for distant objects.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0024"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-3F05ED5B-72A1-4861-B682-66DBE0A745AD"></a></span>Shadows and Scanline (Speed Optimization)
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-3E8F842B-804B-431C-9D9B-EE536FF1E322"></a></span>For fast previewing of scenes, shadow maps can be used by the scanline renderer to
                  produce fast approximate renderings with shadows without using any raytracing.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0025"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-6B2DCD32-6F7B-47F6-A14E-9D6A03E3E3B2"></a></span>Shadows and Motion Blur (Speed Optimization)
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-21201621-F2DB-4293-832E-1290D60AB6FC"></a></span>If your scene has both shadows and motion blur, turn off the ShadowMap Motion Blur
                  option (in the Render Options property editor) if there is little movement and a normal
                  shadow map softness can be achieved through the blurring effect.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0026"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-D21BE211-64DD-4ABE-907B-751D9B823C29"></a></span>Opaque Shadows (Speed Optimization)
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-48B6C5A4-2D02-4001-A650-A1A174FAD95F"></a></span>If a light is emanating opaque shadows, it is best to use Shadow Maps for that light.
                  In addition, if the light's position is not animated, you can define a shadow map
                  file name so the shadow map can be used again across several frames.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0027"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-BB4C5591-7958-4774-B7A8-3428A795ADF7"></a></span>Troubleshooting
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-DFE19931-B3BB-41CA-B58D-1465BB686F34"></a></span>Here are some common problems and their solutions:
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0028"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-FFFDAF4B-4060-4F40-AB30-2DB198F422C6"></a></span>Soft Shadows Are Grainy
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-9BC6CA4A-CE5E-46F0-BAB5-A2A4E7C713EB"></a></span>If your soft shadows are emanating from an area light, increase the area light's U
                  and V sampling values to 3, 3 or 5, 5 or even higher in the light shader property
                  editor.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-7D37BEBE-C3C4-46BB-876A-ABE511311B7F"></a></span>If the grainy shadows are created using a shadow map, increase either the shadow samples
                  or resolution in the light shader property editor.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-0029"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-E61CA790-3741-4CD7-AC23-085498FBFA87"></a></span>Soft Shadow Map Shows Random Speckles
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-047D6308-F182-4BF5-80FB-8A410762A9B4"></a></span>This problem is often caused by too high a value in the shadow map's Softness parameter.
                  Reduce the value to a small amount (such as 0.05) and start working up from there.
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS263B05D40863684384BE4CD05BD2BD6B-002A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-6B15C41F-1085-4ED2-A0B9-B7CC8DBB9293"></a></span>Texturing Shadows Produces Unexpected Results
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-9EFE0F11-114B-4D61-BA2A-06A9FA7F0094"></a></span>This problem is typically the result of connecting the wrong shader to the shadow
                  port of an object's material. Not every shader is equipped to handle shadows correctly.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-639DB3B6-0885-42F6-A469-5DE46E9FAEE3"></a></span>For example, surface shaders and shadow shaders are designed to process shadow information,
                  but texture shaders are not. Connecting a texture shader to a material's Shadow port
                  will produce colored shadows, but they won't necessarily be correctly calculated.
                  One immediate effect is that instructions from selective lights will be ignored. So
                  even if a light is not supposed to affect the object, the object's shadows will be
                  rendered because the texture shader controlling the shadows ignores the information
                  about the light's selectivity.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-FF26F5F9-1460-4D95-B128-AD2DCC9DE7FC"></a></span>In short, the shader connected to a material's Shadow port should always be a shader
                  that is designed to handle shadows. One way to texture shadows is to apply a Simple
                  Shadow shader to the material's Shadow port, and use a texture shader to drive the
                  shadow's color.
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>