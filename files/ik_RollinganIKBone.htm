<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-42644AFD-F02F-4C30-A7B6-BEE53624EA47">
      <meta name="indexterm" content="chains: rolling a bone for IK chains (in X)">
      <meta name="indexterm" content="bones: rolling in an IK chain">
      <meta name="indexterm" content="rolling: bone in an IK chain">
      <meta name="indexterm" content="inverse kinematics: rolling a bone in X">
      <meta name="indexterm" content="SOFTIMAGE|3D: preferred X rotation as roll for bones">
      <meta name="topic-type" content="concept">
      <title>Rolling an IK Bone</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-42644AFD-F02F-4C30-A7B6-BEE53624EA47"></a></span><div class="head">
            <h1>Rolling an IK Bone</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-1BFEB4E8-4C24-4C30-99C9-95B1C7496E8F"></a></span>With 2D and 3D chains, you can rotate a bone in X. However, you cannot do this with
               a 2D chain that is solved in inverse kinematics (its effector is translated). The
               solving of the chain in IK overrides any animation that has been done on a bone's
               X or Y rotation. To solve the problem of being able to rotate the IK bone in X, you
               can set its Roll value. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-606F1057-0223-4B61-8A73-801DD0272648"></a></span>Roll does not work on 3D chains because the X rotation value is used for solving the
               chain as well. 
            </p><span class="anchor_wrapper"><a name="TABLE_AC1320638C304BA18DDF8B5AFBB8B06E"></a></span><div class="table_NotRuled">
               <table cellpadding="0" cellspacing="0" class="not-ruled">
                  <colgroup>
                     <col>
                     <col>
                  </colgroup>
                  <tr class="not-ruledOddRow">
                     <td class="table-body">&nbsp; <img src="../images/GUID-A452F69A-0149-4EA4-A905-489981305EB9-low.png"> 
                     </td>
                     <td class="table-body">&nbsp; <img src="../images/GUID-9D6DEA90-208C-4D5D-8B49-4403AC4E4915-low.png"> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-24781F49-3216-4818-9D96-BC7153BEE27D"></a></span>Bone is rotated on its X axis (no IK). 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-DD27EDA9-7330-4AE6-815B-E637CA3E6585"></a></span>When you set the roll of the bone, the rotation of each bone in the chain is relative
               to its own axis, which rolls the bone. (If a chain has an up-vector constraint, it
               is considered to be solved in IK.) This rotation is propagated to the following bones
               in a chain, or added cumulatively to the following bones if they have their own roll
               defined. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-2C6EB26C-8196-49F4-9629-2B767EF554C1"></a></span>The effect is a "twisting" of each bone on its axis. If you roll the first bone in
               a chain, it rotates the whole chain around the axis going through the chain root and
               the effector. 
            </p><span class="anchor_wrapper"><a name="FIG_E2A5F554B8BA47F98572BD36E79B9D10"></a></span><div class="figure-anchor"><img src="../images/GUID-949EE738-8BBA-4D45-BD42-1BA3457411BD-low.png"></div><span class="anchor_wrapper"><a name="TABLE_BE44ED570C3C48688EA64AC2A6855F91"></a></span><div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E84DD979-D327-4260-B455-F152E7C52AD5"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7F976641-F0DE-4353-87A1-B80DB4A800BD">A</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-7F2C4B05-1EAE-4C17-9D9D-01F2F29BEA8A"></a></span><p class="table-body">Chain before bones rolled. </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-C856E4AE-0CE7-4EB6-A492-35FAAF9297B7"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-63D24918-DAEB-416E-82E8-3215CB9A4811">B</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-B7EB0F31-E068-482C-92B3-4DE09FF930C6"></a></span><p class="table-body">First bone rolled 180o. Other bones also rotate around the chain root. </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-35829A82-1EDF-41F4-BF90-F6BF6FE5ACB5"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-0D203FDB-F374-406E-8044-C2019192B8EF">C</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-D821023A-82E0-404E-8BC8-1995B751F6E7"></a></span><p class="table-body">Each bone (except the first) has its own roll. The resulting roll is cumulative from
                           the top down. 
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-31A198D7-B0C1-4261-B33F-6AA5545689D8"></a></span>You can interactively rotate the bones in X (locally or globally) in <span class="MenuCascade" id="GUID-4E086DA2-E531-49C8-92C9-D013486317B2">SI|3D Behavior</span> mode for the Solver Angle (see <span class="char_link"><a href="ik_ChoosingHowanIKChainReachesItsGoal.htm#WSF4D645293765AE498C69174E3D6620E4-0042">Calculating Joint Rotations with the Solver Angle</a></span>) if you select the <span class="MenuCascade" id="GUID-D9EDDC2F-44C5-4A57-8DCB-1C0BEDE958C3">Use Preferred X Rotation as Roll</span> option (see below). 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-D0F26DA4-C038-480C-A253-436E9F513F03"></a></span>In <span class="MenuCascade" id="GUID-2C0CC012-7545-482A-864B-84F1C16FDC5B">Preferred Rotations from Joint Properties</span> mode, you can rotate the bones interactively, but it will put the chain out of its
               resolution plane. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSF4D645293765AE498C69174E3D6620E4-006B"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-F80A457C-BB0A-453B-8C78-E97065814378"></a></span>To set a roll for a bone
               </h2> <span class="anchor_wrapper"><a name="GUID-9D53B5B3-853F-45E9-85FA-4167D2946E66"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E9EF09A2-9AF4-41A9-B9A7-9050167A715C"></a></span>Select a bone on a 2D chain that is animated in IK (that is, its effector translation
                        is keyed). For example, to offset an up vector's position, set the roll on the first
                        bone of the chain. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-BC6A0888-1072-4A44-A2C7-FA5EC429118B"></a></span>Press Enter to open its Kinematic Joint property editor. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4B9A7CA0-CE7D-4E0D-B5C1-6621A1AFCC39"></a></span>On the Resolution Plane page, set the roll using either of these options: 
                     </p> <span class="anchor_wrapper"><a name="UL_C1916CA3B44E4D1D9A20DD32141291E0"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-FEE600F4-74D1-4C16-9EC2-4C3562C190CE"></a></span>Enter a value for the <span class="MenuCascade" id="GUID-4BCDEE54-4A36-409D-9155-2983AC187104">Roll</span> parameter. 
                           </p> 
                           <div><span class="anchor_wrapper"><a name="GUID-A766E5F3-4880-4D57-BC2B-F8FE500AFA36"></a></span><div class="note-tip"><span class="label">TIP:</span>If you're using expressions to rotate a bone, put the expression on the bone's <span class="MenuCascade" id="GUID-51CD690C-5A53-4E69-AAE0-2CA1FCADA8D8">Roll</span> parameter to achieve the effect you want. 
                              </div>
                           </div> 
                           <p><span class="anchor_wrapper"><a name="GUID-C17506EA-DAC7-413E-BBF8-B684B3F129C1"></a></span> <em class="mild">or</em> 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-A88CA371-9446-42D1-93A1-0126702F618B"></a></span>Select <span class="MenuCascade" id="GUID-FBEEEEBC-4877-40B3-BD77-4BA38B7CA2D5">Use Preferred X Rotation as Roll</span> to use the bone's preferred X rotation value as the roll value. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-179B50AB-255E-4CDF-A0C1-F877E71054FC"></a></span>Preferred rotations are not continuous, so rolling the bone with this option may make
                              the chain flip when the preferred angles go through a gimbal lock, which is a state
                              that Euler angles go through when two rotation axes overlap. The angle values can
                              change drastically when rotations are interpolated through it. To avoid gimbal lock,
                              you can change the rotation order (see <span class="char_link"><a href="skel_ChangingtheBonesxd5OrderofRotation.htm">Changing the Bones' Order of Rotation</a></span>). 
                           </p> 
                        </li>
                     </ul> 
                  </li>
               </ol> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>