<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-963035F7-A1EC-405A-8FA8-99EFBD90CF5F">
      <meta name="topic-type" content="concept">
      <title>mib_glossy_refraction</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-963035F7-A1EC-405A-8FA8-99EFBD90CF5F"></a></span><div class="head">
            <h1>mib_glossy_refraction</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-631CE939-A83B-4684-818F-C328878E59F7"></a></span> <em class="strong">Category:</em> mental ray &gt; Materials 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-48410D7A-F9D5-46B0-B4DB-C9C30819A6A6"></a></span> <em class="strong">Shader Family:</em> Surface Material 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-A0559D0A-033E-4A8B-B048-1E28407A7E04"></a></span> <em class="strong">Output:</em> Color 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-09139A08-0E33-41F4-B887-9C1A43FC1766"></a></span>This shader is very similar to the <span class="char_link"><a href="mentalray_mib_glossy_reflection.htm">mib_glossy_reflection</a></span> shader, but has a few differences. Since it deals with refraction, it has a "deep
               material" rather than an environment. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-4F2DA974-C8BC-4F56-A0D0-A1B8E89F1E10"></a></span>See <span class="char_link"><a href="mentalray_mib_glossy_reflection_phong_phen.htm">mib_glossy_reflection_phong_phen</a></span> for more information about using this shader and the <span class="char_link"><a href="mentalray_mib_glossy_reflection.htm">mib_glossy_reflection</a></span> shader. 
            </p><span class="anchor_wrapper"><a name="FIG_A005FDF36C794A3BBD6FECA5A2876972"></a></span><div class="figure-anchor"><img src="../images/GUID-97D26CF3-E78E-4F31-8F57-E78BCD978320-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-FF77F789-DB0C-4858-B62E-015F2A5894BD"></a></span>Objects fading into a gray "deep material". 
            </p><span class="anchor_wrapper"><a name="TABLE_FB37D06B1EF24411B50853CA16368EC7"></a></span><div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-EA947096-A117-4C92-81E4-58CEC0E38807"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-BA04BFBA-B555-4050-9827-B6C91CA303FC">Name</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F20CB290-B09B-4F66-B694-10B63FDAAAEC"></a></span><p class="table-body">The name of the shader node displayed in the render tree. Enter any name you like,
                           or leave the default. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-B14ADF04-F08B-4D2A-87E1-8F81971E253D"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5A5088C4-1655-4F08-858B-45E8A6D32530">top_material</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-920E5336-5E84-4991-83C5-70EAD0B96C75"></a></span><p class="table-body">The surface characteristics of the top layer. Like the <span class="MenuCascade" id="GUID-1A49518A-5623-428C-86D6-A51EC7CF6B88">base_material</span> in the <span class="char_link"><a href="mentalray_mib_glossy_reflection.htm">mib_glossy_reflection</a></span> shader, this is simply added to the result. 
                        </p> <span class="anchor_wrapper"><a name="GUID-D3DEFCD4-C56C-45C0-8CE6-B3EE5BEB3470"></a></span><p class="table-body">An example of a shader to plug in here would be the <span class="char_link"><a href="mentalray_mib_illum_phong.htm">mib_illum_phong</a></span> shader with only specularity and very little to no diffuse component defined. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-C08828A9-59B1-427D-AD4B-8836D4F011D6"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-BEF2ED4F-1295-4A6E-907F-F8D232497851">deep_material</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-D5BFC3AE-BD97-4C64-8A5C-132EEFE705BB"></a></span><p class="table-body">Only used if <span class="MenuCascade" id="GUID-085C1D20-3305-4BB3-A8A1-F4E887FE73C3">max_distance</span> is set to a non-zero value. 
                        </p> <span class="anchor_wrapper"><a name="GUID-BDBBC2D6-992C-47A2-B253-A0EAD11BDAED"></a></span><p class="table-body">It is the surface characteristics of the "interior" of the object, and the color to
                           which refractions fade as they reach the <span class="MenuCascade" id="GUID-BA2BC44B-7A6E-480E-84BB-52EC50F350CA">max_distance</span>. While the color is still calculated at the surface, it will appear to be behind
                           any refraction of internal objects. 
                        </p> <span class="anchor_wrapper"><a name="GUID-408A0D19-A778-40A6-89D3-4E8BA2EECDDC"></a></span><p class="table-body">For interesting pseudo-volumetric simulations, you can try using the <span class="char_link"><a href="mentalray_misss_fast_shader.htm">misss_fast_shader</a></span> subsurface scattering shader here. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-90C2592A-48D8-4720-85EB-B0557E5D04E1"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-E6996AA4-080A-4B69-BA78-6645A175C0C9">back_material</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-D0C5EF0C-01D2-4772-A07D-051C2F114893"></a></span><p class="table-body">The material used for rays that hit the inside of the object from within (that is,
                           any ray that hits the object from the back as defined by the geometry normal). 
                        </p> <span class="anchor_wrapper"><a name="GUID-6C41C50A-B953-476E-91F5-6F51978EEA4B"></a></span><p class="table-body">It defines what the "inside" of the object looks like, and should be assigned to a
                           surface shader, such as the <span class="char_link"><a href="mentalray_mib_illum_phong.htm">mib_illum_phong</a></span> shader or similar. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body" colspan="2"> <span class="anchor_wrapper"><a name="GUID-A28C0313-ED18-4CE5-9AF3-0CAF10110DD1"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-851167CF-0826-478C-8A65-E38236679BA0">render_reverse_of_back_material</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-75B3420A-C160-4EE1-B734-4C35A489346B"></a></span><p class="table-body">By default, mental ray flips the normal to the side of the incoming ray, which would
                           render the inside of the object's surface. However, sometimes it is desirable to simulate
                           a translucency effect by letting the light hitting the outside of the object define
                           its shading. 
                        </p> <span class="anchor_wrapper"><a name="GUID-292B2C01-76D4-4DC2-9E8C-94D8291BF892"></a></span><p class="table-body">You can achieve this effect by selecting this option, which causes the shader to use
                           the original direction of the surface normal when evaluating <span class="MenuCascade" id="GUID-0C966413-E332-42AC-B0E0-F3FD077C1F12">back_material</span>. 
                        </p> <img src="../images/GUID-50461DD4-AE77-4A52-A948-7DC885D69DE6-low.png"> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-1B4E114D-E61F-4B6B-8B1C-9B3FEE5C1B3C"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-80CF8074-F187-4E3F-92AF-FC1E437C5FC8">refraction_color</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-32E5A9AF-E996-4426-A227-2CC4205C1AB1"></a></span><p class="table-body">A multiplier for the refracted rays. </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-D886B3D3-23F2-460F-B888-47EF2CB5D9FB"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-CC13E4D6-7755-47C9-B71D-B7D7B007E3F7">max_distance</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-56C59922-1F9E-465B-AC5F-63117B1668D5"></a></span><p class="table-body">Limits the reach of refracted rays, and fades them toward the <span class="MenuCascade" id="GUID-2178A384-43ED-4A06-A530-453BC2239DF8">deep_material</span> as their length approaches this value. This gives the appearance of a semi-transparent
                           material into which you can only see so far. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-CE0FD619-C2DF-4AA5-BADB-38CB04E0165B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-F72B7475-0627-4FEE-B556-43BBFC221760">falloff</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-57397DB5-17C3-4E42-999F-68EBC1DCBED0"></a></span><p class="table-body">Sets the rate for fading into the <span class="MenuCascade" id="GUID-19D0B13F-CFC8-4EC0-9024-289F5BC5C0A0">deep_material</span>, which is a "power of" function. The default of 2.0 means the falloff is the distance
                           squared (power of 2); 3.0 means the distance cubed, and so on. 
                        </p> <span class="anchor_wrapper"><a name="GUID-589522FD-F04A-4470-912F-2E73BE50F859"></a></span><p class="table-body">This parameter has no effect if <span class="MenuCascade" id="GUID-BCD3480F-E9B4-42AA-99ED-EEA2D94307F3">max_distance</span> is zero. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-05D09B08-EFAB-474D-964A-986B74A07246"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-B9EF280E-CB44-4DE3-8792-847BEE067B52">refraction_base_weight</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-2EB470E7-2BC4-47C4-AFF3-4DE5E51E5E2F"></a></span><p class="table-body">A scalar multiplier for the refraction at surfaces facing the camera </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-293873DC-DCBA-49F8-994B-C06125772FE3"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7FE6C635-0181-413E-9627-61C656849FAF">refraction_edge_weight</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-A718849E-7481-41C2-9587-41C15B4D03D2"></a></span><p class="table-body">A scalar multiplier for the refraction at surfaces perpendicular to the camera (that
                           is, the edges). 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8695DC2F-9657-4ABC-818B-A100C4EE3E94"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-740BC691-CDA8-4492-AEBE-AFE8EA2FDDD3">edge_factor</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-12727C7B-B2B9-4199-A8D1-6378A1378D34"></a></span><p class="table-body">The narrowness of the edge. Generally, there is less refraction at the edges (glancing
                           angles) than on facing surfaces. This is known as a Fresnel effect. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-098DBACA-5D19-4540-AE40-BE722DDBDDE1"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-CE66EAC6-D148-40B1-8E0B-7B6D72FD29F2">ior</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-254A94F4-D74B-46C1-950F-921E5E76345A"></a></span><p class="table-body">The index of refraction. Since the perturbation of refraction is calculated based
                           on a perturbed normal vector, it is very important that this value defines a sensible
                           index of refraction. For example, an index of 1.0 causes no change in the ray direction,
                           which generates no blurriness whatsoever. As a special case, you may set this value
                           to 0.0 which switches to a "direction perturbing mode" rather than a "normal perturbing
                           mode." 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-A17DA726-C7F5-4E1F-88E3-F4897D8C733F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-E1716A12-00C6-40A2-9E7D-21112D3C7441">samples</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-0688C316-F113-468C-B0C4-31577CD8F4BA"></a></span><p class="table-body">Sets the number of samples used, and is ideally the power of 2. If this value is zero,
                           the shader reverts to single sample refraction only. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-481D1EB6-A1D8-4A1A-B719-1D42F810950E"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-AD908EE5-A2AF-40EA-9548-2B0BA4634A3B">u_spread, v_spread</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-557E1B59-4E06-4D22-BD7D-DBFD769D8A5F"></a></span><p class="table-body">The amount of normal vector perturbation performed in the U and V directions. </p> <span class="anchor_wrapper"><a name="GUID-49E4F077-AF83-46E1-8DAC-3B9BB51EF05F"></a></span><p class="table-body">If these values are identical, isotropic glossy refraction is generated. Upon any
                           difference between the two values, the anisotropic mode is enabled. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-70705E0F-4A0E-4795-B806-9769002A3B40"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-6F9E71E9-B2B1-417B-A624-7D034B54DE32">u_axis, v_axis</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-7E337309-32BB-4D66-A585-C77B1447B08F"></a></span><p class="table-body">Optional parameters for specifying the directions of anisotropy. These only apply
                           in anisotropic mode. 
                        </p> <span class="anchor_wrapper"><a name="GUID-B703C608-1461-4CEE-93C8-12332303A38E"></a></span><p class="table-body">If <span class="MenuCascade" id="GUID-FBE7C0D7-D4BC-4D6A-B5E8-A910AB4E7424">u_axis</span> is 0,0,0 the shader attempts to generate a default vector based on the first derivative
                           vector of the surface: if this missing, the vector is based on object-space X axis.
                           
                        </p> <span class="anchor_wrapper"><a name="GUID-F93E4F6A-F274-4833-AFAB-F0569DFADFD9"></a></span><p class="table-body">If <span class="MenuCascade" id="GUID-49209ACB-F773-4DEC-9976-9786660293BC">u_axis</span> has a value, it is used as the U direction of anisotropy. 
                        </p> <span class="anchor_wrapper"><a name="GUID-BE2B98AE-193C-4751-8791-4CBB9274582B"></a></span><p class="table-body">If <span class="MenuCascade" id="GUID-A573869B-8A8F-47CA-9761-EF36F5838970">v_axis</span> has a value, it is used as the V direction, but if it doesn't, the V direction is
                           calculated as the cross product of the original surface normal and the U direction.
                           
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-D38A37C7-501F-4658-9218-3235CF55A010"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-FA7A5220-386F-4A85-A860-1F7109388D0C">dispersion</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-D93F2E69-F000-4D58-B641-555B82450360"></a></span><p class="table-body">Dispersion goes from 0.0 (no chromatic aberration) to 1.0 (full spectrum chromatic
                           abberation). 
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS46CC01C21B33B846AC1E286D6380C7F6-0049"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-27DD635B-A878-4274-B142-B4D67DE19429"></a></span>Spectrum
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-EAA998A6-1EAF-409B-9627-12E603B78D8B"></a></span>Creates an array of colors defining the "rainbow" into which colors are broken when
                  the dispersion parameter is set to a non-zero value. The defaults are red-yellow-white-cyan-blue-indigo
                  colors, but can be set to anything you wish. 
               </p> <span class="anchor_wrapper"><a name="TABLE_E86BC3056B994E16B0CC90A4CB0E3048"></a></span><div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col align="left">
                        <col align="left">
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-4767D108-32EE-4811-A345-13DF5C409180"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5BCC751D-27D0-447F-9D81-6549A3B96308">Add</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-25CF013B-2438-4788-A8BD-45D83CAA5CBB"></a></span><p class="table-body">Adds a color Item to the list. </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-74931048-CE47-468B-8FF5-9362AF4152CD"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-20B4EE80-8527-4432-82E9-E3FD48DD7DB1">Clear</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-3EABB250-C4BB-4AC9-884A-1B299656190A"></a></span><p class="table-body">Removes all color Items from the list. </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-60A0897F-42F2-431D-AC20-D08C16D8BDEC"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-DFDED56F-A8E6-4F21-BF50-F073AEF15A5F">Item</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-A3546770-F51B-423F-B23E-2FAAC1F0756E"></a></span><p class="table-body">An Item port (parameter) representing an RGBA color value in the list. </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body">&nbsp; <img src="../images/GUID-F71CD98D-C4B0-4DC5-AA6B-12380D87081E-low.png"> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-4F9BC662-7772-48C4-9AAA-A83CF98FA63A"></a></span><p class="table-body">Click the <span class="MenuCascade" id="GUID-B1A486B4-BC8D-41F2-A1EE-3F3AFD31980E">Edit Item icon</span> to Remove, Rename, Move Up, and Move Down each Item entry in the list. 
                           </p> <span class="anchor_wrapper"><a name="GUID-F589FEB2-2467-478E-B864-30C8B9AF9B21"></a></span><p class="table-body">Once an Item is removed from the list, it no longer influences the effect created
                              by the shader. In most cases, the position of an Item in the list indicates its order
                              of evalution. Changing the evaluation order (moving Items up and down in the list)
                              can impact the final output results of the shader. 
                           </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>