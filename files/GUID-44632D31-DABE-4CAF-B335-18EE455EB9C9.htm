<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-44632D31-DABE-4CAF-B335-18EE455EB9C9">
      <meta name="indexterm" content="CrowdFX: particle emitter objects">
      <meta name="indexterm" content="emitter objects: CrowdFX particles">
      <meta name="topic-type" content="concept">
      <title>Crowd Particle Emitters</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-44632D31-DABE-4CAF-B335-18EE455EB9C9"></a></span><div class="head">
            <h1>Crowd Particle Emitters</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-1A2C6583-1C9F-43AF-B941-564699F0E668"></a></span>   
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-5FFC57A5-8F25-4972-8295-12CFAED1F1D8"></a></span>After you have selected an actor for the crowd simulation, you can choose the emitter
            for the particles. An instance of each actor will be attached to each particle upon
            emission. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-24DC4F97-5683-49FE-BC3C-0FBA8F4835B3"></a></span>As with a typical ICE particle simulation, the particles used in a CrowdFX simulation
            are emitted from one or more emitters. This can be an object you select, a special
            directional emitter (for pedestrian simulations), or a combination of both types.
            
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-1A2F55B4-F62E-4E9A-B198-8085F06A5300"></a></span>Each emitter you select or draw is added to the Emitters group in the Crowd model
            (see <span class="char_link"><a href="GUID-B28743FA-33EC-4DA3-877B-FA7E7FD97F68.htm">Anatomy of a Crowd Simulation</a></span>). 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-10B6C9B3-CAF1-461A-828E-9B125185B591"></a></span>If you don't want to use specific emitter objects, a default emitter object is created
            automatically when you create either a pedestrian or stadium crowd simulation - see
            <span class="char_link"><a href="GUID-2D267577-4F1A-4200-AA77-A39890B357C7.htm">Creating the Crowd Particle Simulation</a></span>. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_6EB249AACE0F451CA04DA74D0DBC3EA0"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-30ACDC58-4984-4CE9-B18A-EBA3D48D9E64"></a></span>Using Directional Emitters
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-C67CD51E-8FD4-4589-86C5-956FC94B2AC0"></a></span>Directional emitters are polygon meshes with custom properties, and are used in pedestrian
               (locomotion-type) crowd simulations. They can assign an initial direction for the
               particle (and therefore the actor that is instanced to that particle) upon emission,
               as indicated by an arrow, which may be bidirectional. When you run the particle simulation,
               the actors will initially move in the direction indicated. Of course, you can set
               the orientation of the particles upon initialization, as described in <span class="char_link"><a href="GUID-95B5FEE8-6205-4F72-ACE5-40A7C9474C5C.htm">Setting Up the Crowd Particle Emission</a></span>. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-D44A57C3-D920-4D37-B0D1-842648E133AA"></a></span>To create directional emitters: 
            </p> <span class="anchor_wrapper"><a name="OL_39DA1E9AABFD45F0A63DC020CBFE8876"></a></span><ol type="1" start="1">
               <li>Choose the <span class="MenuCascade" id="GUID-2EC89B8E-EA1B-4CA2-A307-C41017E60286">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Draw Directional Emitter</span> command from the ICE toolbar. 
               </li>
               <li>Use the drawing tool to define the area for particle emission. This emitter is drawn
                  on the XZ plane, and the arrow shows the direction in which the actors will move when
                  you create the particle simulation. 
                  <p><span class="anchor_wrapper"><a name="GUID-112AF681-639A-48CA-8484-ADA5BCAD2577"></a></span>The directional emitter object is added under the Emitters_Root node and to the Emitters
                     group in the Crowd model. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-8DB8A782-B473-4D5E-B603-6E0648C5901F"></a></span>As well, the Set Emitter Data ICE tree is created in the Modeling region of the emitter
                     object. 
                  </p> 
               </li>
               <li>Choose the <span class="MenuCascade" id="GUID-DA7CC527-837B-4CB4-A397-B1ABCD332D58">Draw Directional Emitter</span> command for each emitter you want to draw. 
               </li>
               <li>When you're done, you can transform the emitter as you like, such as to rotate it
                  to change the direction of the actors. <span class="anchor_wrapper"><a name="FIG_56752345EDA242BD817267E4A259C065"></a></span><div class="figure-anchor"><img src="../images/GUID-2C5118E0-CE5E-421E-8546-67FAE9505117-low.png"></div> 
               </li>
            </ol> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_F19B0BA9FCE8415FA63E0BE59FAD1F60"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-085E1E9A-E6CE-4E41-907B-4FB1FCEDAE1E"></a></span>Using Surface Objects as Emitters
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-C8ED04E3-91B0-4C75-9666-567587A9436F"></a></span>You can assign one or more surface objects (polygon mesh or NURBS surface) as particle
               emitters for a crowd simulation. The particles are oriented in the global Z direction
               upon emission. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-B7858455-95B2-48EC-B732-397FBA767583"></a></span>For pedestrian simulations, particles are emitted from an object's surface by default,
               so it's probably best to use flat objects, such as grids or discs. 
            </p> <span class="anchor_wrapper"><a name="FIG_5821B3761DB94278B17CADEC5B4A867B"></a></span><div class="figure-anchor"><img src="../images/GUID-F091D7DF-0DC4-466E-B82B-D413E66ACC77-low.png"></div> 
            <p><span class="anchor_wrapper"><a name="GUID-4771E117-033D-40FF-AF71-92337E00B792"></a></span>For stadium simulations, you need to create horizontal polygon meshes (usually grids)
               as the emitter object: one particle is emitted from each polygon on the object. You
               can change the emitter's resolution to change the number of particles. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-814DB9C2-1DB5-4171-AACA-E195DBA4D390"></a></span>If you are using several emitter objects of different sizes and they are in a group,
               the number of particles that are emitted per object is determined by the mesh with
               the fewest polygons. To solve this problem, simply merge all objects into a single
               mesh object to use as an emitter so that one particle is emitted per polygon. 
            </p> <span class="anchor_wrapper"><a name="FIG_3FDF7DECC2E44AD3B92554D0E5089614"></a></span><div class="figure-anchor"><img src="../images/GUID-64EA91A2-179F-47DF-83F3-E07B29FEFDB1-low.png"></div> 
            <p><span class="anchor_wrapper"><a name="GUID-6BED47B3-1976-4D0E-AD89-2796430E66C4"></a></span>To use surface objects as emitters: 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-8DDB52EF-C52C-471F-8DB3-140951600604"></a></span> <span class="anchor_wrapper"><a name="OL_8491D44A5A5B471AA040A48FEF23A9DB"></a></span><ol type="1" start="1">
                  <li>Select one or more surface objects. If you're using a hierarchy of objects, branch-select
                     the parent object. 
                  </li>
                  <li> Choose the <span class="MenuCascade" id="GUID-6313C3D8-0127-4F01-863F-D13FB0B5A40B">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Add Emitter(s) from Selection</span> command from the ICE toolbar. 
                     <p><span class="anchor_wrapper"><a name="GUID-9CB5BEF0-E3E0-485A-BDA7-ACBCDC3452BF"></a></span>The emitters are added to the Emitters group, but are not added under the Emitters_Root
                        null in the Crowd model. However, you can move the emitter object to be under this
                        null for easier management of all emitters. 
                     </p> 
                  </li>
               </ol> 
            </p> 
            <div><span class="anchor_wrapper"><a name="GUID-97184AEA-B036-4735-91B7-404D432D82F8"></a></span><div class="note-note"><span class="label">NOTE:</span>If you drag the objects directly into the Emitters group in the Crowd model in the
                  explorer, the Set Emitter Data compound is not automatically created for the emitter
                  object. However, you can create an ICE tree for the emitter and plug the Set Emitter
                  Data compound in there. 
               </div>
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_4F9B3C69E39F4175A075A8B090D75C71"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-B05B421F-C328-4F64-9AE4-7AC6C1F28AA2"></a></span>Editing the Emitter
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-738384A0-4820-4B3F-BCF9-B35AE929D4B2"></a></span>To edit an emitter, you can open the <span class="char_link"><a href="iceref_Set_Emitter_Data.htm">Set Emitter Data</a></span> compound that's in its ICE tree. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-6B39833A-C25B-4986-B568-A1617BD265D0"></a></span>Among other options, you can set the emitter's <span class="MenuCascade" id="GUID-85A2CA04-9E6B-43D4-8DA3-E41A53C6FA71">ID</span> to a unique value when you want to identify the emitter for a specific effect, such
               as emitting actors with specific materials from a specific emitter (such as in <span class="char_link"><a href="GUID-B3F59924-07E5-4155-AEB8-F5D1A0A358D9.htm">Modifying the Actor's Materials and Textures</a></span>). The <span class="char_link"><a href="iceref_Get_Crowd_Emitter_ID.htm">Get Crowd Emitter ID</a></span> compound lets you easily use this data in an ICE tree. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-CDE9A25D-4CDB-40D9-A4F0-963226C0B669"></a></span>For directional emitters, you can also select the <span class="MenuCascade" id="GUID-3753FD8E-0838-4D62-8593-B58F7E553B5C">Create Grid</span> option and then increase the <span class="MenuCascade" id="GUID-F5B06DB1-C10F-48D2-8182-41D4B30F040C">U/V Subdiv</span> values for better resolution on the emitter. This allows you to emit particles at
               each point on the emitter or use weight maps to filter the emission — see <span class="char_link"><a href="GUID-95B5FEE8-6205-4F72-ACE5-40A7C9474C5C.htm#GUID-C8C11F59-207E-432A-B6B8-ED87FE05390C">Using Weight Maps to Define an Emission Area</a></span>. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_2B5D24C41B29447396C4BA7EC396FA16"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-50B4A6D7-96A5-425C-9744-D0E2DC1E4825"></a></span>Adding or Duplicating Emitters
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-E1279430-C60F-44CB-95C8-4FE46C383712"></a></span>You can add an emitter to the current crowd at any time using the appropriate Emitter
               command from the ICE toolbar. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-377605E4-AFA4-4817-A02F-2D08152C7A90"></a></span>If you duplicate an emitter, its copy is automatically added to the Emitters group.
               You can then edit its properties in its Set Emitter Data compound. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_AFD88D51048D46C1931E1BF955D9ADCA"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-71BF9C00-1521-4F55-97BB-1FE83E438FBF"></a></span>Hiding or Displaying the Emitters
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-1F5B1495-9610-4135-B155-7FB803A2860B"></a></span>To toggle the hidden state of all emitter objects in the Emitters group, do either
               of the following: 
            </p> <span class="anchor_wrapper"><a name="UL_F00F055504B44F7890294B3360EFD2AA"></a></span><ul>
               <li>Choose the <span class="MenuCascade" id="GUID-86DA7AAC-CD39-4E9D-9070-7D38D036FC09">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Edit <img src="../images/ac.menuaro.gif"> Show/Hide Emitters</span> command from the ICE toolbar. 
               </li>
               <li>Select the Emitters group in the explorer and press the H key. </li>
            </ul> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>