<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-A839A717-4DD6-43BB-9F36-8AFCB14FB408">
      <meta name="indexterm" content="envelopes: assigning to deformers">
      <meta name="indexterm" content="Envelope - Set Envelope">
      <meta name="indexterm" content="Automatic Envelope Assignment property">
      <meta name="indexterm" content="envelopes: distance-based assignment">
      <meta name="indexterm" content="distance-based envelope assignment">
      <meta name="indexterm" content="envelopes: normal-based assignment">
      <meta name="indexterm" content="normals-based envelope assignment">
      <meta name="indexterm" content="envelopes: modifying properties">
      <meta name="indexterm" content="Automatic Envelope Assignment property">
      <meta name="indexterm" content="envelopes: returning to reference pose">
      <meta name="indexterm" content="reference poses: returning to">
      <meta name="indexterm" content="Envelope - Reset Actor">
      <meta name="indexterm" content="Envelope - Select Deformer from Envelope">
      <meta name="indexterm" content="envelopes: removing">
      <meta name="indexterm" content="Envelope - Remove Envelope">
      <meta name="topic-type" content="concept">
      <title>Assigning Envelopes to Deformers</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-A839A717-4DD6-43BB-9F36-8AFCB14FB408"></a></span><div class="head">
            <h1>Assigning Envelopes to Deformers</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-8506AE10-95EE-4975-BC86-4ABED6D910CB"></a></span>When you define an object as an envelope on a set of deformers, two things happen:
               
            </p><span class="anchor_wrapper"><a name="UL_C992386F67FD4A55A899F5134FD3FC2E"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-0D220059-CB36-492B-A990-BB68DF64F053"></a></span>Each point on the envelope is assigned to one or more deformers. This determines which
                     deformers influence that point. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-6545526B-F2B5-43EB-AFF9-1C8AFB44F45C"></a></span>Each point's weight is distributed between its deformers. This determines how much
                     each of the deformers influence that point. 
                  </p> 
               </li>
            </ul>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0019"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-0E8F5081-8D65-43DA-A089-6336B3392FEE"></a></span>Setting Envelopes
               </h2> 
               <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-001A"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-F69BB588-EA74-4507-8116-9E0610F55698"></a></span>To assign an envelope to deformers
                  </h3> <span class="anchor_wrapper"><a name="GUID-440EC3C8-C728-40D7-BCC7-CBCFBB44CD39"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-ACA24301-778C-424B-9500-5DE54DFFBDBE"></a></span>Select the objects, hierarchies, or clusters to become envelopes. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-8844B619-E416-41AE-A6C9-350CB17CDE4D"></a></span>Choose <span class="MenuCascade" id="GUID-B89CECF6-9905-46A1-AF73-5736668BB3B9">Deform <img src="../images/ac.menuaro.gif"> Envelope <img src="../images/ac.menuaro.gif"> Set Envelope</span> from the Animate toolbar. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-723ED7F1-CB16-4230-9442-FE8FDECA1619"></a></span>If the current construction mode is not Animation, you are prompted to apply the envelope
                           operator in the animation region of the operator stack anyway. Keeping the envelope
                           operator in the animation region ensures that it is above shape animation as well
                           as any topology operators, giving best results in most cases. It also prevents the
                           envelope operator from being removed if you freeze the modeling or create shape clips.
                           
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-166635AA-EBA8-4A4F-AF23-287159F74D74"></a></span>It is recommended to apply the envelope in the animation region unless you will be
                           using the envelope deformation as a modeling tool. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-B5429B96-DF55-46A1-8B34-1A594A8CDCF1"></a></span>For more information about construction modes in general, see <span class="char_link"><a href="basic_mod_OperatorStack.htm#WSC78556F0ADFBCD44BD39EA331DC9024D-0016">Construction Modes and Regions</a></span> [<span class="char_link"><a href="modef_cover.htm">Data Exchange</a></span>]. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-C4200873-4FC0-4887-AE24-B795C091DA00"></a></span>Pick the objects that will act as deformers. You are not restricted to skeleton bones;
                           you can pick any object. Left-click to pick individual objects and middle-click to
                           pick branches. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-B8DCB543-8279-4795-925D-594A24DB0769"></a></span>You can also pick groups in the explorer â€” this is equivalent to picking every object
                           in the group individually. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-5B943A61-8047-4FDF-AAB0-056FCF6849C6"></a></span>If you make a mistake, Ctrl+click to undo the last pick. If you change your mind,
                           press Esc to cancel the entire operation. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-15210DD1-731F-4CFA-890D-BD0DAEDC9751"></a></span><div class="note-tip"><span class="label">TIP:</span>You can create a group for your deformers first, then simply pick the group when setting
                              an envelope. 
                              <p><span class="anchor_wrapper"><a name="GUID-E5418614-EF5D-4CC2-A7F8-35E88640CCF1"></a></span>However, if you later add an object to the group, it is not automatically included
                                 as a deformer in the envelope assignment. To add deformers after enveloping, see <span class="char_link"><a href="att_env_AddingandRemovingDeformers.htm#WSDAAF7F2ABD2B13489B449A25174236B1-0089">Adding Deformers</a></span>. 
                              </p> 
                           </div>
                        </div> 
                        <div><span class="anchor_wrapper"><a name="GUID-36E94BCF-40A1-4AC7-92E2-C1A08C6BE687"></a></span><div class="note-tip"><span class="label">TIP:</span>If you middle-click to pick an entire hierarchy in branch mode, then any nulls or
                              other objects you have used to organize the hierarchy are treated as deformers and
                              assigned points. 
                              <p><span class="anchor_wrapper"><a name="GUID-5678271F-2434-4927-9BE1-A9E138B5CC44"></a></span>You may obtain better results if you pick each bone individually by left-clicking
                                 (node selection). 
                              </p> 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-77B417A6-4EDF-45D9-AC59-A3232105DB64"></a></span>When you have finished picking deformers, right-click to terminate the picking session.
                           The Automatic Envelope Assignment property editor opens. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-69F04190-D41E-4FF2-9929-65E07AEA2746"></a></span>Each deformer is assigned a color, and points that are weighted 50% or more toward
                           a particular deformer are displayed in the same color. 
                        </p> <span class="anchor_wrapper"><a name="UL_DA96C7400985459E9A2E0D2BF0F333B5"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-AEE8337D-C193-4961-8275-191B43010AA3"></a></span>To see the deformer colors on points in a viewport, click the eye icon in its menu
                                 bar and make sure that <span class="MenuCascade" id="GUID-1FBCBBF5-7458-4957-AEC1-E487DFD6FF2C">Weight Points</span> is on. 
                              </p> <span class="anchor_wrapper"><a name="FIG_ED9B79EBF7C74482B3D65422A4D33EDE"></a></span><div class="figure-anchor"><img src="../images/GUID-BFEF15DF-3CDB-4900-BE28-54BCA1796663-low.png"></div> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-E5697923-C8C0-469E-BE6F-4F7587C2FDE4"></a></span>To change the deformer colors, see <span class="char_link"><a href="weighted1.htm#WSDAAF7F2ABD2B13489B449A25174236B1-007F">Modifying Display Colors</a></span>. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-4F274B15-E6C2-46B4-B4DC-63FA4AE89F11"></a></span>Set the <span class="MenuCascade" id="GUID-3A4B4513-4AF1-410B-A241-1C9FEBB2102A">Number of Skeleton Objects</span> to which each point on the envelope is assigned initially. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-24ECBD8E-CF80-41AF-8EDF-B27C9CCDC955"></a></span>For example, if you leave this parameter at the default of 2, each point is controlled
                           by the two nearest deformers and its weight is divided between them. 
                        </p> <span class="anchor_wrapper"><a name="UL_EB06B5E783DD4F76BB411C36DAFE4128"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-C7EC35DC-0A94-417D-8862-B4F8B438BFE7"></a></span>Select the assignment method. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-6D67AF7E-FDD7-4542-9492-547984C53B2F"></a></span><span class="MenuCascade" id="GUID-4A8295FC-A42A-4C66-96B4-65A8829D0EE6">Distance-based</span> assigns weights based on the distance between points and deformers. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-0D1D2546-2479-426E-8AEE-1B739289EB13"></a></span><span class="MenuCascade" id="GUID-479A7EAC-3F88-49D5-B037-59235E36CAA0">Normal-based</span> considers the directions of the surface normals in addition to distance. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-A2C63A19-C4D1-4B53-BE3D-778DFF60F521"></a></span>This option is useful, for example, when enveloping things like legs and fingers.
                                 This method never assigns points from adjacent appendages to a deformer. The restriction
                                 is that the deformers must be entirely inside the envelope. 
                              </p> <span class="anchor_wrapper"><a name="TABLE_D28B88CC4A4D4621A5D2B4D6F3530D4D"></a></span><div class="table_NotRuled">
                                 <table cellpadding="0" cellspacing="0" class="not-ruled">
                                    <colgroup>
                                       <col>
                                       <col>
                                    </colgroup>
                                    <tr class="not-ruledOddRow">
                                       <td class="table-body">&nbsp; <img src="../images/GUID-67E0B867-C42E-41D4-A40E-94CF01AE4432-low.png"> 
                                       </td>
                                       <td class="table-body">&nbsp; <img src="../images/GUID-DF3FB799-DBBA-498D-B8B4-CB9A06055455-low.png"> 
                                       </td>
                                    </tr>
                                    <tr class="not-ruledEvenRow">
                                       <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-925D0E06-5F63-40FD-96AD-3EE9BD547B4B"></a></span><p class="table-body">Distance-based: points are assigned to nearest deformers, which may include the wrong
                                             leg. 
                                          </p> 
                                       </td>
                                       <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-FD319488-AC78-4446-B05E-EC0397101243"></a></span><p class="table-body">Normal-based: deformers must be inside the envelope. </p> 
                                       </td>
                                    </tr>
                                 </table>
                              </div> 
                           </li>
                        </ul> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-5A9800E8-65CE-4AF1-BB6A-69E8FDC51036"></a></span>Move the deformers to see how the envelope deforms. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-384AAE46-EBD7-4093-8A85-D8C18DBE2ABB"></a></span>If necessary, you can now change the deformers to which points are assigned, as well
                           as modify the envelope weights using the methods described in the next few sections.
                           
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-001E"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-B6988586-38F3-4BC4-B282-631CC2A2797D"></a></span>Modifying Envelope Options
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-0A47CB67-47B5-4A00-917A-175B442693ED"></a></span>At any time, you can redisplay the Automatic Envelope Assignment property editor and
                  change the options you initially chose (<span class="MenuCascade" id="GUID-3A1F00B4-BD48-426D-B222-969A0675EA0C">Number of Skeleton Objects, Assignment Method</span>). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-C664973D-322E-40E8-88BB-BD4C37C2A989"></a></span>To do this, select the envelope and choose <span class="charspan-emphasis"> <span class="MenuCascade" id="GUID-355010BF-BCAB-4C8D-A43C-0F6FF93DBFD2">Edit</span> <span class="MenuCascade" id="GUID-DC1D4A24-9B2D-4194-B7F7-5A3EC6A3F8EC">Properties</span> <span class="MenuCascade" id="GUID-2A4AC696-0827-4C3A-B98E-FD16762AE3B5">Animation Properties</span> </span> or <span class="MenuCascade" id="GUID-6B39E2E5-516D-4214-A78E-E8E903F2E538">Edit <img src="../images/ac.menuaro.gif"> Properties <img src="../images/ac.menuaro.gif"> Modeling Properties</span> and click the Automatic Envelope Assignment tab. 
               </p> 
               <div><span class="anchor_wrapper"><a name="GUID-9B42ABA5-2E6F-40C7-BA78-18E6513F1909"></a></span><div class="note-note"><span class="label">NOTE:</span>In the explorer, the Automatic Envelope Assignment node is located under the Envelope
                     Weights cluster rather than in the geometry operator stack. 
                  </div>
               </div> <span class="anchor_wrapper"><a name="FIG_6C2FFF0901CA4B788A25F16EE781CAE1"></a></span><div class="figure-anchor"><img src="../images/GUID-4D6EFFEA-09D5-4661-8D9E-B22270C6D33C-low.png"></div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0020"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C23029C7-9521-42AF-9622-60BC825FC128"></a></span>Returning to the Reference Pose
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-2DDE615C-86E4-414F-8172-09252D411584"></a></span>The <span class="MenuCascade" id="GUID-A28E5464-560D-491D-AC8F-2072CDCEB621">Reset Actor</span> command returns the envelope and its deformers to their reference poses. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0021"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-6920EBD9-8B4F-40C8-9DA2-EE9A423447EE"></a></span>To reset an actor
                  </h3> <span class="anchor_wrapper"><a name="GUID-68707D74-8EAC-4EC1-AA57-04E795148239"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-ED6ECC8B-C40E-4720-9F68-6F09E221A663"></a></span>Select an envelope or any of its deformers. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D88FC9B6-181F-4A6B-B99F-1F787F8F83F8"></a></span>Choose <span class="MenuCascade" id="GUID-9CE25CA8-9E9F-42E8-A5F0-A05F13C15074">Deform <img src="../images/ac.menuaro.gif"> Envelope <img src="../images/ac.menuaro.gif"> Reset</span> Actor from the Animate toolbar. 
                        </p> 
                     </li>
                  </ol> 
                  <div><span class="anchor_wrapper"><a name="GUID-21CD9A62-6F73-4B1D-B8D8-3B35211BD963"></a></span><div class="note-important"><span class="label">IMPORTANT:</span>If the envelope deformers are constrained to other control objects, then <span class="MenuCascade" id="GUID-06D76392-8398-41D0-A9E3-617A0997698C">Reset Actor</span> won't work. In such cases, you should use the <span class="MenuCascade" id="GUID-40CFAFD5-A8EC-4696-AC02-01E73A528814">Actions <img src="../images/ac.menuaro.gif"> Store <img src="../images/ac.menuaro.gif"> Transformations - Current Values</span> command to store an action containing the current transformations of all your deformers
                        and control objects in the reference pose before you move anything, and <span class="MenuCascade" id="GUID-72A8E29A-7731-43DD-AF6D-31084776709C">Actions <img src="../images/ac.menuaro.gif"> Apply <img src="../images/ac.menuaro.gif"> Action</span> to return to the reference pose. 
                     </div>
                  </div> 
                  <p><span class="anchor_wrapper"><a name="GUID-38FB4D37-D463-4844-BDBE-8170DAE3E0EC"></a></span>For more information about actions in general, see <span class="char_link"><a href="nla_actions.htm">Actions</a></span> [<span class="char_link"><a href="nla_cover.htm">Nonlinear Animation in the Animation Mixer</a></span>]. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0022"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-D2C2F3FB-8B58-4790-AF23-0652C004E59C"></a></span>Selecting All the Deformers
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-5FE1837B-9C31-4243-90AB-BFC76C71630E"></a></span>Sometimes you need to select all the deformers of a particular envelope. You can do
                  this with a single command. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0023"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-09AF9E5F-5E5B-477C-BFE9-684FDA3BD2D9"></a></span>To select all the deformers of an envelope
                  </h3> <span class="anchor_wrapper"><a name="GUID-12045C50-755B-40D5-B2D1-10F67BFEBD09"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D750E84F-3CEC-474F-9A00-ACA495478407"></a></span>Select the envelope. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D1486C23-0462-4991-887A-CE5A63367A85"></a></span>Choose <span class="MenuCascade" id="GUID-80B065F9-5BF9-470C-BA4D-3605895F180A">Deform <img src="../images/ac.menuaro.gif"> Envelope <img src="../images/ac.menuaro.gif"> Select Deformer from Envelope</span> on the Animate toolbar. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSDAAF7F2ABD2B13489B449A25174236B1-0024"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-ED5E384D-A6D4-4EEA-A868-F0303E4DEB41"></a></span>Removing Envelopes
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-FB418A25-12F8-4D1E-8C23-154A06583EE4"></a></span>To remove an envelope, select or it and choose <span class="MenuCascade" id="GUID-0B67887D-2F97-403D-B4C2-77325D043E1C">Deform <img src="../images/ac.menuaro.gif"> Envelope <img src="../images/ac.menuaro.gif"> Remove Envelope</span>. This removes the envelope deformation and any modifications you have made to assignments
                  and weights. Of course, you can always undo the envelope removal. 
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>