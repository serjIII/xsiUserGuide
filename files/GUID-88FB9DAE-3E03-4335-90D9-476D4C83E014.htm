<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-88FB9DAE-3E03-4335-90D9-476D4C83E014">
      <meta name="indexterm" content="CrowdFX: loading action sources">
      <meta name="indexterm" content="action sources: loading for CrowdFX actor">
      <meta name="indexterm" content="CrowdFX: COG deformer">
      <meta name="topic-type" content="concept">
      <title>Loading Action Sources for an Actor</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-88FB9DAE-3E03-4335-90D9-476D4C83E014"></a></span><div class="head">
            <h1>Loading Action Sources for an Actor</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-029B146A-09DB-49BE-AAA1-65991C0BBC48"></a></span>   
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-6A386EA7-84C2-427E-A1B0-92B4006853BE"></a></span>When you select a model to use as an actor in CrowdFX, you must select and load the
            action sources that it will use in the crowd simulation. The action sources must be
            defined in the source model's Mixer &gt; Sources &gt; Animation node so that you can load
            them. These action sources can be locomotion moving in global space, locomotion "in
            place" (such as a walk cycle that is done in the model's local space), or stationary
            (such as waving, standing, or sitting). 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-E8E32C1C-66F0-43E8-ABBA-0743CF475CD9"></a></span> <img src="../images/GUID-8A3524A3-1806-432B-B7CF-7C1EB3723D47-low.png"> 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-128D8AA4-911D-4B44-90F7-C4699C8D745F"></a></span>To load action sources for an actor: 
         </p><span class="anchor_wrapper"><a name="OL_B636A2BA1635460BBF85C01BE5F7940B"></a></span><ol type="1" start="1">
            <li>Load a model to be an actor as described in <span class="char_link"><a href="GUID-AF081E95-A70E-4BA6-A1DC-856C05C35A46.htm">Loading Actors for the Crowd Simulation</a></span>. 
            </li>
            <li>In the <span class="char_link"><a href="CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy.htm">CrowdFX Actor Proxy Property Editor</a></span> that appears, select the action sources that you want the actor to use from the <span class="MenuCascade" id="GUID-6072AC00-5B34-4C92-9A23-86DCD36DD8A8">Action Sources</span> list and click the <em class="strong">&gt;&gt;</em> arrow to move them to the <span class="MenuCascade" id="GUID-3340BD63-EEBB-45BA-9504-A1E6A34535EE">Selected Actions</span> list. 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-21E9DF57-3FD1-44AD-A9CC-C490C0C671B6"></a></span>Put the action sources in the <span class="MenuCascade" id="GUID-D6F40396-C84F-4F25-88C2-38B06E279402">Selected Actions</span> list in top-down order, going from the slowest to fastest speed (for blending purposes).
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-D3D96DDA-9184-4C73-B78D-5DCEE9972689"></a></span>Use the <span class="MenuCascade" id="GUID-FA166109-3219-436A-9499-F6414FA63C6E">Up</span> and <span class="MenuCascade" id="GUID-EC467D65-0F8C-42BE-AC7B-012652478086">Down</span> buttons to reorder them. 
               </p> 
            </li>
            <li>Select or deselect the <span class="MenuCascade" id="GUID-6EF103DA-4E74-4A28-8043-434D9ED90EDC">Use Center of Gravity</span> option depending on the type of animation in the action sources you're loading -
               see <span class="char_link"><a href="GUID-88FB9DAE-3E03-4335-90D9-476D4C83E014.htm#GUID-3972C244-B370-44BD-9FB0-D8AC0514DF03">Should You Use the COG or Not?</a></span> below. 
            </li>
            <li>Click the <span class="MenuCascade" id="GUID-68B579B4-28FC-4D53-8C27-A102A03C4032">All Above</span> button to load all sources in the <span class="MenuCascade" id="GUID-C2B0E07A-456F-4C4B-A4E7-E3163207A89C">Selected Actions</span> list for the actor, or select specific ones and click the <em class="strong">Selected</em> button. <span class="anchor_wrapper"><a name="FIG_0ED7EDD20D54439F843234D20192C77C"></a></span><div class="figure-anchor"><img src="../images/GUID-5FF58E2B-3A86-4D18-9DA8-5BBA17D3AA15-low.png"></div> 
            </li>
         </ol>
         <p><span class="anchor_wrapper"><a name="GUID-2054EF86-DDE4-4F34-9460-ED4B1A145D31"></a></span>For more information about action sources, see <span class="char_link"><a href="GUID-4C75C0D8-E7B9-463C-92FC-AB717A6498BB.htm">How Action Sources Are Used in the Crowd Simulation</a></span>. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_9955941F84954C9CB9AB6CF928F634B3"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-DA4383B0-AA6A-4A1B-892B-790DC0B8BCFA"></a></span>The Actor's Center of Gravity (COG) Deformer
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-85930C70-2ECD-4390-876F-9DE581968465"></a></span>  
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-BBEE0545-2092-4A40-8F02-47FB2E8AEBAB"></a></span>The actor's COG (center of gravity) is a deformer in the actor's rig whose horizontal
               speed (in the global Z direction) is used for calculating the actor's velocity for
               locomotion in the simulation. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-417752EE-6503-425B-8C3A-21C2EA9430D8"></a></span>When you import action sources for an actor, the COG in the actor's rig is automatically
               determined as the deformer whose Position X value is closest to zero and is closest
               to the center of the actor mesh's bounding box, such as the hip deformer. If this
               isn't the correct deformer for your rig, you can assign a different deformer as the
               COG as described in <span class="char_link"><a href="GUID-721F44F7-62DF-485B-B035-48A6B2248EC4.htm">Modifying the Actor's Rig</a></span>. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-3B83B132-5A7C-48EA-94E3-EF7F2BE95B29"></a></span>For the default pedestrian model shown below, the default COG is the hip deformer.
               
            </p> <span class="anchor_wrapper"><a name="FIG_E865D84E9B264F2DA12AECBE961C5148"></a></span><div class="figure-anchor"><img src="../images/GUID-F9F14220-386A-4A21-A1D3-013DEC6E6802-low.png"></div> 
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_5EF927E4675148EE8CDBDE3C24D9DB45"></a></span> 
               <h3><span class="anchor_wrapper"><a name="GUID-3972C244-B370-44BD-9FB0-D8AC0514DF03"></a></span>Should You Use the COG or Not?
               </h3> 
               <p><span class="anchor_wrapper"><a name="GUID-5C4CB268-6FB2-4A4B-9583-E5E13061DE4A"></a></span>In the <span class="char_link"><a href="CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy.htm">CrowdFX Actor Proxy Property Editor</a></span>, you can select or deselect the <span class="MenuCascade" id="GUID-FFACC1E5-BD37-4E3D-A993-EC9BD5F7DD38">Use Center of Gravity</span> option depending on the type of animation in the action sources you're loading. 
               </p> <span class="anchor_wrapper"><a name="UL_C7491CE103624A8F81CA8E483F2F19D6"></a></span><ul>
                  <li>Select the <span class="MenuCascade" id="GUID-8D2FDCDE-5470-452B-8616-50DDF98E9B99">Use Center of Gravity</span> option if the action sources contain locomotion animation that is done in global
                     space in the Z direction, such as for a pedestrian simulation. The actor's velocity
                     is computed based on the horizontal speed of its COG deformer. 
                  </li>
                  <li>Deselect the <span class="MenuCascade" id="GUID-17E79D5A-FF1C-415E-8195-D7AC6920B9F3">Use Center of Gravity</span> option if: <span class="anchor_wrapper"><a name="UL_F5C8C00D270947BA9C16A9DA15219DE5"></a></span><ul>
                        <li>The action sources are not locomotion types, such as sitting, standing, falling, or
                           waving type animations. Deselecting this option prevents actors from moving in the
                           Z direction when you want them to stay on the spot. 
                        </li>
                        <li>You don't want to lose any details in your original animation if they're in global
                           space. You then need to set the actor's horizontal speed value, as described below.
                           
                        </li>
                     </ul> 
                  </li>
               </ul> 
               <div><span class="anchor_wrapper"><a name="GUID-8D520CD1-04E1-40BF-BCA5-69D1FBF833C6"></a></span><div class="note-note"><span class="label">NOTE:</span>You cannot import the locomotion and non-locomotion data at the same time, since they
                     require different settings for defining the COG. 
                  </div>
               </div> 
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_9AD38BF183994433BD1C5AC3182D916A"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-60A1595E-14BB-4F5C-B0F8-22D7E3BB3B69"></a></span>Loading Different Types of Actions Sources
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-5E3E01D2-C55B-45E4-9D2A-38FF582E329B"></a></span>If you're loading a mixture of animation types in several action sources, you need
               to load the animation in two passes. You can do this in two ways: 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-470D47B5-623A-40C7-8AD6-8E2BD29E5801"></a></span> <em class="strong">Method 1</em> 
            </p> <span class="anchor_wrapper"><a name="OL_7BFC4DC5F34D49088C24B6C9F8B116C7"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-9356AE05-4541-41B1-A1CC-FE1BFC8D5EF6"></a></span>Load all the action sources into the <span class="MenuCascade" id="GUID-B1696A7E-A202-4A82-9EA0-CCB6D6D4FCFC">Selected Actions</span> list. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-4031E6C3-F4B1-40F7-9015-D603CCDC2056"></a></span>Select only the action sources of one type, such as only the locomotion types that
                     are moving in global space. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-2AFB4552-43F2-435A-B397-8407D0DD2FC9"></a></span> Select or deselect the <span class="MenuCascade" id="GUID-77AE6720-033B-4334-96BB-665DE3C54790">Use Center of Gravity</span> option to match the type of animation you're loading. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-8DB342BE-C5AA-4C7C-9F66-1E553424B75F"></a></span>Click the <em class="strong">Selected</em> button below the list to load only the selected actions. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-971F9252-9D7D-476C-B6F7-E96FC8507DB0"></a></span>After these are loaded, select the other types of action sources in the list, such
                     as stationary and "in place" locomotion types. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-9376FE7A-34C3-4580-AF2A-C2E7195A25AC"></a></span>Toggle the <span class="MenuCascade" id="GUID-8D81D2C3-ED3D-4D95-BC51-34F933631141">Use Center of Gravity</span> option and click the <em class="strong">Selected</em> button again to load these actions. 
                  </p> 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-2F48DF73-C9D9-4FAB-B542-E345CEC77FF7"></a></span> <em class="strong">Method 2</em> 
            </p> <span class="anchor_wrapper"><a name="OL_477FE94B5F0A4C4C9E54BC1A71B24C15"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-EE005091-B6FA-4594-9C2C-F2272B525583"></a></span>Load only one type of action source into the <span class="MenuCascade" id="GUID-6E084C97-E5A7-479C-9A55-AA4E781E1A66">Selected Actions</span> list. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-E0BEA031-1D60-4955-BA5A-2E0DB6ACFCEE"></a></span> Select or deselect the <span class="MenuCascade" id="GUID-F7A4F047-CF51-4957-A3EE-C853F6E76FA1">Use Center of Gravity</span> to match the type of animation you're loading. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-803EAE14-FFC0-4554-9F35-BEA97872423A"></a></span>Click the <span class="MenuCascade" id="GUID-267133C2-3566-4E22-9414-FC2FDA697C21">All Above</span> button to load all the action sources. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-324B0330-9FF0-46A3-8BCA-B30528CFC600"></a></span>Select those action sources and move them back to the <span class="MenuCascade" id="GUID-3D30AF58-833E-441C-8384-8E1CD2F570DE">Action Sources</span> list (click the <em class="strong">&lt;&lt;</em> button). 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-A8FDFF46-5B01-4DBC-AC38-643C3DA8AE8E"></a></span>Load the other type of action sources into the <span class="MenuCascade" id="GUID-BF121643-A926-4F82-9AD9-963DADB92DD8">Selected Actions</span> list, toggle the <span class="MenuCascade" id="GUID-F2D84F0D-C67C-4D29-B3F1-B71B32B14D9A">Use Center of Gravity</span> option to match the type of animation, and click the <span class="MenuCascade" id="GUID-EF92E267-FACE-49FC-8E33-464A46B529E7">All Above</span> button. 
                  </p> 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-47B2517A-B3BD-4E88-A16A-079AD011B76C"></a></span>If you import action sources using the incorrect <span class="MenuCascade" id="GUID-17218A02-7CFD-4590-A9A6-3FAD1F20DFDE">Use Center of Gravity</span> option, you can always re-import the action sources, and the existing animations
               in the ICE tree will update correctly. 
            </p> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>