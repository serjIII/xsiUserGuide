<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-ADB40297-95EE-42E4-B827-5F56A1AD52B6">
      <meta name="topic-type" content="concept">
      <title>Flatten Depth</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-ADB40297-95EE-42E4-B827-5F56A1AD52B6"></a></span><div class="head">
            <h1>Flatten Depth</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-093FC392-133E-46C5-BC68-9E753B491D61"></a></span>| <span class="char_link"><a href="shaderpresets707.htm#WS2E892A21A7DBDF4FA9E9713AF0DE8D59-000F">Flatten Depth</a></span> | <span class="char_link"><a href="shaderpresets707.htm#WS2E892A21A7DBDF4FA9E9713AF0DE8D59-0010">Render Tree Usage</a></span></p>
            <p><span class="anchor_wrapper"><a name="GUID-5233BD77-BA9B-4218-B041-31F8FD45EDB9"></a></span> <em class="strong">Category:</em> Output
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-573C73CC-4669-4781-A762-3AA68C46BB7A"></a></span> <em class="strong">Shader Family:</em> Output
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-188DBD96-500F-44A6-BDAE-2F82BA5F0CB5"></a></span> <em class="strong">Output:</em> Color
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-2E144DBE-9E2C-49E4-A906-19435B7BB3D1"></a></span>This shader is used to flatten a depth pass by normalizing the depth values for each
               object, based on its minimum, maximum or average depth. After the initial depth pass
               is performed, the shader uses tag information to compute each object's minimum, maximum,
               and average depth and then applies the selected depth value to the entire object resulting
               in a flat, constant depth. The shader then bakes the new depths into the frame buffer
               just before the .zpic is written to disk.
            </p>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-F138E1AA-C895-4CC6-8115-22636F866CFA"></a></span><p class="table-body">Name</p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-C58404C8-5D56-43D7-8832-BFBFC3029A0B"></a></span><p class="table-body">The shader's name. Enter any name you like, or leave the default.</p> 
                     </td>
                  </tr>
               </table>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS2E892A21A7DBDF4FA9E9713AF0DE8D59-000F"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-5006DF40-59F5-4EF4-9F41-022DA43A39E8"></a></span>Flatten Depth
               </h2> 
               <div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col width="220px" align="left">
                        <col align="left">
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-A61194AB-03C7-45EE-859D-DD05F4636727"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-E354E17B-E4C2-4C88-B3FA-10C05946C431">Depth Mode</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F231186D-D4BC-4833-89B5-7E14E4DEEFDC"></a></span><p class="table-body">Flattens each objects depth according to one of the following criteria:</p> <span class="anchor_wrapper"><a name="GUID-0B2C04B3-A75A-426F-BD82-13E4D139DE7E"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7A5B7502-6D73-42FE-AD3A-2DEB5A18C748">do not flatten:</span> does not flatten the depth.
                           </p> <span class="anchor_wrapper"><a name="GUID-833095F4-D6E4-4CDF-8508-CB5E051AC048"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-42C2712A-E074-4264-B609-0560636698E0">Average:</span> flattens each object's depth using its average depth value.
                           </p> <span class="anchor_wrapper"><a name="GUID-2DD2A4C0-7712-4ED7-BA0B-4204065A9552"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-3720A675-FC18-40F5-91CA-AD1801CCEB17">Maximum:</span> flattens each object's depth using its maximum depth value.
                           </p> <span class="anchor_wrapper"><a name="GUID-4B24706A-7949-4BDF-B23D-FC0D72F92612"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7E0BE372-140C-47EB-BDBF-2E55CB2C5573">Minimum:</span> flattens each object's depth using its minimum depth value.
                           </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-9DDE74B6-7776-4230-B147-78C19B34216B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-A629DE81-6B26-41B0-8C84-BC8F2A758CE7">Camera Space Depth</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-99224318-5BBB-4389-BDFB-57B2F54C1A88"></a></span><p class="table-body">Converts the depth data from raster space to camera space.</p> 
                        </td>
                     </tr>
                  </table>
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS2E892A21A7DBDF4FA9E9713AF0DE8D59-0010"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-73BCCFBD-AA18-4533-927C-4ABFE68F1A38"></a></span>Render Tree Usage
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-17DD2EC7-B535-4FDE-8199-CAB4EBF629E3"></a></span>This output shader isn't used directly in the render tree; rather, it is applied using
                  a pass's shader stack. For more information, see <span class="char_link"><a href="passes_DefiningPartitions.htm#WSBDF3789326DBBD4FB2A3C80D3F0ED961-005A">Applying Shaders to Partitions</a></span> [<span class="char_link"><a href="render_cover.htm">Rendering</a></span>].
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>