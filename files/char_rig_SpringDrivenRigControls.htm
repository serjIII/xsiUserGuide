<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-3FAD6EC7-290F-490E-9BFD-AFC0DB074EAF">
      <meta name="indexterm" content="SpringOp">
      <meta name="indexterm" content="springs: in rig controls">
      <meta name="indexterm" content="rigs: springs in controls">
      <meta name="indexterm" content="spring operator">
      <meta name="indexterm" content="simulation: spring-driven controls in character rigs">
      <meta name="indexterm" content="springs: finding the spring operator controls">
      <meta name="indexterm" content="tails: tail controls for spring">
      <meta name="indexterm" content="springs: type of spring">
      <meta name="indexterm" content="springs: speed of movements">
      <meta name="indexterm" content="springs: accuracy of simulation">
      <meta name="indexterm" content="springs: rest state">
      <meta name="indexterm" content="springs: initial state">
      <meta name="indexterm" content="springs: mass">
      <meta name="indexterm" content="springs: stiffness">
      <meta name="indexterm" content="springs: damping">
      <meta name="indexterm" content="springs: editing curves for dynamic properties">
      <meta name="indexterm" content="springs: blending simulation with animation">
      <meta name="indexterm" content="springs: muting the simulation">
      <meta name="indexterm" content="caching: simulation of spring operator">
      <meta name="indexterm" content="springs: caching simulation">
      <meta name="topic-type" content="concept">
      <title>Spring Operators for Tail, Ear, and Belly Rig Controls</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-3FAD6EC7-290F-490E-9BFD-AFC0DB074EAF"></a></span><div class="head">
            <h1>Spring Operators for Tail, Ear, and Belly Rig Controls</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-25670726-76C0-4D0F-B229-69507BF47973"></a></span>Several different controls in the character rigs are driven by spring operators. These
               include the tail, ear, and belly controls in any of the rigs, as well as the tail
               that you can create independently and parent to your rig (see <span class="char_link"><a href="char_rig_CreatingaTail.htm">Creating a Tail</a></span>). 
            </p><span class="anchor_wrapper"><a name="FIG_0237856B557440C394E1F7D8A6A20708"></a></span><div class="figure-anchor"><img src="../images/GUID-F6D86248-76DD-40B6-AC64-3C37F770DCC8-low.png"></div><span class="anchor_wrapper"><a name="TABLE_9D0AE0698D7748328E494814605910B3"></a></span><div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-11004B43-435D-499A-9D8E-01D2F8B4FFCA"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-CE4EF4BC-A47F-493E-873F-3A6029E74671">A</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-FC5DDD5E-2DFA-4006-BB64-6F115684742D"></a></span><p class="table-body">Ears: curves are chains driven by springs. Spheres control ears' rotation. </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-A95E3177-DCD2-4C49-A523-D62AA9A0141B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-18A0D983-FC68-4D4A-BDD1-4C82B862DF0E">B</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-6AFA5660-AFD0-42AE-99CD-3458FEA77A21"></a></span><p class="table-body">Tail: curve is a chain driven by springs. Spheres control tail's rotation and translation.
                           
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-ECD5C6E9-2238-478B-8917-2B5E4470C7B8"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-66FDE70D-FD59-4713-9EF8-C73F9042ADC9">C</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-8114372D-608A-4E8D-8E2E-1C06E0E11581"></a></span><p class="table-body">Belly: box controls rotation and translation of the belly area. The curves connecting
                           the box to the rig are chains driven by springs. 
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-616911E9-3E14-487E-B345-F1E81345B238"></a></span>You can modify the spring operator's parameters to control various aspects of the
               simulation, as well as spring's dynamic properties (mass, stiffness, and damping)
               and initial and rest states. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-BD5A6CC4-2FFB-4CD8-A2CB-A510B23A9124"></a></span>For the tail and ear controls, you can modify the simulation further, including editing
               the profile curves for the spring's dynamic properties and caching the simulation
               to an action source. 
            </p>
            <div><span class="anchor_wrapper"><a name="GUID-9195F74C-C256-412F-9E90-1DA1E1EDDBBE"></a></span><div class="note-note"><span class="label">NOTE:</span>You must have the Interactive play mode active in the <span class="char_link"><a href="property7050.htm">Simulation Time Control Property Editor</a></span> to be able to interact with the spring-based control objects in the view. This play
                  mode is active by default for all spring-based control objects. However, to calculate
                  motion blur, you need to switch to Standard play mode. 
               </div>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-0097"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-49976D9A-3351-4711-A4ED-FCECFA5F9080"></a></span>Finding the Spring Operator and Tail Controls
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-BC5BABF8-9753-42F4-9AF0-9FC35F95419F"></a></span>The Spring operator is found under the <span class="MenuCascade" id="GUID-873E6425-FF1C-4F5D-A8C2-00191AA59ABD">Kinematics <img src="../images/ac.menuaro.gif"> Global Transform</span> node of the appropriate control object's effectors, which are hidden. To make it
                  easier to work, you can "unhide" the effectors, then use an explorer to find their
                  Spring operator (see next page). In the Spring Operator property editor, you can mute
                  and reset the spring's simulation, as well as set the spring's type (linear or angular),
                  dynamic properties (mass, stiffness, and damping), and initial and rest states. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A1553FB5-0E05-4DB5-8B30-50C466FE6249"></a></span>For the tail and ear controls, you can modify the simulation using the parameters
                  in the Tail Control custom parameter set, which is found directly under the control
                  object's root node. This custom parameter set includes a profile curve editor for
                  editing the spring's dynamic properties, as well as parameters for blending the simulation
                  with animation, determining the spring's response speed, muting and resetting the
                  simulation, and caching the simulation to an action source. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-0098"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-9B533DE4-E0AF-4B70-B578-A384F6CBBAE8"></a></span>Accessing the Spring Operator
                  </h3> <span class="anchor_wrapper"><a name="GUID-6F5E93BE-3F10-49C8-BE2E-68E9FFA28C78"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-11DBB21A-EBAA-4D85-894E-5A177F8286C4"></a></span>Select a tail, ear, or belly control object in a biped, dog leg biped, or quadruped
                           rig. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-62F5E075-102D-4C35-9877-17C19FA08BB1"></a></span>In an explorer, select the <span class="MenuCascade" id="GUID-E89B3AF4-8E90-4780-8BBF-2F8E555F6B6E">hidden</span> group under the rig's model and press <span class="MenuCascade" id="GUID-E8134CA6-63C2-4E2B-AF58-7BCCA8492A13">H</span> to unhide the controls. Many nulls appear â€” do not be alarmed! You can find the spring
                           operator under each rig control's "hidden" effector. 
                        </p> <span class="anchor_wrapper"><a name="FIG_EB445D9B407A4ACE854320DA7CFD83DB"></a></span><div class="figure-anchor"><img src="../images/GUID-8CB02D40-0D9E-4939-8258-D2847F7E1889-low.png"></div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F2125676-B7FD-4BE6-8BF2-C13C10517CD6"></a></span>Select the appropriate effector for the ear, belly, or tail. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-64F19EC5-F636-47B3-AFC3-D5376AE32DB6"></a></span><div class="note-note"><span class="label">NOTE:</span>The belly control has two chains (<span class="MenuCascade" id="GUID-05C2A868-8FD6-4669-9DD1-693C7EC7562A">UpperBellyBone</span> and <span class="MenuCascade" id="GUID-E075D0D7-5A29-4B76-B1F3-97710D27CCD3">LowerBellyBone</span>) connecting the belly to the spine, and each has an effector (<span class="MenuCascade" id="GUID-E4D548E1-9C97-40A1-A673-C93548F775C0">UpperBellyEff</span> and <span class="MenuCascade" id="GUID-48E5374C-6437-411C-9BBA-9A3BD3079DAB">LowerBellyEff</span>) that has a spring. Remember to modify the springs for both chains! 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-9B8D16E2-C88B-49A7-AB29-52F73A17C8AB"></a></span>In the explorer, press F to find the effector and expand its <span class="MenuCascade" id="GUID-CF52BD68-D1BD-47D2-952A-EF87DFADB50B">Kinematics <img src="../images/ac.menuaro.gif"> Global Transform</span> node. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-8449E136-0273-4AB7-BAA3-B17BC08F416F"></a></span>Click the <span class="MenuCascade" id="GUID-844699FA-CF19-4C07-97DC-31835A426CD1">Spring</span> icon to open the Spring Operator property editor. 
                        </p> <span class="anchor_wrapper"><a name="FIG_75CF7D09F4774208966FCC3E4C1F8B85"></a></span><div class="figure-anchor"><img src="../images/GUID-2AE36854-E6C4-404A-85A3-1EE897A1D8E4-low.png"></div> 
                     </li>
                  </ol> <span class="anchor_wrapper"><a name="TABLE_44A5EA755AF748EA8962E6D88AC15F14"></a></span><div class="table_Ruled">
                     <table cellpadding="0" cellspacing="0" class="ruled">
                        <colgroup>
                           <col align="left">
                           <col align="left">
                        </colgroup>
                        <tr class="ruledOddRow">
                           <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-EAE5513B-B467-4569-9146-BF3B3AB557BC"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-42F0B766-657E-40B1-95B9-B51FC2AC5EAC">A</span> 
                              </p> 
                           </td>
                           <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-DBDB919F-5AC4-44ED-9DDE-F0DEEDC95CBC"></a></span><p class="table-body">Unhidden effectors with spring controls for ears. </p> 
                           </td>
                        </tr>
                        <tr class="ruledEvenRow">
                           <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-E957F419-984E-438F-B6A8-D66D0C4A3389"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-F0CC160D-86A8-4D99-B6A3-AE0458F93193">B</span> 
                              </p> 
                           </td>
                           <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-969DD74D-3D0F-47F8-A9B4-052EC910C750"></a></span><p class="table-body">Unhidden effectors with spring controls for belly. Remember to set the springs under
                                 both the LowerBellyEff and UpperBellyEff. 
                              </p> 
                           </td>
                        </tr>
                        <tr class="ruledOddRow">
                           <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-4F372728-C9A0-4C69-B8B9-287B32F8F9F7"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5E3313EB-B3F5-455E-87F6-01627318B865">C</span> 
                              </p> 
                           </td>
                           <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-7900BC36-9DE1-4867-8E12-74359BF204AD"></a></span><p class="table-body">Unhidden effector with spring controls for tail. </p> 
                           </td>
                        </tr>
                     </table>
                  </div> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-009C"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-31E6B7B8-E04F-4193-9211-932CB710D2BE"></a></span>Accessing the Tail Controls Custom Parameter Set
                  </h3>  <span class="anchor_wrapper"><a name="GUID-49AA9574-BB1C-4823-83AD-067073EDCF8D"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-18059E5E-E997-4106-885F-03AA9858485E"></a></span>Select a tail or ear control object in a rig. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A7AC385F-FF4C-40AF-93DE-264016DFE14F"></a></span>In the explorer, expand the tail's or ear's root node. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-BA898821-B5AF-437C-B683-1892302CD402"></a></span>Click the icon for the Tail Control custom parameter set. 
                        </p> <span class="anchor_wrapper"><a name="FIG_106843D11F274181AF45B2C04EC4CC84"></a></span><div class="figure-anchor"><img src="../images/GUID-2E2E4BFE-EED2-4143-97C0-D172391AFCC2-low.png"></div> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-009F"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8A4DEC40-DBC5-4874-822D-AB41EF23D85D"></a></span>Setting Up the Spring's Movement and Accuracy
               </h2>    
               <p><span class="anchor_wrapper"><a name="GUID-153AAD36-21EF-4087-BD33-25CBCD9F151C"></a></span>To determine how the spring moves, you can set the spring's type to be either linear
                  or angular. You can also set how quickly the spring responds to movement, as well
                  as the accuracy of its simulation. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A0"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-47BDD07F-9360-462E-A747-EB626B3D6D95"></a></span>Selecting the Type of Spring
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-12B173D0-E5A3-4F28-84B2-32C8767B0B96"></a></span>In the Spring Operator property editor, select a <span class="MenuCascade" id="GUID-DD11AC26-59CC-40C2-B431-9EF26629C01F">Type</span>: Linear or Angular 
                  </p> <span class="anchor_wrapper"><a name="UL_B6D2F53A9ED440BBAFB4423CE010BB87"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-26B7BB4D-9614-4872-8047-C18ADC72977E"></a></span> <span class="MenuCascade" id="GUID-203338D1-5FA3-4EBE-A738-49CD8B52027E">Linear</span> springs apply a linear force to the simulated object. This type of spring is what
                           you usually think of as a spring: a bouncy coil between two objects that can expand
                           and contract. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F76E376D-9D5E-4321-BBE4-56991C34A35F"></a></span> <span class="MenuCascade" id="GUID-F417FD3B-29FE-4C28-9943-77F8D059F495">Angular</span> springs apply a twisting force or torque. They behave like swinging galley or saloon
                           doors: you push the door open and the door swings back and forth until it returns
                           to its resting position. There's no expansion or contraction with angular springs:
                           the object is at a fixed radius and swings around the other object. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A1"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-252B6895-5025-4786-8FA4-37BD106D7EE1"></a></span>Setting the Speed and Accuracy of the Spring Simulation
                  </h3> <span class="anchor_wrapper"><a name="UL_09D30629E8824B839F0702909FEC13BB"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-C38909DE-E6FC-473F-80BE-2316A5C51890"></a></span>In the Tail Control custom parameter set, set the <span class="MenuCascade" id="GUID-AB86ADF3-9CAE-409B-8141-F3D700E82920">Response Speed</span>. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-5AD9536C-4F4B-470E-BAD2-22BAA7C946D3"></a></span>This is the amount of time the control object takes to respond to movement. The higher
                           the value, the more quickly the control object responds to movement. For example,
                           doubling the speed makes the control object react twice as quickly to movement. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-59D11147-1AE0-483D-8475-9E6B2AAFAACA"></a></span>This parameter controls the Step Size parameter in the Spring operator, so a larger
                           value here increases the speed as more time elapses between each update. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-ADA3D518-8420-4C1C-BC92-6CB03CFE2FC5"></a></span>In the Spring Operator property editor, set the <span class="MenuCascade" id="GUID-8784F4CA-8698-4880-9611-2FC03E2EECE0">Step Size</span> and <span class="MenuCascade" id="GUID-DA9727B2-5826-4A52-813A-8C2D7AFF2C0F">Sub Steps</span>: 
                        </p> <span class="anchor_wrapper"><a name="UL_0279B57FC65748C89528EA041D606315"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-6119243F-F346-469A-BD45-A31766E52520"></a></span> <span class="MenuCascade" id="GUID-4D3E8ADE-CB07-4460-8B40-6FD1D43FA37C">Step Size</span> is the size of each evaluation step of the simulation. Be careful about using too
                                 large a step size because it may make the simulation unstable. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-13F1C5DD-DB0C-4964-8FEF-58A247053631"></a></span> <span class="MenuCascade" id="GUID-4FC145D3-02CF-4270-A483-240500B8F874">Sub Steps</span> is the number of times that the spring simulation is evaluated at each frame. For
                                 example, at 30 frames per second, setting this value to 4 would mean that the simulation
                                 is updated 120 times a second. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-02A70222-CE4A-45AB-8C77-40B13299CAE1"></a></span>Increasing this value can make the simulations more accurate, especially with fast-moving
                                 objects. Of course, increasing this value also increases the calculation time of the
                                 simulation. You should start with a low level and gradually work up in small increments.
                                 You shouldn't usually need more than a value of 100 or less than a value of 4. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                  </ul> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A2"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-B88D77A1-3027-4311-942C-8201A62DA5FC"></a></span>Setting the Spring's Rest and Initial States
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-451DBB7E-10E6-4A6D-B231-E856ED7375EF"></a></span>When you're animating rigs, you often need to have the rig element be in a certain
                  state at the first frame of the simulation. The initial state is a combination of
                  the position and velocity of a rig element's spring at the first frame of the simulation.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-C83A687E-896A-48E1-B47A-462B2A5EE032"></a></span>With springs, you also need to set their rest state, which is the position that the
                  spring tries to return to during the simulation. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A3"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-66E97891-0B97-4911-8889-AEBFE0D7B407"></a></span>To set the spring's initial state
                  </h3> <span class="anchor_wrapper"><a name="UL_1DBD08D9F1D54A4C8E4A7C04E9D1D7DE"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-87809FF1-0CBA-48B6-9677-51B6E7104089"></a></span>In the Spring Operator property editor, set the values for the <span class="MenuCascade" id="GUID-3E8BAA6E-3674-4A12-B7C7-74DD6EF684AA">Initial State - Position X/Y/Z</span> and <span class="MenuCascade" id="GUID-F4F28DF0-3A49-49C4-A966-4AB403187199">Velocity X/Y/Z</span> sliders. These set the spring's position and velocity at the start of the simulation
                           (initial pose). 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-0FAD8784-0BFD-4042-B652-8AB4A10CB3EE"></a></span> <em class="mild">or</em> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-CED2AFCE-726F-4C2B-9CFD-4BBBFDAEAE62"></a></span>Transform the object as you like in a view. Then click either the <span class="MenuCascade" id="GUID-DD4A9E60-4659-4075-8034-714C45969EA0">Initial State</span> button in the Spring Operator property editor or the <span class="MenuCascade" id="GUID-891DE391-6885-4FD3-AD55-B7B5FECB4F81">Set as Initial State</span> button in the Tail Control custom parameter set to use the spring's current state
                           to be its initial state. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A4"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-49E34BEF-88A4-4978-8373-29FE5DC30360"></a></span>To set the spring's rest state
                  </h3> <span class="anchor_wrapper"><a name="UL_C30B76C36D05489EA145AECF719D3059"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B9A3B1DC-E350-40E8-8170-C5D03CF6F571"></a></span>In the Spring Operator property editor, set the values for the <span class="MenuCascade" id="GUID-582329CB-4BE9-426E-A2C8-25F3D4107B87">Rest State - Position X/Y/Z</span> sliders. This sets the spring's resting state, which is the pose unaffected by simulation.
                           
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-51013AD7-9D25-4BB4-9AFF-7E9FF99A6E2E"></a></span> <em class="mild">or</em> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-FFB8C44E-4A79-406C-8744-BC3CE9D3285E"></a></span>Transform the object as you like in a view. Then click the <span class="MenuCascade" id="GUID-A57E926A-876B-4EF0-A59D-7F7C5A33308A">Set as Rest Pos</span> button in the Spring Operator property editor to use the spring's current state to
                           be its resting state. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A5"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-B2DF077B-B173-4DED-8055-B7563AA161E9"></a></span>To reset the spring's simulation
                  </h3> <span class="anchor_wrapper"><a name="UL_E55AC0EECD7E4AB494F252AD0B3EFF89"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-6B1CE156-3FEA-4EBC-8631-68523905A12C"></a></span>Click the <span class="MenuCascade" id="GUID-F1E9CC9E-DDEC-4B58-A0C7-BDD9E890D0BD">Reset Simulation</span> button in either the Spring Operator property editor or the Tail Control custom parameter
                           set. This resets the spring to its rest position (unsimulated state). 
                        </p> 
                     </li>
                  </ul> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A6"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-1EB36F1D-7186-4F22-B990-2754B7188F6F"></a></span>Editing the Spring's Dynamic Properties
               </h2>    
               <p><span class="anchor_wrapper"><a name="GUID-8EA35440-2754-4E94-99CC-D2BC2708DADA"></a></span>In the Spring Operator property editor, you can set the spring's physical properties
                  (mass, stiffness, and damping) to determine how it moves and reacts during the simulation.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A6AAB857-3509-40BC-A6CC-F12C51A8D3B0"></a></span>For the tail and ear controls, you can further modify these parameters using the profile
                  curve editor in the Tail Control custom parameter set. This lets you control each
                  parameter's influence at each of the control points along the tail's or ear's curve.
                  For example, you can edit the Dampness values for the tail so that there's less damping
                  at the tail's tip than there is closer to the body. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-C019FD95-3DEB-4D63-8644-4FCCD9F8118D"></a></span>In the Spring Operator property editor, set values for each of these parameters: 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-332F415B-B711-4D3F-982D-BD590E144E14"></a></span> <span class="anchor_wrapper"><a name="UL_7FB9D4A19C744ECAB84A8BA9911E7AF6"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B252803F-694F-4E8B-AE4E-399E9A29F801"></a></span> <span class="MenuCascade" id="GUID-E2D23D68-08EC-435B-987F-05B2BD8B7FAC">Scale</span> is the size of the control object's spring relative to the distance unit used by
                           the simulator. The simulator uses meters for distance while Softimage uses grid units,
                           so this value is the number of grid units per meter. A scale value of 2 means that
                           if the simulation moves an object 1 meter, the object will move 2 grid units in Softimage.
                           
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-1CD657C6-450A-48A4-8C6E-282252274E8B"></a></span>You should set this value to keep the spring's behavior the same when scaling rigs:
                           if the rig is doubled in size, the spring's scale needs to be doubled as well to maintain
                           the same effect. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-08E43762-E543-466C-BCFE-84571BD8552C"></a></span> <span class="MenuCascade" id="GUID-F1F44277-A841-40A6-8431-59E1CC378593">Mass</span> is the weight in kilograms (kg) of the tail or ear. The more mass, the more force
                           it takes to change the tail's or ear's direction. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-76466564-784A-459E-9E51-F8E15CC21E03"></a></span> <span class="MenuCascade" id="GUID-4499B860-545B-4A7D-B5DA-F957AE35BFF5">Stiffness</span> sets the rigidity of the spring. Higher values cause the spring to be stiffer. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-81C34150-C0FC-4EE8-8B79-960BF5A3077E"></a></span> <span class="MenuCascade" id="GUID-BF0B0EC7-0657-4C82-8BC7-8C979E8B9DA1">Damping</span> is the resistance of the tail or ear to velocity and affects how quickly it responds
                           to movement or animation. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-8EDF0B78-5876-4CF8-931A-FCC829CCDABC"></a></span>Low damping values make the control object respond quickly to animation, but it can
                           be bouncy and may oscillate before reaching its animated (rest) state. High damping
                           values make the control object respond more slowly to animation and move smoothly
                           to its animated (rest) state. 
                        </p> 
                     </li>
                  </ul> 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00A8"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-7BAB294B-016C-44C1-90D9-432102E05BE9"></a></span>Editing the Spring's Profile Curves
                  </h3>  
                  <p><span class="anchor_wrapper"><a name="GUID-0F2CA631-9CDD-4EC1-8BBF-9AA85EDF63A3"></a></span>If you're using the tail or ear controls, you can also edit the profile curves for
                     the Mass, Stiffness, and Damping parameters. By editing curves that relate to the
                     spring's physical properties, you can more accurately control the behavior of the
                     tail or ears at each of the control points along the length of their curves. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-9A4D9E5B-2928-43F9-BDBD-85A22529A4DA"></a></span>Follow the steps below: 
                  </p> <span class="anchor_wrapper"><a name="FIG_FCB660D3CF5F44F6A739BECE5323526F"></a></span><div class="figure-anchor"><img src="../images/GUID-92D6D9CE-865C-4AD5-BD61-BBEAED7F102F-low.png"><span class="anchor_wrapper"><a name="GUID-5ECBDC8D-B2E0-4629-987C-A875EC8B81DB"></a></span><ol type="1" start="1">
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-16446152-1BCF-461E-B469-427182189D9A"></a></span>Open the tail or ear's Tail Control custom parameter set and click the Profile Curves
                              tab. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-2989A0DB-B2B0-44EF-8938-6FC1236AB6C5"></a></span>Select a physical property parameter from the <span class="MenuCascade" id="GUID-105C3FC9-DAE0-421D-AC6B-1B08F6D815B0">Distribution</span> list: Mass, Stiffness, or Damping. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-EA80EC17-57CB-4D40-AC02-0CD28D898B21"></a></span>Edit the selected Distribution parameter's curve in the Profile Curve editor below
                              it. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-AA41B0A6-7041-4D4D-8410-D4F4C462ABED"></a></span>The parameter's values are shown on the graph's Y axis; the control points (tail division)
                              along the tail's or ear's curve are shown on the graph's X axis, with 0 being the
                              tail's or ear's root. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-83CB38D5-3AAE-4E5B-9C4F-4F4A54F9AA36"></a></span>Select and move a point on the curve, or right-click a curve to open a menu of commands.
                              You can edit the curves here as you do in the fcurve editor â€” see <span class="char_link"><a href="ani_fcurves.htm">Editing Function Curves</a></span>. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-66830AE1-CED7-4BD9-A2CE-57C7D1A86A69"></a></span>The values for the Distribution parameter curves are displayed in the <span class="MenuCascade" id="GUID-FE727AD6-97A2-4756-BABA-18B6A31F9630">Spring Parameters</span> table beneath the curve editor. As you edit the curves, you'll see the values change
                              in the Spring Parameters table. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-79CF6C36-C26F-4349-98A8-4BF2F0FD4030"></a></span>Each Spring number (Spring0, Spring1, Spring2, etc.) represents a control point on
                              the control object's curve, with Spring0 being the root. 
                           </p> 
                           <p><span class="anchor_wrapper"><a name="GUID-D502E667-A7E4-49CC-B622-CDDD2C4FD3AA"></a></span>You can edit the values for each control point by double-clicking in the appropriate
                              cell in the table and entering a new value. This may be useful for entering more exact
                              values than you can set interactively in the curve editor. 
                           </p> 
                        </li>
                     </ol>
                  </div> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00AB"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-D0F8146D-FE25-4D1B-B131-FACA3C89310A"></a></span>Blending the Animation and Simulation
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-788DC6A6-265D-42FF-94E2-91894B7394F0"></a></span>You can blend the animation and simulation on the control object's movement. For example,
                  if you have animated a dog's tail so that it wags back and forth, you can combine
                  this animation with the tail's simulation (secondary animation) resulting from the
                  dog running and jumping. <span class="anchor_wrapper"><a name="UL_7A0704AFF8A949019E96FA8B85C447DF"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-6C23BFCB-2AEE-4986-AF54-F236A9A0B947"></a></span>In the Tail Control custom parameter set, set the value for the <span class="MenuCascade" id="GUID-F4C44DFF-43B2-42F4-84DF-7A271C504B50">Anim/Sim Blend</span> parameter. A value of 0 is all animation, and a value of 1 is all simulation. 
                        </p> 
                     </li>
                  </ul> 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00AD"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-27C5D83E-5F29-4B3E-ADC1-4D46B8ECBC76"></a></span>Muting the Simulation
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-E4F469F8-87BD-4FF3-AC3C-74CA228850DE"></a></span>You can temporarily disable a spring's simulation by muting it. This is useful if
                  you want to test out just the animation on the tail, ear, or belly control object,
                  or you have other simulations in a scene but you don't want to play this spring's
                  simulation at the same time. <span class="anchor_wrapper"><a name="UL_BFAFFCEA58EB45C6A83CF0426637FB60"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7EF5637B-2432-416E-9C3E-6C4B09D37638"></a></span>In the Tail Control custom parameter set, select <span class="MenuCascade" id="GUID-2F051083-8D6A-4DF3-AAC9-1EE95673F3CF">Mute Simulation</span>. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-10C678EF-1ABE-4CBB-B6D7-7339028B627A"></a></span>This option has an expression on it that controls the state of the Mute parameter
                           in the Spring Operator. For example, selecting this option in the Tail Control custom
                           parameter set automatically selects the same option in the Spring Operator property
                           editor. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-D2A79116-4E93-4A89-A0F9-987C9A94DA31"></a></span> <em class="mild">or</em> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-8A27AF52-8C28-4DB6-940F-43D44F92E6DC"></a></span>If you're using the belly control, you can select <span class="MenuCascade" id="GUID-BFCEE89E-2D97-4816-96EB-4594659D725C">Mute Simulation</span> in the Spring Operator property editor because the belly control doesn't have a Tail
                           Control custom parameter set. 
                        </p> 
                     </li>
                  </ul> 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00AF"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-09D6B984-2E12-4E84-9EFA-16F998F9D507"></a></span>Caching the Spring's Simulation
               </h2>   
               <p><span class="anchor_wrapper"><a name="GUID-AF71E542-7FDB-4867-87B5-E7FE0F246782"></a></span>Caching the simulation to a source allows you to scrub the cursor back and forth in
                  the timeline and get the correct state, and to play the simulation backwards. Caching
                  is also useful for making sure that the rig object's movement doesn't change at render
                  time. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-9FD6E6BB-D474-4C3E-A870-EE307A5445F5"></a></span>When the simulation is cached, each frame that is played is evaluated and stored.
                  The animation is stored as global transformation function curves that you can edit
                  in the animation editor. The fcurves are raw curves, meaning that there is a key at
                  every frame. You can also activate or deactivate individual fcurves (items) within
                  the source. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-17885A9E-7AFC-4EBB-96AE-933D84186002"></a></span>When you cache to a source, the sources are stored in the model's <span class="MenuCascade" id="GUID-169C5437-20CA-405C-9AF1-F8FA41D6CD29">Mixer <img src="../images/ac.menuaro.gif"> Sources <img src="../images/ac.menuaro.gif"> Animation</span> folder. To make sure that the spring's cached sources are kept intact when copying
                  or importing/exporting the tail, put the tail curve in the desired model <em class="mild">before</em> you create the tail and cache the simulation â€” see <span class="char_link"><a href="char_rig_CreatingaTail.htm">Creating a Tail</a></span> for more information. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-20744A60-ACA1-404D-A3A5-1E2F1D99DDDA"></a></span>The process for caching is a little different depending on whether you're caching
                  the simulation of a tail/ear control object or a belly object. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00B0"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-3B095B8B-D795-489A-BE4E-AAB0F0DC6B8B"></a></span>To cache a tail or ear simulation to an action source
                  </h3> <span class="anchor_wrapper"><a name="GUID-E0DCCB1D-7A85-4E91-AC7D-9995F033B02A"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-2807BDF5-4EA6-49E1-B81D-F8C08949988B"></a></span>Make sure that the tail is in the desired model; that is, put it in the model that
                           you will be exporting or copying, not the scene root. You cannot export or copy the
                           scene root's model or mixer. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-9157655E-5939-42AA-B1EA-9A916A02B8E1"></a></span>In the control object's Tail Control custom parameter set, select the <span class="MenuCascade" id="GUID-A8873E2A-4F82-4654-83FF-F059A3556FB3">Caching On/Off</span> option â€” the Regenerate Cache options appear. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-6D7F9034-2216-4835-9ABA-134CE610DA9B"></a></span>Activating the caching here automatically activates the Caching option in the Simulation
                           Time Control property editor. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-4B979CE4-C4CC-43DB-A607-A9FC28318EA8"></a></span>Select one of the <span class="MenuCascade" id="GUID-18DC73EF-8103-4998-B70D-B04ECB2927F0">Regenerate Cache</span> options to decide how to regenerate the cache action source: 
                        </p> <span class="anchor_wrapper"><a name="UL_0075B7B7D7AB4A4AB3FCC0AB1E97DEC8"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-F33EDD79-FF96-4EB9-B70C-D38CA73400C8"></a></span> <span class="MenuCascade" id="GUID-46AA4AC3-50EB-43B9-9ECB-97FF0BCB6C42">Manually</span>: the cache is regenerated only when you click the <span class="MenuCascade" id="GUID-1D8E23D3-C965-4C1D-BE38-C2C23B584262">Regenerate Cache</span> button. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-2B436355-A683-4F7B-BBE8-0D9884E7899E"></a></span> <span class="MenuCascade" id="GUID-F3BAA998-E948-4582-A866-4115F8A98F7C">Whenever Dirty</span>: the cache is regenerated automatically whenever a change is made that affects the
                                 simulation. 
                              </p> 
                           </li>
                        </ul> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-582C4255-EFDA-47A3-8EF5-44289B3B01E5"></a></span>Play the whole simulation or click the <span class="MenuCascade" id="GUID-D30B9223-C526-4EF2-A398-4B4B9D83FF93">Regenerate Cache</span> button. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-6683529C-090C-4008-8BD8-A4CDFF731838"></a></span>When you first play the simulation, the source file is being cached so it takes a
                           bit of time. However, once the source is cached, the playback is usually faster than
                           if no source was cached. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS5D48B5B647943543B227A1CC537A0647-00B1"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-E1BEC65C-FFB7-46D3-A4A9-1D19D15F1543"></a></span>To cache a belly simulation to an action source
                  </h3> <span class="anchor_wrapper"><a name="GUID-51B0AAE2-F584-49EE-BD4D-29088E51676C"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-42847D46-46C9-4B5D-8395-2F683D074BA6"></a></span>Open the belly control object's Spring Operator property editor. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D3D06B0E-9AB6-4F24-9EF3-D7880053C284"></a></span>Click the Simulation Time Control tab and select the <span class="MenuCascade" id="GUID-4A6F9094-C300-4C75-AAC0-9CB9D33C5240">Caching</span> option. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7FE9D0A1-6075-44DA-9357-3A0B5A4163C5"></a></span>Play the whole simulation. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-3BE32173-4D58-4403-B69E-363C476D63F2"></a></span>When you first play the simulation, the source file is being cached so it takes a
                           bit of time. However, once the source is cached, the playback is usually faster than
                           if no source was cached. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>