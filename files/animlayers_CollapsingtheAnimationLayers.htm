<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-A0D1F28F-D756-4704-B3FE-4141BB014955">
      <meta name="indexterm" content="animation layers: collapsing layers into base layer">
      <meta name="indexterm" content="collapsing: animation layers into base layer">
      <meta name="indexterm" content="merging: animation layers into base layer">
      <meta name="indexterm" content="baking: animation layers into base layer">
      <meta name="indexterm" content="storing: animation layers in an action source">
      <meta name="indexterm" content="animation layers: storing in an action source">
      <meta name="indexterm" content="action sources: storing animation layers">
      <meta name="topic-type" content="concept">
      <title>Collapsing or Storing the Animation Layers</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-A0D1F28F-D756-4704-B3FE-4141BB014955"></a></span><div class="head">
            <h1>Collapsing or Storing the Animation Layers</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-7EB913DA-E430-47E8-861C-56F2F2A2531D"></a></span>When you're finished animating in layers and editing the layer animation, you can
               bake it into the base layer's fcurves using two different methods: collapsing the
               layers or storing them in an action source. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_5098282F987D4C769C77A803B3D16490"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AD041101-6096-464F-8F45-D1D56E5F4117"></a></span>Storing the Base Layer's Animation First
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-D6CD3B81-E838-4AE9-B09E-CBEE450A911F"></a></span>Because the animation layers are baked into the base layer's fcurves when you collapse
                  or store the layers in an action, the base layer's animation is "lost". If you want
                  to keep the base layer in its original state, you should store it in an action source
                  before you do either of these actions. This allows you to apply the action source
                  back to the object if you ever need to return to the original base layer's animation.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-CC454792-9D82-49D5-A8EE-9FDB4ED1B891"></a></span>See <span class="char_link"><a href="actions_StoringActionSources.htm">Storing Animation in Action Sources</a></span> for more information. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_F1E53F0A0C4F45CAA9BEE06133116C76"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-0D7A4680-B0A0-4AD2-8527-5B53ADFB57B0"></a></span>Collapsing the Animation Layers
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-51963568-8921-4D4A-B99D-66B5BDB6F954"></a></span>If you want to keep any or all of the animation layers that you have created, you
                  can collapse them into the base layer of the animated object. Once the animation is
                  on the object, you can use it as you would normally use fcurves, such as by editing
                  it, saving it into an action source, and so on. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-88B2915B-43E2-4955-9767-81DCC4DBB0AD"></a></span>Collapsing combines the result of all animation layers with the base layer, unless
                  a layer is muted. When the layers are collapsed, every parameter that was keyed in
                  the animation layers has a resulting fcurve. Collapsing plots the layers into fcurves
                  and then applies fitting to those fcurves. Redundant keys are removed from the fcurves
                  and the original keyframe locations are preserved. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-83A53568-D650-44D3-8DD6-F2244EBDBA57"></a></span>After the layers have been collapsed, they are removed from the Animation Layers panel
                  (including the muted layers), along with each layer source and clip in the Mixer &gt;
                  Sources &gt; Animation folder, so that only the base layer remains. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-67D3A4B0-ABD9-4BC9-8D2B-4DDCC6B3A2DC"></a></span>If the base layer animation is an action clip and you collapse the animation layers
                  into it, Softimage uses the clip's fcurves as the base and bakes the animation layers
                  into them as usual. However, if the base layer's action clip is still driving the
                  animation, it overrides the fcurves that are created for the object from collapsing.
                  You can fix this by simply muting the action clip in the mixer or by deleting it.
                  
               </p> 
               <div><span class="anchor_wrapper"><a name="GUID-E84F48AE-8ABF-448A-88DE-E6F9080162E1"></a></span><div class="note-note"><span class="label">NOTE:</span>You can set the <span class="MenuCascade" id="GUID-B52C87CC-EDCB-433C-B01C-25A788E9B2EB">Keys <img src="../images/ac.menuaro.gif"> Collapsing Animation Layers</span> option in the <span class="char_link"><a href="userprefs512.htm">Animation Preferences</a></span> to determine if each layer's fcurve tangent handles are preserved or not when you
                     collapse the layers. 
                  </div>
               </div> 
               <p><span class="anchor_wrapper"><a name="GUID-8B19C916-1F47-41AA-BB3F-6668B9D2DCEF"></a></span>To collapse the layers: <span class="anchor_wrapper"><a name="GUID-17CF7B92-4CF5-4B05-961C-64EE10C8AF58"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A69413F5-09BC-4BE8-B287-2FAC98198138"></a></span>In the Animation layers panel, mute the layers that you don't want to collapse into
                           the base layer - see <span class="char_link"><a href="animlayers_MutingandSoloingtheAnimationinLayers.htm">Muting and Soloing the Animation in Layers</a></span>. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-321133FA-4B1B-4157-A504-FABF2759EDDD"></a></span>Click the <span class="MenuCascade" id="GUID-DB98AD91-6405-4970-8E98-3C6A24EF5F08">Collapse Layers</span> icon in the Animation Layers panel. 
                        </p> <img src="../images/GUID-AEDDD3BD-7D75-4F12-8575-0276A72FD797-low.png"> <span class="anchor_wrapper"><a name="FIG_1C395E481A6D4A588A06015512205D54"></a></span><div class="figure-anchor"><img src="../images/GUID-E7D933B6-BD6F-42D6-BB4A-910091E850C5-low.png"></div> 
                        <p><span class="anchor_wrapper"><a name="GUID-B9D53E90-DFCD-4475-9495-750AD6BB2B24"></a></span><img src="../images/GUID-ECF79349-7B61-489C-8795-0B1E669A49AA-low.png"> The Collapse Layers dialog box appears. <span class="anchor_wrapper"><a name="FIG_E53DB01102774FB598782DA1C5CEB53B"></a></span><div class="figure-anchor"><img src="../images/GUID-7AB56F80-C2DA-4AAE-8D88-6B10894474BC-low.png"></div> 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-0A780B83-1C7D-4EDF-B5E6-E76953073CD0"></a></span>It provides options to specify the time span for plotting and tolerance values for
                           fitting keyframes in an FCurve. For more information about the options, see <span class="char_link"><a href="GUID-1062E6E9-D790-4DBA-AD49-7A9B11AEC762.htm">Collapse Layers Dialog Box</a></span>. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-81551383-6BC9-4684-A728-A37785A5B9FA"></a></span>Click OK to collapse the layers that are not muted into the base layer's animation.
                           Every parameter that was keyed in the animation layers has a compiled fcurve. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-82D8291C-1C8E-4D05-8CC0-6121220EE2E0"></a></span>All layers (including the ones that were muted) are removed from the Animation Layers
                           panel so that only the Base Layer remains. 
                        </p> 
                     </li>
                  </ol> 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_C3359257D26E4F4AA8210576C4913BED"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-4B2C7A19-AD67-4962-8148-30E7E1608FD8"></a></span>Storing Animation Layers in an Action Source
               </h2>    
               <p><span class="anchor_wrapper"><a name="GUID-1C2C5EDF-B5E3-4CC7-A705-69BE4BEADB90"></a></span>If you're storing the animation of an object in an action source, you can choose to
                  include the animation from any of the layers. All unmuted animation layers are baked
                  into the base layer's fcurves in the action source in the same way that they are when
                  collapsed (see above). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A6100E47-CC40-4A1D-8C38-2D9D8C66D7CD"></a></span>Once the compiled animation is in an action source, you can use it like any other
                  action clip in the animation mixer (see <span class="char_link"><a href="actions_OverviewofUsingActions.htm">Overview of Using Actions</a></span> for general information), including being able to copy it to other models - see <span class="char_link"><a href="actions_SharingActionsbetweenModels.htm">Sharing Actions between Models</a></span> for more information. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A1134A60-F578-4F00-9BA2-0299017BEFC1"></a></span>The three following images show how the animation layers are combined with the base
                  layer's fcurves when you create an action source that includes the animation layers:
                  
               </p> <span class="anchor_wrapper"><a name="FIG_C13BA4600BD64A5A9F6A70087E1BCFDF"></a></span><div class="figure-anchor"><img src="../images/GUID-4437977D-35C7-4A8A-B397-DDB145ADA25A-low.png"><p><span class="anchor_wrapper"><a name="GUID-2B4CB23D-C170-49FD-BA32-036A183A55F1"></a></span>All animated parameter fcurves are shown for the base layer of the selected object.
                     
                  </p>
               </div> <span class="anchor_wrapper"><a name="FIG_C02B4B20C76748EAA6DE4CBE5C82EB22"></a></span><div class="figure-anchor"><img src="../images/GUID-F43EE86E-9494-47D3-871E-64F10BC5B13B-low.png"><p><span class="anchor_wrapper"><a name="GUID-67D04D70-A13A-4F5B-AFE4-EC0776C9BED9"></a></span>The position parameter fcurves are shown for Layer1. 
                  </p>
               </div> <span class="anchor_wrapper"><a name="FIG_5598488CEB144E6F9676BFFADBF4523D"></a></span><div class="figure-anchor"><img src="../images/GUID-3C29A917-0F8F-44B9-947C-6C26724992C9-low.png"><p><span class="anchor_wrapper"><a name="GUID-69D5F793-DC3F-412C-B4AB-0DC71552EF39"></a></span>The position fcurves from Layer1 are combined and baked into the base layer's position
                     fcurves in the action clip that is created from the action source. 
                  </p>
               </div> 
               <p><span class="anchor_wrapper"><a name="GUID-6E7996AE-5BC2-41CB-A2B0-E93F6FD5B07F"></a></span>To store animation layers in an action source, follow these steps: 
               </p> <span class="anchor_wrapper"><a name="OL_A1E34C313552455C8829BC5FF4C9FF55"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-2DFC9B99-CF42-4448-B205-7BB5EC80E5D0"></a></span>In the Animation layers panel, mute the layers that you don't want to include in the
                        action source - see <span class="char_link"><a href="animlayers_MutingandSoloingtheAnimationinLayers.htm">Muting and Soloing the Animation in Layers</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-A686B60A-DA1D-4881-8119-D429478D16FA"></a></span>Choose an appropriate command in the <span class="MenuCascade" id="GUID-7B3F5B3F-9508-427C-A70A-C7678AFED12C">Action <img src="../images/ac.menuaro.gif"> Store</span> menu on the Animate toolbar to store the selected object's animation in an action
                        source (see <span class="char_link"><a href="actions_StoringActionSources.htm">Storing Animation in Action Sources</a></span>). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-AC4117C2-7FC6-4C03-98FF-B43C2F26D6A3"></a></span>In the Store Action dialog box, select the <span class="MenuCascade" id="GUID-BD0878DD-605A-4DDE-8541-4C43B60AFDBE">Include Animation Layers</span> option. The animation layers are baked into the base layer's fcurves. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-134C377C-66D0-47C3-BC1F-38A2598EA552"></a></span>The animation layer clips are muted in the animation mixer (which is also reflected
                        in the Animation Layer panel), but are not removed. 
                     </p> <span class="anchor_wrapper"><a name="FIG_D37C940AD4DF47698E825A5F20EF3B5D"></a></span><div class="figure-anchor"><img src="../images/GUID-2E7244A6-A14C-42B0-BCD9-1D16E6DE10B3-low.png"></div> 
                  </li>
               </ol> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>