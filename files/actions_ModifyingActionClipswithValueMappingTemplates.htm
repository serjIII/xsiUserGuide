<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-8AE611AD-DCFA-4BC9-ABDA-CB63923932A3">
      <meta name="indexterm" content="action clips: value-mapping templates for modifying values">
      <meta name="indexterm" content="mapping: value templates for action clips">
      <meta name="indexterm" content="value-mapping templates: for action clips">
      <meta name="indexterm" content="templates: value-mapping for actions">
      <meta name="topic-type" content="concept">
      <title>Modifying Action Clips with Value-Mapping Templates</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-8AE611AD-DCFA-4BC9-ABDA-CB63923932A3"></a></span><div class="head">
            <h1>Modifying Action Clips with Value-Mapping Templates</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-5CEC6204-857E-48DB-97C4-D215C24198C4"></a></span>Value-mapping templates provide a way for you to automatically modify the animation
               values in an action when you create clips. For example, you can add an offset so that
               two characters don't try to walk in the same place at the same time. Similar to connection-mapping
               templates, value-mapping templates let you map out information before you perform
               an action. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-EB0E0FD4-56BE-48FC-AFF9-1645EBE77C4B"></a></span>Each model can have multiple value-mapping templates and each of these templates can
               be active or not. The order of templates is the order of their creation, as listed
               in the explorer or the <span class="MenuCascade" id="GUID-2A2BA856-C58C-48A1-9481-63715CF8E105">Effect <img src="../images/ac.menuaro.gif"> Value Template</span> menu in the animation mixer. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-1791FF50-8143-481A-B333-FAA759EE8041"></a></span>When you create an action clip, the rules in the first active value-mapping template
               are copied locally onto the clip. You can modify this local expression as described
               in <span class="char_link"><a href="actions_ModifyingActionClipValues.htm"> Modifying Action Clip Values</a></span>, but the changes affect only that particular clip — the next time you instantiate
               a clip, the original rules in the first active value-mapping template will be used
               again (unless you have changed them in the meantime). 
            </p><span class="anchor_wrapper"><a name="FIG_BC2070166FE04BC8BA8DEC59A76BAAF2"></a></span><div class="figure-anchor"><img src="../images/GUID-CDED484E-7616-4DF8-932A-F99DCC8880D3-low.png"></div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00AE"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8E106768-8AEB-4FEF-848D-8C9219E9B908"></a></span>Creating Value-Mapping Templates
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-E4EAEE3F-BCCE-430F-96EE-1450FB3A1104"></a></span>You can automatically create a template that contains the offsets of the current transformation
                  values between two objects or you can create an empty value-mapping template and then
                  add rules manually. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00AF"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-188F3160-EADC-49C8-AB59-D54B267F1078"></a></span>To create an empty value-mapping template
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-37C859AC-0B4A-4A3A-B655-D43475A67BDA"></a></span>Do one of the following: 
                  </p> <span class="anchor_wrapper"><a name="UL_A1E458E61FF54306A93D32CABB66C1F3"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7EB64DA5-274E-4D21-B258-2BEB00569A25"></a></span>Select an object in the scene, then on the Animate toolbar choose <span class="MenuCascade" id="GUID-D301AD28-87DD-4459-B678-2FA208DA1465">Actions <img src="../images/ac.menuaro.gif"> Templates <img src="../images/ac.menuaro.gif"> Create Empty Value Template</span>. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-7F5C6EA3-4036-460F-B401-FF8634F28AB0"></a></span>Although nothing appears to have happened, an empty value-mapping template was indeed
                           created for the selected object's parent model. You can check for it in the model's
                           Mixer &gt; Templates &gt; Value Mapping folder in the explorer. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-3722B8FD-D3CA-4AFB-84E5-91511D8346B0"></a></span> <em class="mild">or</em> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-1F3320CA-4681-4E67-8C5D-C5BAEEAC805F"></a></span>In the animation mixer, choose <span class="MenuCascade" id="GUID-80DF10C2-1D48-4F22-B2A0-927E43DFD28B">Effect <img src="../images/ac.menuaro.gif"> Create Empty Value Template</span>. A template is created for the current model and the Value Map property editor opens.
                           
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-F1E26607-6D4A-4E88-AEEF-94B04735CBC2"></a></span>Once you have created an empty value-mapping template, you can add and modify rules
                           as described in <span class="char_link"><a href="actions_ModifyingActionClipswithValueMappingTemplates.htm#WSA3B2924969ED704E813291282A376B72-00B1">Editing Value-Mapping Templates</a></span>. 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B0"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-3D410331-6177-4068-AFDD-6F0905F4EA1B"></a></span>To create a value-mapping template based on objects
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-8A3AD08D-5606-4F30-8ECF-2A3A7A68C6D6"></a></span>This procedure works properly only when the two hierarchies have the same number of
                     children and the same subtree structure. 
                  </p> <span class="anchor_wrapper"><a name="GUID-B9C35CCC-03D5-462D-9B45-E9D9A7ED4C80"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-45FB2444-3038-40AE-9903-ACEF422206A5"></a></span>Select the target: this is the object or hierarchy whose animation will be offset
                           from the original action. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A6F94D3F-AE8F-4E4B-91D2-5B0EEE46D83E"></a></span>From the Animate toolbar, choose <span class="MenuCascade" id="GUID-12B94DC6-34CC-4738-BEBE-6A1253D7D667">Actions <img src="../images/ac.menuaro.gif"> Templates <img src="../images/ac.menuaro.gif"> Create Value Template</span>. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-776A2896-B054-48F4-8727-2DD37218B7F6"></a></span>Pick the source object or hierarchy in object mode (left-click), branch mode (middle-click),
                           or tree mode (right-click). 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-2FDF7395-23C8-4361-84D2-7BEFD9482231"></a></span>A template is created by matching objects in the hierarchies according to their positions
                           in their subtrees with their corresponding transformation offsets. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-349CA340-D50A-4484-8CDA-3FDD277A5C14"></a></span>To see the template, choose the one you want from the <span class="MenuCascade" id="GUID-5AD8CA12-7F23-43D0-985B-F9A3C8785409">Effect <img src="../images/ac.menuaro.gif"> Value Template</span> menu in the animation mixer. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-3DFDD4AC-FF11-4422-93F2-C7274A1F8568"></a></span><div class="note-tip"><span class="label">TIP:</span>You can rename the default template in the same way as other elements in the explorer.
                              See <span class="char_link"><a href="3dexplorer510.htm#WS048B4B56E6774847810BFA5D3F1134D0-0057">Renaming Scene Elements in the Explorer</a></span> [<span class="char_link"><a href="ui_windows.htm">Windows and Views</a></span>]. You'll find it in the model's <span class="MenuCascade" id="GUID-5F102FE5-A5F1-4CA7-92CA-0755D7A6D76C">Mixer <img src="../images/ac.menuaro.gif"> Templates <img src="../images/ac.menuaro.gif"> Value Mapping folder</span>. 
                           </div>
                        </div> 
                     </li>
                  </ol> 
                  <p><span class="anchor_wrapper"><a name="GUID-D4677DBA-DDEF-4A18-9454-E7B85C52DADA"></a></span>Once you have created a template in this way, you can fine-tune it as described in
                     the next section, <span class="char_link"><a href="actions_ModifyingActionClipswithValueMappingTemplates.htm#WSA3B2924969ED704E813291282A376B72-00B1">Editing Value-Mapping Templates</a></span>. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B1"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-02FF5582-8FB0-465B-836B-27B659F441E4"></a></span>Editing Value-Mapping Templates
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-AF4046BC-5CB2-4ED7-93B2-110D68574B99"></a></span>Once you have created a value-mapping template, you can use the Value Map property
                  editor to add, edit, and delete rules. You can also use this editor to activate and
                  deactivate templates, as well as save and load preset templates. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B2"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-A222B350-EB15-4E03-9925-FF25C6A9B6A6"></a></span>To open the Value Map property editor for a model
                  </h3> <span class="anchor_wrapper"><a name="GUID-596FC78B-891F-4304-B5A4-418A34DE3DF1"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-AD1789BA-B674-4B7A-9709-6AD843CF59C9"></a></span>Make sure the correct model is open in the mixer; if not, select the model or one
                           of descendants and click <span class="MenuCascade" id="GUID-79B7BA79-C069-4982-A64C-7BD16B654147">Update</span> on the mixer command bar. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-69A58B17-2A0B-4896-BD6E-5AD36B2E1923"></a></span>Choose an item from the <span class="MenuCascade" id="GUID-BC50C4B5-E7AC-41B1-8854-1370F37871DB">Effect <img src="../images/ac.menuaro.gif"> Value Template</span> menu. The Value Map property editor for the chosen value-mapping template opens.
                           
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-3C6ECCC0-479C-48D3-AE00-D1B34545A91B"></a></span>If there is no <span class="MenuCascade" id="GUID-EB5BE7D9-CBE9-4D68-96E7-47C2E339C19E">Effect <img src="../images/ac.menuaro.gif"> Value Template</span> command in the animation mixer, that means that the current model has no value templates.
                           Choose <span class="MenuCascade" id="GUID-8410FEA0-35B3-4214-9557-5EA37FB2E217">Effect <img src="../images/ac.menuaro.gif"> Create Empty Value Template</span> to create a blank one. 
                        </p> <span class="anchor_wrapper"><a name="FIG_28757C4A772142CBB7474C2AF0C9FDE3"></a></span><div class="figure-anchor"><img src="../images/GUID-CDED484E-7616-4DF8-932A-F99DCC8880D3-low.png"></div> 
                        <p><span class="anchor_wrapper"><a name="GUID-98A0F7F9-8066-4B5D-A5A7-2F8C7FE00388"></a></span>To see the rules better, you can resize the editor as well as the columns. To resize
                           a column, move the pointer over the dividing line between column heading, then click
                           and drag to set a new width. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B4"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-2FCA55F4-5F78-4766-B962-47D5525A4224"></a></span>Selecting Rules
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-91186F57-091E-41B9-8456-82E2B3F8F765"></a></span>You can select a rule in the Value Map property editor by clicking its name in the
                     <span class="MenuCascade" id="GUID-E44925F7-2981-426F-8A66-D5C3306DDFE7">Template</span> column (for example, <span class="MenuCascade" id="GUID-38C7CD3F-20E1-49B3-A61D-9AE5B0DA3E11">Rule 1</span>) or by placing the cursor in either text box in the corresponding row. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B5"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-24089796-54E9-4A9D-8B14-8828DC0F0D1C"></a></span>Adding Rules
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-B4F32BC1-CDDB-4CEE-99E1-32001611302A"></a></span>To add a row for a new rule, click the <span class="MenuCascade" id="GUID-34D95CC6-6D4A-4253-B3F3-0762A4243C9A">Insert Rule</span> button in the Value Map property editor. The new rule is added immediately <em class="mild">above</em> the selected rule — this is important to know because the rules are evaluated in
                     order from top to bottom. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B6"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-BDDA5DF9-6F32-413A-871E-6287BBFEF660"></a></span>Editing Rules
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-D16C0C06-7E46-4B63-AC08-885F253C8CCD"></a></span>You can edit rules in the Value Map property editor by typing parameter names in the
                     <span class="MenuCascade" id="GUID-25F75E49-9697-4173-9BC8-2AE13A7EFEC2">Parameter</span> column and mathematical expressions in the <span class="MenuCascade" id="GUID-FC39CC92-7E7B-415D-A519-238DDD28BC0F">Expression</span> column. The rules use the same parameter names that are used in scripting — if you
                     are not sure of a parameter's name, modify the parameter in a property editor and
                     check the name that gets logged in the <span class="MenuCascade" id="GUID-72F6BC41-E685-4657-8FAF-F41847F16126">SetValue</span> command in the Command Box at the lower left of the main window. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-EDE4FD29-2F7C-442E-862A-B4B50C3F5E17"></a></span>The rules work by applying the formula in the Expression column to the value of the
                     corresponding parameter given by the action at a given frame. The value-mapping rules
                     are applied after the connection-mapping rules, so if you have a connection-mapping
                     template that maps <span class="MenuCascade" id="GUID-35E17D10-A267-4E99-A8F2-A2A8010CB82F">torus</span> to <span class="MenuCascade" id="GUID-C3059D1E-E9A9-4D86-9B99-9E98CB706449">cone</span>, your value-mapping rules should affect the parameters of <span class="MenuCascade" id="GUID-D3DB190F-CAC8-4E76-AD6E-840632E2836E">cone</span> not <span class="MenuCascade" id="GUID-12EEC2AE-C8A9-41BD-A17A-0046ACE2FF8F">torus</span>. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-5AC0D797-0E4C-421D-B019-5CD001D79FC5"></a></span>See these sections for more details on entering expressions: 
                  </p> <span class="anchor_wrapper"><a name="UL_42FB350E51C546C0BF14450BFECC1BFA"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-33BDC360-73B1-4B2D-9D10-576B3FF2CC05"></a></span> <span class="char_link"><a href="actions_ModifyingActionClipswithClipEffects.htm#WSA3B2924969ED704E813291282A376B72-009B">Variables</a></span> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7F30F966-089F-4095-A042-668BC7E40112"></a></span> <span class="char_link"><a href="actions_ModifyingActionClipswithClipEffects.htm#WSA3B2924969ED704E813291282A376B72-009D"> Supported Operators and Functions</a></span> 
                        </p> 
                     </li>
                  </ul> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B7"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-37336CC6-4D0B-4148-999E-48F3A65142DA"></a></span>Validating Rules
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-09EA8745-D8A0-4248-8FF0-95142FCB08BA"></a></span>Once you have entered rules in the Value Map property editor, you can check their
                     validity by clicking the <span class="MenuCascade" id="GUID-08CB5962-B3F7-4D50-AB5A-BDAA266E0797">Validate</span> button. Invalid rules are shown in red so that you can correct them. A rule can be
                     invalid if a parameter is misspelled or if the expression is not valid. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B8"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-9EAAD26F-4FA4-46FF-9DFD-09C0F1B452B6"></a></span>Deleting Rules
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-97919F1B-B6B2-48DC-B41E-1CAC6912D600"></a></span>To delete a rule, select it in the Value Map property editor and click the <span class="MenuCascade" id="GUID-961B710A-44DD-461B-B564-DD507F413D58">Delete Rule</span> button. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00B9"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C5E57E02-25A4-48F7-A407-AFB46F82C1CF"></a></span>Activating and Deactivating Templates
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-36E1AD9D-14E2-46C6-9BA9-55375E559298"></a></span>Each model can have multiple value-mapping templates and each of these templates can
                  be active or not. When you instantiate an action, the value-mapping rules of the first
                  active template are copied locally onto the clip. The order of templates is the order
                  of their creation, as listed in the explorer or the <span class="MenuCascade" id="GUID-C48A14E0-363E-487B-9844-F6E763792E78">Effect <img src="../images/ac.menuaro.gif"> Value Template</span> menu of the animation mixer. <span class="anchor_wrapper"><a name="UL_5C936FA4361D4DE18CF9EE892EE2D890"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-F81572EA-5F22-47D5-A89C-15A9E2712FC7"></a></span>Toggle the <span class="MenuCascade" id="GUID-CAC086D8-4D9A-409B-B4B5-916BFF538EA0">Active</span> option in its Value Map property editor. 
                        </p> 
                     </li>
                  </ul> 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00BB"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-8C03236E-42B2-442B-8E88-BAD21FA0E93D"></a></span>Deleting Templates
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-9E2477B1-CEE6-4D36-8494-92D0005D9CDF"></a></span>You must use an explorer: 
               </p> <span class="anchor_wrapper"><a name="GUID-E0599564-3D0F-439E-8E95-4FC5E2472FA2"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-FE61378E-696C-43B9-B4A9-0562C8FE6B4C"></a></span>Select a value-mapping template in the model's Mixer &gt; Templates &gt; Value Mapping folder.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-09BE35B7-C4B5-4C3F-B445-3BF27ED8B95B"></a></span>Press Delete, or right-click the template and choose <span class="MenuCascade" id="GUID-7BBC8670-C314-401E-9315-3F697E37526D">Delete</span>. 
                     </p> 
                  </li>
               </ol> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>