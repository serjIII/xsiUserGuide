<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-FEF63411-E867-4DBA-979E-69B41E915AB9">
      <meta name="topic-type" content="concept">
      <title>Using Vertex Colors to Set the Particle Color</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-FEF63411-E867-4DBA-979E-69B41E915AB9"></a></span><div class="head">
            <h1>Using Vertex Colors to Set the Particle Color</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-F7609706-61EA-4D1F-96D2-D5146F3F7754"></a></span>Vertex color properties, also known as color at vertices properties or CAVs, are colors
               stored in the polynodes (subvertices) of an object. They can be used for a variety
               of purposes, such as storing surface color, illumination, or custom data. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-D2AB4CDA-2F7E-4B38-A0DA-546A4C32DE79"></a></span>You can create a vertex color map on an object and then use its color values to define
               the particle color using the Get Vertex Color Value compound. The objects you can
               use are based on different locations you can choose. This can be the emitter object,
               an obstacle for collisions, sticking, or sliding, a goal object, or just any object
               that you use as an input. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-6367E207-750B-4E93-8361-653501AEC866"></a></span>For more information on vertex colors in general, see <span class="char_link"><a href="scel_vertexcolor.htm"> Vertex Colors</a></span>. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-3CE19081-1F95-4F8A-96C5-37D8F9A22E30"></a></span>Below on the left, vertex color map with different colors is defined on the emitter
               object. On the right, particles are emitted using the colors from the map. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-527DB364-E802-4BA4-808E-3549B42ECEBC"></a></span> <img src="../images/GUID-1D6A520A-498F-46A3-96A5-32DD670DB2CE-low.png"> <img src="../images/GUID-8D3E43EC-EF82-4994-987D-BC16205D0382-low.png"> 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS0F5213CEFD3FD34D9EE1C81183C70926-0140"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C0060492-9E63-4024-97DA-42D77A6953D4"></a></span>To set the particle color using a vertex color map
               </h2> <span class="anchor_wrapper"><a name="GUID-D9460E1E-6DCA-4C99-A774-D9F2345CE3B2"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-31643FE1-683E-49E4-B823-02CE7ED92DB3"></a></span>Select the object to which you want to apply a vertex color map and choose <span class="MenuCascade" id="GUID-62D06CD2-4E41-4742-AEDA-14E55F335459">Get <img src="../images/ac.menuaro.gif"> Property <img src="../images/ac.menuaro.gif"> Color at Vertices Map</span> from any toolbar. A vertex color map is applied to the object (under its Clusters
                        &gt; UV_Cluster node) and its property editor opens. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-122765A4-E6D6-4FF9-A3B8-34950C0A971B"></a></span>This object can be the emitter object, an obstacle for collisions, sticking, or sliding,
                        a goal object, or just any object you use as an input. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E0548DBF-62A9-4E61-BF64-367F7F4DACC8"></a></span>Paint on the map by pressing Shift+W (press Ctrl+W to open the Brush property editor).
                        For more information about painting vertex colors, see <span class="char_link"><a href="scel_vertexcolor.htm"> Vertex Colors</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-2CD3B2BF-8CF9-4E28-8B29-FFD223831B99"></a></span>Create a particle emission â€” see <span class="char_link"><a href="ICE_particles_CreatingICEParticleEmissions.htm">Setting Up Any Type of ICE Particle Emission</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-AFA61048-99A2-481C-9834-58FF2D35D351"></a></span>Make sure that the object whose vertex color map you want to use is in the ICE tree
                        and connected (such as the emitter object being connected to the Emit compound). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B16F1D57-C9A0-49F2-AD18-3DB354945DA6"></a></span>Click the Task &gt; Particles tab in the preset manager on the left side of the ICE Tree.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E9AB19FA-4DAF-4A97-A2D5-5B90B57DECD6"></a></span>Select the <span class="MenuCascade" id="GUID-9F2F8269-6E02-4AC2-A8DD-ECD19696E4D2">Get Vertex Color</span> Value compound from the Getters group and drag it into the graph area. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-23C094DF-BFB5-4F21-AD5D-463FAF1D728F"></a></span>Plug this compound's output into a Color port of any compound to which the object
                        with the vertex color map is connected, such as the one on the Emit compound. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-01FD0DCE-4102-4E78-A080-E7977B119400"></a></span>Plug the Value output from the object with the vertex color map into the Geometry
                        port of the Get Vertex Color Value compound. 
                     </p> <span class="anchor_wrapper"><a name="FIG_89DFDE13D3FD42E689A4BD753CFDBAC1"></a></span><div class="figure-anchor"><img src="../images/GUID-1C179F40-98DE-4413-B68E-0CAB74BB3592-low.png"></div> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-66073934-B265-471C-B657-46BC68B459E3"></a></span>In the Get Vertex Color Value compound's property editor, enter the object's vertex
                        color map name and Colors attribute in the reference text box or click the Explorer
                        button to select a vertex color map to use. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-0BBC1F99-AD05-48FD-808E-B0C379FE1484"></a></span>The syntax should be like this, substituting the correct vertex color map name: <span class="MenuCascade" id="GUID-8C27BFAC-744A-4CA8-B7C9-7E6C8970D741">.cls.UV_Cluster_AUTO.Vertex_Color.Colors</span> 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-93A4B870-9C14-413E-ACD3-A206D325D034"></a></span>You can specify the Cutoff Distance, which is the maximum distance (in Softimage units)
                        from a vertex that a particle can be in order to take on its color. For example, if
                        you only want particles to change color when they come within 1 unit of a goal object,
                        set this value to 1. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B8AD510D-3F0D-41FF-85A7-E6B30711ADA5"></a></span>Select a <span class="MenuCascade" id="GUID-56132095-3E47-46E4-8488-69EFD0C80371">Proximity Method</span>, which is the geometry component of the object that is used to calculate the cutoff
                        distance for the particle: Closest Surface, Closest Vertex or Knot, or Closest Smoothed
                        Surface. 
                     </p> 
                  </li>
               </ol> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>