<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-A0D9530C-8BCD-4AC7-B4C7-A77B77702F53">
      <meta name="indexterm" content="ICE trees: Math nodes">
      <meta name="topic-type" content="concept">
      <title>Working with the Math Nodes</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-A0D9530C-8BCD-4AC7-B4C7-A77B77702F53"></a></span><div class="head">
            <h1>Working with the Math Nodes</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-8FEFD996-CD04-48C5-99F1-AABF58379B73"></a></span>Most of the nodes in the Math category are fairly straightforward. Almost all of them
               support most of the data types, such as scalars and 3D vectors (but not colors — see
               <span class="char_link"><a href="ICE_trees_WorkingwithColorsinICE.htm">Working with Colors in ICE</a></span>). However, a few of the Math nodes deserve special mention. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-003C"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-247A9561-EF84-4644-9D4D-81F835B7EF2D"></a></span>Multiplying Values
               </h2> 
               <div class="section"><span class="anchor_wrapper"><a name="SECTION_EDD12ABDB3194F888ABC9BC6D30A1F5E"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-D1AC925A-ADAC-4C61-9DE6-74A3D548A0D5"></a></span>Using the Multiply Node
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-B10A99D9-7953-4373-ABE4-D4B973D729BE"></a></span>The Multiply node can be used to multiply various data types. It accepts multiple
                     inputs but they must be the same data type, and the output is always a value of the
                     same data type as the inputs. For example, the product of two or more integers is
                     an integer, the product of scalars is a scalar, and so on. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-D10748C6-F68F-4B8B-8553-2A47030DE2EE"></a></span>You can also use the Multiply node to n-dimensional multiply vectors together. In
                     this case, the multiplication is component-wise, which can be useful for scaling non-uniformly.
                     There are separate nodes for Dot Product and Cross Product. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-003D"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-E6D7000F-5D99-4CFE-B0FA-8459B2886533"></a></span>Controlling Amplitude with Multiply by Scalar
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-FE247331-DD96-4B6F-8BF5-01B4497EFA42"></a></span>The Multiply by Scalar node is very useful. You can use it anywhere you need an amplitude-like
                     slider. Multiply by Scalar can be used to multiply almost any type of data, including
                     scalars and 3D vectors. 
                  </p> <span class="anchor_wrapper"><a name="FIG_03933C2AEBF44A47A11A775CFEE6D9FA"></a></span><div class="figure-anchor"><img src="../images/GUID-D08E1305-DBBD-40E3-AD54-F78E947CB8EA-low.png"></div> 
                  <p><span class="anchor_wrapper"><a name="GUID-CC18DBDE-8B06-41EB-8137-EA00A6AFF4F7"></a></span>Multiplying a weight map value by a scalar. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-003F"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-C2A1EB2D-7893-4342-B545-48476A6C8298"></a></span>Multiplying Vectors by Matrices
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-26965DF5-63D0-4E98-965A-6DE8E3115A16"></a></span>The Multiply Vector by Matrix node lets you multiply an n-dimensional vector by an
                     n-by-n matrix in the usual way. The multiplication is performed as if the vector is
                     a row-vector on the left and the matrix is on the right. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-78657DFB-3CDB-498B-ADC4-A51BA3A74074"></a></span>You can also use the Multiply Vector by Matrix node to multiply a 3D vector by a 4-by-4
                     matrix or a 4D vector by a 3-by-3 matrix. In these cases, special multiplication rules
                     are used that assume homogeneous coordinates. See <span class="char_link"><a href="ICE_trees_WorkingwithTransforms.htm#WSB74EE070EB80114199F4C921243896F3-0054">Converting Between Local and Global Reference Frames</a></span>. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0040"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AC345779-D4C7-4B3D-A5B5-21C8149954EB"></a></span>Random and Turbulent Values
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-ED62E285-50A9-455B-B53E-69040E4F9F48"></a></span>The Random Value and Turbulence nodes can be used to generate randomized variations
                  in values. 
               </p> <span class="anchor_wrapper"><a name="UL_C1ED064119274BB3AB0A6BF54B94F00E"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-DB899EB8-9D48-49CB-A905-1E85C513F0FE"></a></span>Random Value generates independent values. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-172D8BBA-A528-4848-93CA-658AFFC93F7A"></a></span>Turbulence generates a smoothly-varying 3-dimensional coherent-noise pattern. 
                     </p> 
                  </li>
               </ul> 
               <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0041"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-ABFC39BA-7144-4FC9-BD2E-FAB7AA641AF4"></a></span>Random Value
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-8E104C8E-7B5B-4365-A5E6-8601D0E1632C"></a></span>The Random Value node generates a pseudo-random value based on a mean value, a variance,
                     and a distribution type. It can generate values of different data types such as scalar,
                     vector, matrix, and so on. See <span class="char_link"><a href="iceref_Random_Value.htm">Random Value</a></span> for more information. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-88151C21-9217-4EAF-907A-3287C4083716"></a></span>The generated sequence of numbers depends on three things: 
                  </p> <span class="anchor_wrapper"><a name="UL_677DFB8840004AFDB4C47D9CCCB47573"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-15556C4E-1213-4BF0-BEA2-E6EEE7559F57"></a></span>Seed. If you require that two Random Value nodes generate different sets of random
                           values, simply assign them different seed values. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B88E4CA5-6A84-40B7-8CF4-E11E132320A6"></a></span>ID. If you require that different particles get assigned different values, use a Get
                           Data node to get the particles' ID and plug it into the ID port. For other types of
                           components, you can plug their indices into the ID port — see <span class="char_link"><a href="ICE_trees_WorkingwithIDsandIndices.htm">Working with IDs and Indices</a></span>. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-D40D18B0-4FC2-40AF-AA48-E26CDB1889C4"></a></span>Time Varying. If this is true, a different value will be generated every frame. 
                        </p> 
                     </li>
                  </ul> 
                  <p><span class="anchor_wrapper"><a name="GUID-C41921AE-DF2A-43B8-8BAE-017CB59C7ED4"></a></span>You can plug other attributes into the ID port if you want. For example, if you plug
                     particles' Age into the ID port (a Round node will automatically be added to convert
                     from scalar to integer), then all particles with the same age are assigned the same
                     value. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-631C2EAF-CADA-425D-B717-60187B3E2887"></a></span>In addition to the Random Value node, there are a number of compounds especially designed
                     for randomizing in different ways or for randomizing specific things. For example,
                     the Randomize Vector by Cone distributes vectors evenly in a cone or sphere shape
                     instead of a box distribution, and the Randomize Value by Range lets you specify minimum
                     and maximum values instead of a mean and variance. You can find all the various randomizing
                     compounds by typing "rand" in the Quick Filter box of the preset manager. 
                  </p> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0042"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-6FDB58D5-1EBB-4C9B-A20F-59439B53048B"></a></span>Turbulence and Turbulize
                  </h3> 
                  <p><span class="anchor_wrapper"><a name="GUID-473ECA5C-866F-4764-BAC6-0813FB86E026"></a></span>The Turbulence node creates a coherent noise pattern that varies continuously in space,
                     as well as optionally in time. Instead of using ID to generate individual values,
                     you use element positions. Values range between 1.0 and –1.0. 
                  </p> <span class="anchor_wrapper"><a name="TABLE_7EBA3E5C684C4018A348F3D751DA20D1"></a></span><div class="table_NotRuled">
                     <table cellpadding="0" cellspacing="0" class="not-ruled">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <tr class="not-ruledOddRow">
                           <td class="table-body">&nbsp; <img src="../images/GUID-7E5E4C5F-C61C-4055-89FF-546F49BDD67B-low.png"> 
                           </td>
                           <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-BBBBB5F4-3853-41CA-9156-7F040B21864F"></a></span><p class="table-body">This illustration shows the turbulent noise pattern. The Turbulence node is used to
                                 set the point positions in Y. 
                              </p> <span class="anchor_wrapper"><a name="GUID-C31EB5DF-82A6-4E10-A646-DE2851B0B058"></a></span><p class="table-body">Space Frequency was set differently in X and Z, resulting in long, thin ripples. </p> 
                           </td>
                        </tr>
                        <tr class="not-ruledEvenRow">
                           <td class="table-body" colspan="2">&nbsp; <img src="../images/GUID-9F455AA1-3E9C-494C-84A7-EAA958F1AE0E-low.png"> 
                           </td>
                        </tr>
                     </table>
                  </div> 
                  <p><span class="anchor_wrapper"><a name="GUID-DC125682-2DA5-48E5-BB5F-A23A2E264CA2"></a></span>In addition to the Turbulence node, there are several Turbulize compounds designed
                     to work with specific situations. You can find them all by typing "turb" in the quick
                     filter box of the preset manager. 
                  </p> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0045"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-493B905E-8ED9-402E-A5E7-E8D5D4DF3BFF"></a></span>Fcurve
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-FE22323E-E72A-402A-85A6-DC315BADB0D4"></a></span>The FCurve node lets you use a profile curve to output a value (Y axis) based on an
                  input (X axis). The X axis does not necessarily correspond to the current frame or
                  time, unless you drive the input port with a Current Frame or Current Time node. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-460AFFE6-5D43-4179-8556-AC9990843B19"></a></span>To expose the fcurve control in a compound, expand the Fcurve node fully and drag
                  the Expose Input icon onto the Profile parameter. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0046"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-9A3ECA22-517F-4B22-BD69-D93BC0B1E0D1"></a></span>Statistics
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-B8C04D67-95AD-48A8-BDBE-EFAEDD2436D1"></a></span>The nodes in the Math/Statistics subcategory work on an entire data set, rather than
                  individual values in a data set. For example, you can get the average Age of particles
                  in a set. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-33425B04-A02F-46C1-BFAD-6AE04BAD7DEE"></a></span>Most of the Statistics nodes change context from per component to per object 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0047"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-1308970D-C4CC-4505-809B-F71276984434"></a></span>ArcTan and ArcTan 2
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-786118A5-3332-420E-A807-8755F11EEAB4"></a></span>There are two variations of the arctangent function in the Math/Trigonometry subcategory:
                  
               </p> <span class="anchor_wrapper"><a name="UL_D3ACA486A44C4678B3408F92A2B3CBA0"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B5F00E70-0DFE-440C-94FC-6D9AD29E49C3"></a></span>ArcTan accepts a single input and returns a result in the range (–90, 90). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-49D3CF2A-CC63-43E9-96E2-09F312AB8367"></a></span>ArcTan 2 accepts two inputs, X and Y, and calculates the arctangent of Y/X. It returns
                        a result in the range (-180, 180). It uses the signs of X and Y to return a result
                        in the corresponding quadrant, so for example, X = 1 and Y = 1 returns 45 degrees
                        but X = –1 and Y = –1 returns –135 degrees. 
                     </p> 
                  </li>
               </ul> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSB74EE070EB80114199F4C921243896F3-0048"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-22CE445B-6B54-40BC-91BF-C47398A0FB7A"></a></span>Comparing Values
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-669416C1-11F7-456A-8133-4479597B275A"></a></span>The Compare node has several different presets for Equal To, Not Equal To, Less Than,
                  and so on. For determining whether a value is greater than or less than another, it
                  uses the following criteria: 
               </p> <span class="anchor_wrapper"><a name="UL_83A6B0429B8F4C17BA6DE029EAB0BD93"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-756B6ACC-2CA1-4902-82D6-6B71B1FF9D1F"></a></span>Integers and scalars use the standard comparison. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4564AB21-64D3-4713-AFF4-77185968AAB3"></a></span>Vectors are compared based on length. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-9F2C53A6-0FF3-4234-A247-E6A03D679D46"></a></span>Matrices are compared based on their determinants. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E4C13F5E-3913-4256-BD04-22A776CF6246"></a></span>Colors are compared based on their brightness with alpha. 
                     </p> 
                  </li>
               </ul> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>