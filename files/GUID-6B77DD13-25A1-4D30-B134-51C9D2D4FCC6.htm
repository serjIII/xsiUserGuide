<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-6B77DD13-25A1-4D30-B134-51C9D2D4FCC6">
      <meta name="indexterm" content="CrowdFX: terrains">
      <meta name="indexterm" content="terrains for CrowdFX actors">
      <meta name="topic-type" content="concept">
      <title>Terrains for Crowds</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-6B77DD13-25A1-4D30-B134-51C9D2D4FCC6"></a></span><div class="head">
            <h1>Terrains for Crowds</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-13A25D49-FF8B-4A15-A813-6F26F6F7994F"></a></span>   
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-F33CBED2-B199-4795-AB7F-27530F6F6898"></a></span>You can select one or more surface objects (polygon mesh or NURBS surface) to be used
            as the terrain upon which the actors will move or stand in a crowd simulation. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-3EF81BEF-B1C3-4DA5-88F1-3A3CFAB3EB9E"></a></span>When you add a terrain object, raycasting is performed from each particle (actor)
            to detect the terrain's surface, and each particle's position is updated to match
            it. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-92BDF087-4E4C-4250-81B4-490CD5DF4415"></a></span>The actor's skeleton is adjusted to accommodate the terrain, keeping the actor's feet
            on the ground. However, if the actor's legs are going through the terrain (such as
            for bumpy terrain or a steep hill), you can add a constraint to remedy this problem
            - see <span class="char_link"><a href="GUID-FA522E1A-E730-4A24-8921-EE0FDA3899F3.htm">Constraining the Legs to the Ground</a></span>. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-62C0CC67-45E2-4667-B01A-88386ED2F32D"></a></span> <img src="../images/GUID-F8842A88-55CE-4A8D-886F-5F74AFE2AAA1-low.png"> 
         </p><span class="anchor_wrapper"><a name="UL_4F8EE48089764734A696729CC467856F"></a></span><p><span class="anchor_wrapper"><a name="GUID-445E90EB-E09B-4D3E-A988-62881FD90FF0"></a></span>To add terrain objects to the current crowd simulation, do any of the following: 
         </p>
         <ul>
            <li>In the explorer, drag one or more surface objects into the Terrain group in the Crowd
               model. 
            </li>
            <li>Select one or more surface objects and choose the <span class="MenuCascade" id="GUID-FF2D9F8E-B215-4823-97C6-857E5F488E5D">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Add Terrain</span> command from the ICE toolbar. 
            </li>
            <li>Choose the <span class="MenuCascade" id="GUID-6E5F688E-5720-4174-8CD2-4C5AF9F054A7">CrowdFX <img src="../images/ac.menuaro.gif"> Crowd <img src="../images/ac.menuaro.gif"> Create <img src="../images/ac.menuaro.gif"> Add Terrain</span> command and pick a single surface object. 
            </li>
         </ul>
         <p><span class="anchor_wrapper"><a name="GUID-4AFB5CB5-8B09-4F28-B056-6BEF03847DE1"></a></span>The simulation point cloud's <span class="MenuCascade" id="GUID-0B8C43C3-BC0F-4A9E-B978-8B793E544447">Behavior</span> ICE tree includes a <span class="MenuCascade" id="GUID-65537FEF-225E-42A8-A5DC-E6CD33110764">Stick to Ground</span> node. If you connect the <span class="MenuCascade" id="GUID-C40519A1-2012-427A-A692-5FE37D4227B8">Stick to Ground</span> node to the <span class="MenuCascade" id="GUID-972C5113-F43F-4E19-8A31-F588AF7E89F2">Post Simulate</span> port of the <span class="MenuCascade" id="GUID-8362598B-AA35-41A9-B7E9-5A967C2EAE90">Behavior Core</span> compound, then it finds the terrain by raycasting, and then updates the particle's
            position accordingly. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-A4B1A2CC-5476-4890-9C6D-1C52CD5D6772"></a></span>The terrain objects are referenced in the Terrain group in the Crowd model. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-339B95F8-C295-401F-B427-6738EF6344AC"></a></span>If you duplicate a terrain object, its copy is automatically references in the Terrain
            group. 
         </p>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>