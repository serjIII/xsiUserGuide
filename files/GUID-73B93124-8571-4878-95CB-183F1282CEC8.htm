<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-73B93124-8571-4878-95CB-183F1282CEC8">
      <meta name="indexterm" content="shader compounds: creating">
      <meta name="indexterm" content="shader compounds: exposed port properties">
      <meta name="indexterm" content="shader compounds: how ports appear in nodes and property editors">
      <meta name="indexterm" content="shader compounds: exposed port names">
      <meta name="topic-type" content="concept">
      <title>Creating a Shader Compound</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-73B93124-8571-4878-95CB-183F1282CEC8"></a></span><div class="head">
            <h1>Creating a Shader Compound</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-DBC5297C-D0B2-4275-A75F-7A44DFDA7607"></a></span>  
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-E2B841C7-E170-4CDF-B64B-B84F981200E1"></a></span>This section shows you briefly how to create a shader compound, which is very similar
            to the process for creating ICE compounds. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-B6529743-58D1-44E4-B98D-ADFB1D411518"></a></span>For more details and information about ICE compounds, see <span class="char_link"><a href="ice_compounds.htm">Building ICE Compounds</a></span>. 
         </p><span class="anchor_wrapper"><a name="GUID-81EE0C3F-BBF6-45CA-AA5A-B46982E346EE"></a></span><ol type="1" start="1">
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-CF5A5EDF-52D6-473C-9C59-1A142D24CBFC"></a></span>In the render tree, select all the shader nodes you want to save in the compound.
                  
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-89CDD675-D687-4720-8A18-1F89E97BE5D7"></a></span>To keep the compound generic, you should leave out the Material node so that you can
                  apply this compound to any object's Material node. 
               </p> <span class="anchor_wrapper"><a name="FIG_46F024A5BE5942FEB83A5B20C3EDC53D"></a></span><div class="figure-anchor"><img src="../images/GUID-928F4A4A-A3F4-4BA6-B785-7A2C679EE4F0-low.png"></div> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-05292688-3451-40D8-9819-C46CA86CB2BF"></a></span>From the render tree toolbar, choose <span class="MenuCascade" id="GUID-CD09DE0A-A44F-49B1-AD43-CC15EE8F9319">Compounds <img src="../images/ac.menuaro.gif"> Create Shader Compound</span>. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-6DF4F866-B725-4A36-8B5D-702F71B76C5C"></a></span>The selected shader nodes disappear from view, and you're left with a generic compound
                  named <span class="MenuCascade" id="GUID-4E6DE55A-44B3-419A-A541-3813419FE09A">ShaderCompound</span>, which contains all the shaders that just disappeared. 
               </p> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-118E5C1B-B4DA-4615-96E5-43DC2E625311"></a></span>Click the little <span class="MenuCascade" id="GUID-84702FEE-1133-4E35-8651-A9CC7B7DE8F0">e</span> in the upper-left of your new compound to edit it. This opens up the compound so
                  that you can start exposing ports for it. 
               </p> <span class="anchor_wrapper"><a name="FIG_A58F813CBB1347EB9131F99CE93F8F94"></a></span><div class="figure-anchor"><img src="../images/GUID-6D86BD7B-0F4E-4786-AB40-C9D79E5682EE-low.png"></div> 
               <p><span class="anchor_wrapper"><a name="GUID-668BBD0A-2AC5-47A1-A601-45A3CEB2817F"></a></span>You now want to expose the different ports from the shaders to make only those parameters
                  editable. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-930985B4-F1D5-44A7-8381-AD24A59068C6"></a></span>The gray bar on the left shows where you will expose shader ports for your compound.
                  Before you start exposing ports, you need to decide on what you want other people
                  to be able to change and connect to in the compound. 
               </p> <span class="anchor_wrapper"><a name="FIG_2225764DBAAA42BC88181E40866A6F1D"></a></span><div class="figure-anchor"><img src="../images/GUID-B9AA761A-AD78-4551-AE76-5FCDDCB94CD6-low.png"></div> 
               <p><span class="anchor_wrapper"><a name="GUID-48785AC7-D7BA-468F-BCC7-A28BAD38ACD5"></a></span>You can click the arrow at the top of the exposed ports bar to expand or collapse
                  the list of exposed input parameters. When the list is collapsed, you can display
                  the name of a port by hovering the mouse pointer over its connection. 
               </p> <span class="anchor_wrapper"><a name="FIG_309151ECF6B64EC8ADB60FD0677AF240"></a></span><div class="figure-anchor"><img src="../images/GUID-5E59C6C7-D150-408D-98D4-A0188526A76A-low.png"></div> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-8C3ED511-BFD9-4B5C-846B-78C09030CD38"></a></span>To include a port in the exposed ports bar, click the black circle (Expose input)
                  at the top of this bar and drag it to the node's port that you want to expose. The
                  port is then included on the bar. Keep doing this for every port you want to expose.
                  
               </p> <span class="anchor_wrapper"><a name="FIG_EE28D51DF4434F1EA6954E8B17993B0D"></a></span><div class="figure-anchor"><img src="../images/GUID-D93BE52E-1F04-4BAA-A78E-DA92C3BA2129-low.png"></div> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-754D9ED4-96F6-40FD-A7CD-87BBDD6CB92A"></a></span>You can rename this exposed port by right-clicking on it and choosing <span class="MenuCascade" id="GUID-4112D1BD-0A7D-4B88-BBBB-41D3E8AFA660">Properties</span> to open the Exposed Port Properties editor, then entering new names - see <span class="char_link"><a href="GUID-73B93124-8571-4878-95CB-183F1282CEC8.htm#SECTION_6DAAE0C9600D4856850854B263155E0C">Editing the Shader Compound's Exposed Port Properties</a></span> below for more information. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-FF855E31-520C-4F66-A091-2255A04C204C"></a></span>If you double-click on the exposed port here, or right-click and choose <span class="MenuCascade" id="GUID-A911F53F-05E0-4763-A930-B9DB0D51147D">Rename</span>, this sets only the scripting Name, not the Display Name. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-F3C792FD-713E-48F4-9C8B-96B5CE21ABCB"></a></span> 
                  <div><span class="anchor_wrapper"><a name="GUID-C4C5EF5D-F497-4489-8ABB-DB00403C5218"></a></span><div class="note-note"><span class="label">NOTE:</span>In the Exposed Port Properties editor, you can also determine how exposed ports are
                        displayed in the shader compound's property editor and on its node in the render tree.
                        
                     </div>
                  </div> 
               </p> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-0CD01C43-ADA8-40F0-A0F3-2F250D6DA1A2"></a></span>Create the output port by dragging an output port from the shader on the furthest
                  right (the shader into which all other shaders are plugged) to the black dot on the
                  gray exposed output bar on the right. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-2F238E8F-E262-4E70-923E-33DC6D90CDC2"></a></span>You can click the arrow at the top of the exposed output bar to expand or collapse
                  the list of exposed output ports. When the list is collapsed, you can display the
                  name of a port by hovering the mouse pointer over its connection. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-A7CB8298-D154-4B16-ACE5-E230E303F146"></a></span>You can rename the exposed output ports in the same way as you do for the exposed
                  input ports. 
               </p> <span class="anchor_wrapper"><a name="FIG_9D3FA9AE1D43415FB5FA4B2524618085"></a></span><div class="figure-anchor"><img src="../images/GUID-0A3BB6E2-3F2D-44C9-9710-29B50EC43622-low.png"></div> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-1682654E-036B-452B-B5F5-08261A4E1831"></a></span>In the bar at the top of the editing compound layout, double-click where ShaderCompound
                  is written and give your compound a <span class="MenuCascade" id="GUID-BA30492D-D5FD-45FB-AF6A-6EE12EB50B3E">class</span> name (in this example, it's Bonfire). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-5B28C4ED-FC26-498D-A6D2-72D227C767F9"></a></span>The class name is used in the compound's properties, in the preset manager, for scripting,
                  and in the Classname column of the shader version manager (after exporting). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-EDA98DC4-D642-40B0-B18B-56AC3E97FB99"></a></span>When you close the compound, you won't see this name in the render tree until you
                  export the compound, then re-import it. 
               </p> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-26C543B7-1A07-47B3-8866-27ABAA169064"></a></span>Do the same for the Category, which is where it will show up in the groups in the
                  preset manager, giving it a name such as Particle. If you don't give a Category name,
                  the compound appears in the Shader Compounds category. 
               </p> <span class="anchor_wrapper"><a name="FIG_90F88890CF0B4DB68091B0279A54874A"></a></span><div class="figure-anchor"><img src="../images/GUID-893BA44C-BB4F-497F-ADB9-CD3D1E5D00FA-low.png"></div> 
               <div style="margin-top: 9pt;"><span class="anchor_wrapper"><a name="GUID-96DB04F7-2AD5-474B-83D7-A9FB5B60FD3E"></a></span><div class="note-note"><span class="label">NOTE:</span>You can add comments to your compound. See <span class="char_link"><a href="ICE_trees_DocumentingTreesGroupsandComments.htm">Documenting Trees: Groups and Comments</a></span> for more information. 
                  </div>
               </div> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-CF76EE15-7415-4417-85A1-5BCC480F64CF"></a></span>Click the little <em class="strong">x</em> box in the upper-left corner to close the compound and return to the regular render
                  tree. 
               </p> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-DDE083D6-613A-4482-841D-49AC6D272FFC"></a></span>You can then rename the shader compound node to be the same as the name you gave it
                  inside the compound. Double-click the compound node and enter a new name. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-97DC6A35-A5EF-4671-A4E7-1D3D9299A934"></a></span>You may need to expand the node's connections to see the ports that you exposed. 
               </p> 
            </li>
            <li> 
               <p><span class="anchor_wrapper"><a name="GUID-635DCB09-3BDB-4C3B-8D02-679FDAECB253"></a></span>Choose <span class="MenuCascade" id="GUID-CC91F3CD-E52B-473A-8BAF-C4FCC6829BD4">Compounds <img src="../images/ac.menuaro.gif"> Export Shader Compound</span> from the render tree toolbar to export your compound so that others can use it. See
                  <span class="char_link"><a href="ICE_compounds_ExportingCompounds.htm">Exporting Compounds</a></span> for more information. 
               </p> 
            </li>
         </ol>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_6DAAE0C9600D4856850854B263155E0C"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-120E4DBC-8D76-4BFD-A101-77550DAB0DF2"></a></span>Editing the Shader Compound's Exposed Port Properties
            </h2>    
            <p><span class="anchor_wrapper"><a name="GUID-697B5BE5-5EFA-4D3F-B829-F3226A785F64"></a></span>You can define the name of the exposed port, as well as how a port appears on the
               compound's node in the render tree and in the compound's property editor. 
            </p> <span class="anchor_wrapper"><a name="FIG_3E9D5591DBF34673B76E5DAA4E1D9EAF"></a></span><div class="figure-anchor"><img src="../images/GUID-0B6B0839-6A05-4C2B-8296-285B17E035E8-low.png"></div> <span class="anchor_wrapper"><a name="TABLE_7DE58543C75E494880F4CA5342F59D60"></a></span><div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col>
                     <col>
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-6D7FBE18-2798-466A-9BC5-D413F97D5A3E"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-5D34EA6C-8040-4129-AAC3-0598E9D71CAC">A</span> 
                        </p> 
                     </td>
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-D4107359-8FCF-4C3B-BC3E-1C58EB18D526"></a></span><p class="table-body">The <span class="MenuCascade" id="GUID-B9F2B0F8-A33A-447F-A377-1AFC99AC7BCC">Name</span> is the one that is displayed in the gray area on the left in the edit compound layout
                           and is used in scripting. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-DD930CB8-AA36-4A80-A478-1845263941CA"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-CF1B5385-11EC-4D25-84D5-4E5AF8558DA7">B</span> 
                        </p> 
                     </td>
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-D1AB1CD2-35C5-4983-9A42-8C6AEEECCAE5"></a></span><p class="table-body">The <span class="MenuCascade" id="GUID-3E8FB4E0-A7BD-407F-8EA8-174BC4623EC7">Display Name</span> is the one that is displayed in the compound's node in the render tree and in the
                           compound's property editor. If this is blank, then the Name is used for the Display
                           Name. 
                        </p> <span class="anchor_wrapper"><a name="GUID-A31D06F0-9FB6-4A2D-83B8-5C89CEB31991"></a></span><p class="table-body">If you double-click on an exposed port in the gray bar or right-click and choose <span class="MenuCascade" id="GUID-D8D9149E-D772-441A-B010-3797DEB2027F">Rename</span>, this sets only the scripting <span class="MenuCascade" id="GUID-A9BC7D7C-3854-4863-9FCC-244D7539AECC">Name</span>, not the <span class="MenuCascade" id="GUID-911789E3-FB89-4A10-B637-CD00D7146751">Display Name</span>. 
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-FEBAB333-6F84-4526-B2D4-9AA42249A462"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-16A4FB32-F9A2-47F3-84D5-269C8C5CFBB8">C</span> 
                        </p> 
                     </td>
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-7B04280E-91CD-4747-B1D7-66FA488A978B"></a></span><p class="table-body"><span class="MenuCascade" id="GUID-37959966-708E-47C0-BB0F-91043D3E45C7">Property Page Layout</span> options determine how the exposed port appears in the shader compound's property
                           editor. 
                        </p> <span class="anchor_wrapper"><a name="UL_DCA4B696BE86444197A8BF3884007D56"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-E86FC865-42F3-482F-9CB8-B13D970E232E"></a></span>Specify whether it is <span class="MenuCascade" id="GUID-EDDCB99C-578A-42CA-8DBD-7EA3DD578CB2">Visible</span> as a parameter in the property editor. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-493BFACA-B979-49B6-838E-0E92FC3D13A3"></a></span>If the exposed port is a certain type (such as scalar, integer, or Boolean), you can
                                 set <em class="strong">Min</em>imum and <em class="strong">Max</em>imum values allowed for it in the property editor. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-4E6EB3C2-2E96-466F-BCA0-F0704FDC4AC8"></a></span>Assign the exposed port to a <span class="MenuCascade" id="GUID-B0B60AFF-FEED-4DA7-BCE7-EAD5A93B1151">Tab</span> in the property page. If a tab using the name you enter doesn't already exist, it's
                                 created. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-EEDD0149-D4FB-4117-8D51-2FDD0A302702"></a></span>Assign the exposed port to a <span class="MenuCascade" id="GUID-0A1A7661-DAB9-42E3-9324-A8D6E3D69B10">Group</span> of parameters in the property page. If a group using the name you enter doesn't already
                                 exist, it's created. 
                              </p> <img src="../images/GUID-F5C7FA3C-894B-42A7-B712-7CB5B2C063E9-low.png"> 
                           </li>
                        </ul> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-523EED3E-52AE-4D66-AD09-0AFE84D993C1"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-712F548B-CA17-4EB7-92D0-57F62BD78B26">D</span> 
                        </p> 
                     </td>
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5B6BDD50-8DF7-4D4B-9428-ECF6AE1CF874"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-40D4176D-8B5E-4FE8-8679-50C6D2C215C7">Render Tree Layout</span> options determine how the exposed port appears in the shader compound's node in the
                           render tree. 
                        </p> <span class="anchor_wrapper"><a name="UL_7391187D01D144CFAD1A4B30CACF7EA0"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-A227F300-7728-44D0-9592-20E088E0D01E"></a></span>Specify whether it is <span class="MenuCascade" id="GUID-C44DD22C-711C-4EB2-B5EA-FCCD3F877FF5">Visible</span> as a port in the node. 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-E7FFFC61-6F03-44B4-A47F-D6289F8D6A05"></a></span>Assign the exposed port to a <span class="MenuCascade" id="GUID-0BD97B1F-7E9F-4DB5-8470-2522068694D9">Group</span> of ports in the node. If a group using the name you enter doesn't already exist,
                                 it's created. 
                              </p> <img src="../images/GUID-60C1AB79-17B8-40F2-9801-37608543326C-low.png"> 
                           </li>
                        </ul> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5DEFA1E1-4694-48BD-814D-8FD617BA3CC1"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-07B845C0-15D0-4587-9756-3022B96A0007">E</span> 
                        </p> 
                     </td>
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-CCE0EEFF-12D0-4635-A2DA-5F8671EBC250"></a></span><p class="table-body"><span class="MenuCascade" id="GUID-A2F47BA1-7498-4B1B-B425-BA409249C858">Property Page Combo Control</span> options let you create a drop-down combo list for this port in the shader compound's
                           property editor. 
                        </p> <span class="anchor_wrapper"><a name="GUID-3B48EDBB-CFF5-4AD0-941D-5FE2936E229A"></a></span><p class="table-body"> <img src="../images/GUID-A7DF0753-479C-4835-8CA0-34EB6896C826-low.png"> 
                        </p> <span class="anchor_wrapper"><a name="GUID-44F96F5C-1E59-4B5A-9BBB-AF2405C2F3C8"></a></span><p class="table-body">Enter a name for the option to be displayed in the list in the <span class="MenuCascade" id="GUID-76542151-3B3A-4AF6-A53D-3942575C2ED3">Combo string</span> field, then enter its value in the <span class="MenuCascade" id="GUID-F57FF843-3E3E-4B8F-A522-3E3D389DFC78">Combo value</span> field and click the <span class="MenuCascade" id="GUID-5C18A675-97A6-4627-B0DD-779F0C8B7718">Add combo</span> button to add it to the list. 
                        </p> <span class="anchor_wrapper"><a name="GUID-09910CE2-77C5-4AD2-8C5C-92F20B0930B7"></a></span><p class="table-body">Select a combo string/value set and click the <span class="MenuCascade" id="GUID-7A1C589A-7932-4ABF-890D-E0B739078BDC">Remove combo</span> button to remove it from the list. 
                        </p> 
                     </td>
                  </tr>
               </table>
            </div> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>