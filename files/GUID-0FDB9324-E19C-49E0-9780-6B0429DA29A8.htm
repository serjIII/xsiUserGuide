<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-0FDB9324-E19C-49E0-9780-6B0429DA29A8">
      <meta name="indexterm" content="high quality display mode">
      <meta name="indexterm" content="display types: high quality">
      <meta name="topic-type" content="concept">
      <title>Configuring the High Quality View</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-0FDB9324-E19C-49E0-9780-6B0429DA29A8"></a></span><div class="head">
            <h1>Configuring the High Quality View</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-C970E3DA-303E-4966-BC23-DDBD14EF6F46"></a></span> High Quality display mode gives a close approximation of the final rendered image
            in the viewport, including soft shadows, bump and normal maps, light attenuation,
            environment, procedural textures, and more. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-5175C3EF-16BB-49A2-9301-B63919C21328"></a></span>It works by compiling MetaSL code into CgFX instructions on-the-fly at runtime. It
            works with all the MetaSL shaders, as well as with many of the standard Softimage
            shaders for mental ray whose shader definitions have been adapted to support it. If
            a shader is not supported in High Quality display mode, it is ignored along with any
            shaders connected into it. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-9FE92DDA-F0C1-4FB2-B447-7BEC6A51E906"></a></span>Be aware that there is a limit on the number of instructions that can be compiled
            and executed. This may limit the complexity of the materials that can be displayed,
            as well as the number of lights. 
         </p><span class="anchor_wrapper"><a name="FIG_72E9F4CEC9FB4A73AF1761F3628A5537"></a></span><div class="figure-anchor"><img src="../images/GUID-020A0BFF-C292-4547-B54B-5CDF2619ACFC-low.png"></div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_9236AF69CBB04BF8B5913B620FF66E61"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-C9D1A618-A380-44FE-82DB-C3D17D2B24BE"></a></span>Activating High Quality Mode
            </h2> <span class="anchor_wrapper"><a name="OL_6D469DBFD8544EFAB53B51F6A724F10A"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-EC293A53-C373-4158-A46F-080EB967C39A"></a></span>Make sure that <span class="MenuCascade" id="GUID-A1F4B965-E647-446C-87BD-2E7175965411">Enable</span> is checked in the <span class="MenuCascade" id="GUID-5E0F60BB-9724-439D-AF2C-90B72B0BC76F">High Quality Viewport Options</span> on the General tab of your <span class="char_link"><a href="userprefs522.htm">Display Preferences</a></span>, and that <span class="MenuCascade" id="GUID-9AA57DF0-80D8-498B-A472-0F7D1592DB74">Shader Profile</span> is set correctly for your graphics card and driver. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-B774837D-ACCB-413F-B7DA-E05F76696515"></a></span>Choose <span class="MenuCascade" id="GUID-F8CC593A-891F-46A1-A5E1-E1C611335F52">High Quality</span> from the Display Mode menu of a viewport. 
                  </p> <span class="anchor_wrapper"><a name="FIG_A3D80C0AB58247CE9611A89F148FCFB8"></a></span><div class="figure-anchor"><img src="../images/GUID-89DCD810-71CB-4C7C-97D6-734213DA5E3C-low.png"></div> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-F82C0634-97F8-4D09-8EC4-5DC670684194"></a></span>Use the options on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of the viewport's <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span> to adjust anti-aliasing, dithering, shadows, screen-space ambient occlusion, and
                     depth of field. 
                  </p> 
               </li>
            </ol> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_82B6FBBB5960445E9458F61C0535A4FB"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-8540C52F-6508-4599-85BF-0AE2782D5E6E"></a></span>Displaying Shadows in High Quality Mode
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-F6402E5A-E1D6-498D-A558-5006DBFC9D19"></a></span>There are several settings that control shadows in High Quality display mode. 
            </p> <span class="anchor_wrapper"><a name="OL_A08F6259D1F546A8BD645FFF3BACFC6F"></a></span><ol type="1" start="1">
               <li>For every light you want to cast shadows, activate <span class="MenuCascade" id="GUID-44631FF7-93C2-4A1E-8F06-926E539267D3">Enabled</span> in the Shadows group on the General tab of the <span class="char_link"><a href="shaderpresets563.htm">Soft Light</a></span> shader. 
               </li>
               <li>Make sure that <span class="MenuCascade" id="GUID-F828ABA6-6FEF-4860-9F80-FDA6818AAFC2">Enable Shadows</span> is activated on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of the viewport's <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span>, and set <span class="MenuCascade" id="GUID-024E1D83-E779-4520-A187-67BD455E7CCD">Shadow Map Resolution</span> to the desired quality. 
               </li>
               <li>For soft shadows, activate <span class="MenuCascade" id="GUID-FECB28E2-69CE-4CC5-8B2E-4F5574D5F94F">Use Shadow Map</span> on the Shadow Map tab of the <span class="char_link"><a href="property1002.htm">Light Property Editor</a></span> property and adjust <span class="MenuCascade" id="GUID-59871488-54BA-4CD3-9483-B89149A05B46">Softness</span>. Use Viewport <span class="MenuCascade" id="GUID-13DE56DB-52F7-43F3-95C0-DAF0D3DEA227">Samples</span> to control the quality and <span class="MenuCascade" id="GUID-478C9749-EAF7-4B5E-B9DA-F938CA6A1A97">Bias</span> to reduce noise. 
               </li>
            </ol> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_DDDAFC1280524971A76B7709E11CBDA6"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-23EFA3F8-AEC1-4C24-9CE0-3E3B682F76BA"></a></span>Displaying the Environment in High Quality Mode
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-20F3E394-67F6-492D-81C3-5C6133D7F611"></a></span>You can use the current render pass' environment for the background and reflections
               in High Quality display mode. 
            </p> <span class="anchor_wrapper"><a name="OL_C0CF1CD791E34384813890260EBE789B"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-51AC7DD2-538E-42AC-A3BD-C9E01E49A940"></a></span>Make sure that the desired pass is current. 
                  </p> <span class="anchor_wrapper"><a name="FIG_E3ED7FFC365742819AB38BC5F03E8996"></a></span><div class="figure-anchor"><img src="../images/GUID-44014DB1-B0B1-4B2C-8DAE-AB6B0B303CD9-low.png"></div> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-926AE34B-DB82-4CFF-9273-CB5AA70F7842"></a></span>If you haven't already done so, add an <span class="char_link"><a href="shaderpresets732.htm">Environment</a></span> shader to the pass's shader stack. See <span class="char_link"><a href="passes_SettingUpRenderPasses.htm#WSBDF3789326DBBD4FB2A3C80D3F0ED961-002A">Applying Shaders to Passes</a></span>. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-F29E34D2-4E5A-4F29-9567-2342E1D9CBC9"></a></span>Activate <span class="MenuCascade" id="GUID-49D99178-EECA-4CAE-B0F6-5FFC9C4F03DA">Environment</span> on the view's Show menu (eye icon), or in its <span class="char_link"><a href="property1505.htm">Camera Visibility</a></span> property. 
                  </p> <span class="anchor_wrapper"><a name="FIG_617DB23106BC4BC08144089A4CCA0D82"></a></span><div class="figure-anchor"><img src="../images/GUID-28F6A130-6D1C-4B26-A440-ECBBC6F15471-low.png"></div> 
               </li>
            </ol> 
            <div><span class="anchor_wrapper"><a name="GUID-55225C56-5761-4877-B25D-58C555DD5CEF"></a></span><div class="note-note"><span class="label">NOTE:</span>Environment shaders added to an object's material instead of the pass are always used
                  for reflections in High Quality mode. 
               </div>
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_5F3E57F73DB5417283CF04D3F7E3E668"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-A3C7B78B-E9D8-4807-A523-F087B340E1CA"></a></span>What Works in High Quality Mode
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-2A5E94BD-787D-4C9B-B516-D33AE3A80C08"></a></span>The following are features are supported in High Quality display mode: <span class="anchor_wrapper"><a name="UL_025588843C9947B48EF3E6E6258563F5"></a></span><ul>
                  <li>Multiple lights, including infinite, point, and spot lights with attenuation. </li>
                  <li>Anti-aliasing. This can be controlled on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of viewports' <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span>. 
                  </li>
                  <li>Shadow maps. These can be controlled on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of viewports' <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span>. For soft shadows, there are separate <span class="MenuCascade" id="GUID-4D6ACC48-C877-4AAF-8B89-9E86E1405A54">Bias</span> and <span class="MenuCascade" id="GUID-AD452F23-C145-4B5C-9EDA-6D72010D8944">Samples</span> settings in the <span class="MenuCascade" id="GUID-CB793201-2B7A-4A4B-B2DF-58B1C4CF393D">Viewport</span> group on the <span class="char_link"><a href="property1002.htm#WS0AB06980232FF840BD06A86FFEB806F3-000D">Shadow Map</a></span> of the <span class="char_link"><a href="property1002.htm">Light Property Editor</a></span>. 
                  </li>
                  <li>Screen-space ambient occlusion. This can be controlled on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of viewports' <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span>. 
                  </li>
                  <li>Depth of field. This can be controlled on the <span class="char_link"><a href="property1501.htm#SECTION_D6C2E2D0EB5E4199B48428CB3107A52F">High Quality</a></span> tab of viewports' <span class="char_link"><a href="property1501.htm">Camera Display properties</a></span>. 
                  </li>
                  <li>Environment effects, including glossy reflections. </li>
                  <li>Multiple blended textures. </li>
                  <li>Transparency. </li>
                  <li>Bump and normal maps. </li>
                  <li>Multiple texture projections. </li>
                  <li>Texture layers. </li>
                  <li>Weight maps, vertex colors, and other maps and attributes using lookup shaders. </li>
                  <li>Backface culling. </li>
                  <li>Two-sided lighting. </li>
                  <li>Headlights. </li>
                  <li>Shader compounds. </li>
               </ul> 
            </p> 
            <div><span class="anchor_wrapper"><a name="GUID-37A88C51-80C8-4B5E-BCA9-4F6F335CCBE0"></a></span><div class="note-note"><span class="label">NOTE:</span>Bump maps, normal maps, and anisotropic effects do not appear exactly as in the rendered
                  image because of differences in the way the basis is calculated. The discrepancy may
                  increase with longer chains of connected shaders. 
               </div>
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_777556945135411294FC716027EB0494"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-D9245D55-5C96-4D2B-A0C3-675128094C24"></a></span>What Doesn't Work in High Quality Mode
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-E3B6DF33-5C46-445E-AF67-12C172415BB4"></a></span>The following do not work with High Quality display mode: <span class="anchor_wrapper"><a name="UL_438AE4DDDFF14CC489F20FCAD3455E9B"></a></span><ul>
                  <li>Any raytraced effect, such as self-reflection. </li>
                  <li>Area lights. </li>
                  <li>Inclusive and exclusive lights. </li>
                  <li>Displacement. </li>
                  <li>Depth cue/fog </li>
                  <li>NURBS surface objects. </li>
                  <li>Particle blob and capsule shapes. These are rendered as spheres. </li>
                  <li>Framebuffers. You can render only the main channel when using High Quality mode with
                     the hardware renderer. 
                  </li>
                  <li>Rendermap and Ultimapper. </li>
               </ul> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-530DB9D5-968F-41DE-9ED3-7359C9A6D6B2"></a></span>The following categories of shaders are not supported: <span class="anchor_wrapper"><a name="UL_E1FA4ED015CE4C999CC7CD52CE11EA92"></a></span><ul>
                  <li>Any shader labelled "mi*", for example "misss" or "mip". </li>
                  <li>Particle. </li>
                  <li>Toon. </li>
                  <li>Output. </li>
                  <li>Lens. </li>
                  <li>Volume. </li>
                  <li>Light (except Soft Light). </li>
                  <li>Processing/Raytracing. </li>
                  <li>Data/Attribute. </li>
                  <li>Data/Render Channel </li>
                  <li>Texture Generators. </li>
                  <li>Texture Space Generators. </li>
                  <li>Texture Space Controllers. </li>
                  <li>mental ray. </li>
                  <li>SSS Compounds. </li>
               </ul> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-0095C9EF-631A-451C-ADEA-6FBFB8BF8167"></a></span>In addition, only some <span class="MenuCascade" id="GUID-B2D87663-9F70-4C52-B0F6-6A7D9B06E588">State Parameter</span> options of the Shading State shaders are supported. 
            </p> 
            <div><span class="anchor_wrapper"><a name="GUID-B936379B-132F-4DAE-98CF-5AA55A60CF36"></a></span><div class="note-note"><span class="label">NOTE:</span>Certain other shaders might not work, depending on the shader profile supported by
                  your graphics card and driver. 
               </div>
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_CCAB1B83DA68450892C61A795FE2A2E2"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-0A96AD2C-FE18-4C77-B9E9-25FD4F70779A"></a></span>Using High Quality Mode with Custom Shaders
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-00D09AED-1601-4269-8FC4-A0F2513D74BE"></a></span>To use High Quality mode with your own shaders, or with shaders for other renderers,
               their shader definitions must include the appropriate MetaSL blocks. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-B9B84F5A-CF94-4C35-9777-D5172A194373"></a></span>To see how to do this using SPDL files, you can look at the factory shaders for examples.
               
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-16237A49-CD8F-461F-8E22-BEB718FF2F9A"></a></span>If you are not using SPDL files, you can use <span class="code">ShaderDef.AddRendererDef( "MetaSL" )</span> to add a <span class="code">MetaShaderRendererDef</span>, then set its <span class="code">SymbolName</span>, and finally either set its <span class="code">CodePath</span> to the file path of the shader code or set its <span class="code">CodeText</span> directly to the string of MetaSL commands to execute. For more information, see the
               SDK Guide. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_FD2586DDEB8A44EEAFDF93BAFE6DE8FB"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-AE944022-9DD5-47D0-976E-3A710BF272E9"></a></span>Environment Variables that Control High Quality Display
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-E8A14E05-2760-4A1F-A072-94BE667C3233"></a></span>There are several environment variables that control High Quality display: <span class="anchor_wrapper"><a name="UL_5B275EFC2D3D422688780653385EFBC9"></a></span><ul>
                  <li> XSI_DISABLE_HIGH_QUALITY_VIEWPORT_PASSES completely disables High Quality display
                     mode. 
                  </li>
                  <li>The following environment variables clamp the maximum number of samples used for various
                     effects: <span class="anchor_wrapper"><a name="UL_4626ED002C3D4678BAFFF7028A48D788"></a></span><ul>
                        <li>XSI_HIGH_QUALITY_VIEWPORT_MAX_AO_SAMPLES </li>
                        <li>XSI_HIGH_QUALITY_VIEWPORT_MAX_DOF_SAMPLES </li>
                        <li>XSI_HIGH_QUALITY_VIEWPORT_MAX_REFLECT_SAMPLES </li>
                        <li>XSI_HIGH_QUALITY_VIEWPORT_MAX_SHADOW_SAMPLES </li>
                     </ul> 
                  </li>
               </ul> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-65D64A4A-3F19-47CB-B7B3-E641DE11EF0B"></a></span> See <span class="char_link"><a href="config_envirovars.htm">Environment Variables</a></span>. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_1B253A9E69D44FB08CFD070218BABD12"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-D388A4A6-BD81-454B-9224-B196F5DC1415"></a></span>Troubleshooting
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-375DEC28-0559-4B67-A7AF-22F221685FB1"></a></span>When displaying complex materials in High Quality mode on Windows, you may encounter
               issues related to timeout detection and recovery. This can lead to crashes or freezing.
               To address this, you can modify the Windows registry as described in <a href="http://msdn.microsoft.com/en-us/windows/hardware/gg487368">Timeout Detection and Recovery of GPUs through WDDM</a>. You can change <span class="code">TdrLevel</span> to 0 to disable the timeouts, or set <span class="code">TdrDelay</span> to a value higher than the default 2. You might need to add the keys if they do not
               exist already. 
            </p> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>