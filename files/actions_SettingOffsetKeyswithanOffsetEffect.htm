<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-683D994C-21E8-4A53-8A6E-642BA2F1CA84">
      <meta name="indexterm" content="action clips: offset effect">
      <meta name="indexterm" content="action clip effects: offset effect">
      <meta name="indexterm" content="offset effect: for action clips">
      <meta name="indexterm" content="offsetting: keying effect in action clips">
      <meta name="topic-type" content="concept">
      <title>Setting Offset Keys with an Offset Effect</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-683D994C-21E8-4A53-8A6E-642BA2F1CA84"></a></span><div class="head">
            <h1>Setting Offset Keys with an Offset Effect</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-AB519981-9496-44CE-85D2-E0924CB05580"></a></span>Using the same concept of clip effects as described in <span class="char_link"><a href="actions_ModifyingActionClipswithClipEffects.htm">Modifying Action Clips with Clip Effects</a></span>, you can easily add an offset to an animation in an action clip or a compound clip.
               Clip effects let you add a "layer" of animation to an existing clip without affecting
               the action source. This method lets you set offset keys on those fcurves. You can
               add as many offset keys as you want for the same parameter. 
            </p><span class="anchor_wrapper"><a name="TABLE_8706D6D729324EBFAF3B6B9EF13E8A43"></a></span><div class="table_NotRuled">
               <table cellpadding="0" cellspacing="0" class="not-ruled">
                  <colgroup>
                     <col>
                     <col>
                  </colgroup>
                  <tr class="not-ruledOddRow">
                     <td class="table-body">&nbsp; <img src="../images/GUID-4C498E78-8668-4970-B70D-0475645493F1-low.png"> 
                     </td>
                     <td class="table-body">&nbsp; <img src="../images/GUID-5BA06694-42A3-43D0-ADFA-687B5E319926-low.png"> 
                     </td>
                  </tr>
               </table>
            </div>
            <p><span class="anchor_wrapper"><a name="GUID-8DEE72BF-A10D-42F8-87D6-CF063F49100A"></a></span>On the left, Club-bot is in the original position with his foot in the ball. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-993D7B7F-2253-48FD-968C-ECBE57A72E82"></a></span>On the right, his leg effector is translated to a position where Club-bot is just
               about to kick the ball and an offset key is set. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-16FDD2CA-CE72-4E58-B04F-DC7FC78C6FDB"></a></span>When you create an offset effect, the clip effect expression for each driven parameter
               in the action is set for you to "this+<em class="mild">param</em>" or "whatever was there+<em class="mild">param</em>", with <em class="mild">param</em> being the per-item offset (unique to each parameter driven by the clip). This is
               the same as creating a clip effect, except that the clip effect expression is created
               for you. The offset effect creates corresponding offset function curves that you can
               edit like any other curve in the animation editor (see <span class="char_link"><a href="actions_SettingOffsetKeyswithanOffsetEffect.htm#WSA3B2924969ED704E813291282A376B72-00CD">Editing the Offset Effect Fcurves</a></span>). 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-9119BBDC-A086-45A3-9C48-7323D41F60EA"></a></span>When you save an offset key for the effect, it computes the difference between the
               original pose (the one in the original action clip) and a new one that you create
               and then it sets keys with this difference in the per-item fcurves (the offset curves).
               Because the offset curves are added to the original motion, the character really has
               the same pose at the chosen frame. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00C8"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-25A4DE3C-6ACF-4CE8-862F-B2D82005E3A5"></a></span>Creating an Offset Effect
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-BBA53095-8F1A-400F-8D9D-72A547171875"></a></span>Once you have created an offset effect, there are two commands you can use to set
                  the offset keys: 
               </p> <span class="anchor_wrapper"><a name="UL_1A8A7C6B503747A680FEF35F72120F47"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-615BD3E3-6444-40D9-AE83-99EEBAB93D34"></a></span>The <span class="MenuCascade" id="GUID-51C551FC-59D6-4F9B-98F0-A156B422F6BE">Effect <img src="../images/ac.menuaro.gif"> Set Offset Keys - Marked Parameters</span> from the mixer's command bar. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-7ACA3D0E-E905-457E-9D10-75BAC29F4368"></a></span>The <span class="MenuCascade" id="GUID-5B0A408A-5728-4D02-A8AB-1FC9705BEDE0">Set Offset Keys - Changed Parameters</span> command you get by right-clicking the clip effect's yellow bar. 
                     </p> 
                  </li>
               </ul> 
               <p><span class="anchor_wrapper"><a name="GUID-D8F1434B-0C54-4BCB-87CB-16C8553D1535"></a></span>This command calculates only the parameters that are changed in the offset key (so
                  you don't have to explicitly select the components you moved). Also, if you want to
                  create an offset for a compound clip, you must use this command. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00C9"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-12A7E955-D3B4-4421-94B7-39FBF4D1C89A"></a></span>To create an offset effect
                  </h3> <span class="anchor_wrapper"><a name="GUID-74990543-EAC9-476D-B92A-C74CD5E5AE1A"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A8B3526F-D585-45B7-A291-0F10007E7232"></a></span>Select an action clip or compound clip and choose <span class="MenuCascade" id="GUID-D2735235-0DA9-4453-8D3A-F71D2D7F4394">Effect <img src="../images/ac.menuaro.gif"> Create Offset Effect</span> from the mixer's command bar to create the effect. 
                        </p> 
                        <p><span class="anchor_wrapper"><a name="GUID-2B0DA0A7-0288-44F8-B610-98C77808CE39"></a></span>A yellow effect bar appears above the clip indicating that there is a clip effect
                           acting upon the clip. 
                        </p> <span class="anchor_wrapper"><a name="FIG_2829A35C2F7544F18A23C8B680579223"></a></span><div class="figure-anchor"><img src="../images/GUID-F2AD8CA0-5632-4460-8A5D-30D8E839E027-low.png"></div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-135B359F-D921-4F72-8F7C-43743C5098B2"></a></span>Select the objects that the clip drives and mark the parameters you want to offset.
                           
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-7D491A3F-D51E-497F-8D2A-28168C7A8ECE"></a></span><div class="note-tip"><span class="label">TIP:</span>Right-click the clip and choose <span class="MenuCascade" id="GUID-E546BD03-5842-4F27-8551-CA3686A410D4">Select Driven Objects</span> to quickly select all the objects that this clip drives. 
                           </div>
                        </div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-17EF771C-1434-4AAB-8420-E1D29CFD5383"></a></span>Go to the frame where you want to add the offset and adjust the desired parameters;
                           for example, move the object to a new position. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-172F7F52-2DD0-4605-BDE7-1A7BA9EC90B2"></a></span>Do one of the following: 
                        </p> <span class="anchor_wrapper"><a name="UL_85BEFF899B024794A6719DB2E2D1462F"></a></span><ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-F85CA609-E26B-4A1A-8D27-66649579F2B9"></a></span>Press <span class="MenuCascade" id="GUID-95898D90-77B1-4FBA-91BD-5499DEA4011D">K</span> to set an offset key. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-CE8272A6-62F4-46F5-BE32-F5B17C2CFCC6"></a></span> <em class="mild">or</em> 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-58A2CDD6-3497-4B1D-A8CD-8BF6930C14EA"></a></span>Right-click the yellow effect bar and choose Set Offset <span class="MenuCascade" id="GUID-B0928C94-36B1-43B3-8C29-836E290944A3">Keys - Changed Parameters</span>. 
                              </p> 
                              <p><span class="anchor_wrapper"><a name="GUID-4C633F10-AF40-420A-A71A-1E4230BFF791"></a></span>This calculates only the parameters that are changed in the offset key (so you don't
                                 have to explicitly select the components you moved). Also, if you want to create an
                                 offset for a compound clip, you must use this command. 
                              </p> <span class="anchor_wrapper"><a name="FIG_01977E42087D4ADDAF31FED054587D7E"></a></span><div class="figure-anchor"><img src="../images/GUID-ED2B1D8F-BD3E-4517-8F06-4218102DD5B8-low.png"></div> 
                              <p><span class="anchor_wrapper"><a name="GUID-757524F3-68A2-4494-B1F2-5A360F65C547"></a></span> <em class="mild">or</em> 
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-29293099-68A2-463C-9B6B-DFA27CC80525"></a></span>Choose <span class="MenuCascade" id="GUID-431861BB-8C38-41AF-BFDA-E729DE6864C0">Effect <img src="../images/ac.menuaro.gif"> Set Offset Key - Marked Parameters</span> from the mixer's command bar. This saves a key of the difference on marked parameters.
                                 If a marked parameter did not change, a "0" offset key is saved. 
                              </p> 
                           </li>
                        </ul> 
                        <p><span class="anchor_wrapper"><a name="GUID-CF3DA299-EB2A-4762-90B0-952086CFA00D"></a></span>For each modified or chosen parameter, the difference between the original and the
                           new position is saved into the offset effect. You can check the clip's Clip Effect
                           expression in the Instanced Action property editor (right-click the clip and choose
                           <span class="MenuCascade" id="GUID-53339D24-3045-4955-AF76-67FC25F9DDAD">Clip Properties</span>) to see how the Clip Effect expression has changed. 
                        </p> <span class="anchor_wrapper"><a name="FIG_5B309F7492394C6AB6B7C93D388B220E"></a></span><div class="figure-anchor"><img src="../images/GUID-8045B706-35E5-4231-B034-27528CE502D5-low.png"></div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-07A9BA04-5BB3-4011-BF01-517C411A6C39"></a></span>Move to a new frame, change the parameters again, and save another offset key using
                           the same command you used before. 
                        </p> 
                        <div><span class="anchor_wrapper"><a name="GUID-14360A26-4878-45BC-BEE4-BB2CDEEDF416"></a></span><div class="note-tip"><span class="label">TIP:</span> <span class="anchor_wrapper"><a name="UL_4A9C6487DA774C3A9AB9C41FCB8E1F9B"></a></span><ul>
                                 <li>Another way of working is to set zero (anchor) offset keys to first mark the range
                                    of influence of the offset, then set the real offset keys (ones with values) between
                                    these anchor keys. 
                                 </li>
                                 <li>If you want to save zero offset keys <em class="mild">after</em> you have set real offset keys, you need to deactivate the effect — otherwise the
                                    parameter you want to keep at its original value could be influenced by the effect.
                                    This keeps the value of the parameter as it is in the original action. If you only
                                    have zero keys, there's no need to deactivate the effect. 
                                 </li>
                              </ul> 
                           </div>
                        </div> 
                        <div><span class="anchor_wrapper"><a name="GUID-31F17B0B-A528-4383-8036-433488801973"></a></span><div class="note-note"><span class="label">NOTE:</span>To deactivate offset effects, see <span class="char_link"><a href="actions_ModifyingActionClipswithClipEffects.htm#WSA3B2924969ED704E813291282A376B72-00A6">Activating or Deactivating Clip Effects</a></span>. 
                           </div>
                        </div> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00CD"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-CC3AFBDF-430A-43C3-98CA-B54BAE8D9E40"></a></span>Editing the Offset Effect Fcurves
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-CC7D47B7-94E9-4549-BCB5-64304EAEF7FF"></a></span>When you create an offset effect for an action clip, one offset fcurve is created
                  for every parameter driven by your clip. The offset curves reflect the differences
                  between the original animation and the offset animation you created. They are "anchored"
                  at the start and end of your clip and contain the offset keys you set. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-544EF3F6-90C4-4C42-9B79-D07DEF67C9AA"></a></span>Depending on what you offset (perhaps only one parameter changed from the default
                  pose when you set the offset key), you'll see the items in the animation editor beneath
                  clip effect. 
               </p> <span class="anchor_wrapper"><a name="GUID-743372CD-6FE6-4FFA-9453-A1496BCBCF83"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-218A0BCD-E5B3-4F45-9703-F19950802A1E"></a></span>Right-click the clip with the offset effect and choose <span class="MenuCascade" id="GUID-6ECF266A-260B-41B9-9636-D40E7D10E102">Animation Editor</span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-575C9A82-95E9-410A-9250-B606BBB7A104"></a></span>In the animation editor's tree, select the clip with the offset effect. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-A69F2B3E-85B4-48AC-8AD7-09901DED6DD8"></a></span>Choose <span class="MenuCascade" id="GUID-CC0FEFCA-54DD-4318-A0B5-5BE1B52B8A33">Show <img src="../images/ac.menuaro.gif"> Flattened None</span> in the animation editor to see the clip effects listed. 
                     </p> <span class="anchor_wrapper"><a name="FIG_0A9CE860EA6945F6BA828DF5BAEEDCF5"></a></span><div class="figure-anchor"><img src="../images/GUID-11F25ECC-156B-4148-AC83-9DA6E8FAA6FB-low.png"></div> 
                     <p><span class="anchor_wrapper"><a name="GUID-F65E1408-1276-4623-A102-29B38A4843D9"></a></span>Each item in this clip effect has its own fcurve in the graph. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-6263DB70-A904-40AD-8F6D-67819FE171A3"></a></span>Edit the curve as you would any other fcurve. Remember that you are editing an additional
                        (the offset) value for the parameter and not its actual final value. 
                     </p> 
                     <p><span class="anchor_wrapper"><a name="GUID-8EFC2F3A-3A25-44C2-9177-717FBD6C28E6"></a></span>For information on editing fcurves, see <span class="char_link"><a href="ani_fcurves.htm">Editing Function Curves</a></span>. 
                     </p> 
                  </li>
               </ol> 
               <p><span class="anchor_wrapper"><a name="GUID-ABE275EB-9832-48F5-867F-ED57CC6B7D9E"></a></span>To find the offset parameters in the explorer, you must look deep down in the model's
                  <span class="MenuCascade" id="GUID-C638B85B-65ED-45E1-B9B3-53313D231004">Mixer <img src="../images/ac.menuaro.gif"> Tracks <img src="../images/ac.menuaro.gif"> Animation <img src="../images/ac.menuaro.gif"> Mixer_Anim_Track n <img src="../images/ac.menuaro.gif"> Clip list <img src="../images/ac.menuaro.gif"> Clip name <img src="../images/ac.menuaro.gif"> Instanced Action <img src="../images/ac.menuaro.gif"> Clip Effect <img src="../images/ac.menuaro.gif"> Items</span> folder. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-1C72FE52-5D6A-4BE2-9BFD-DFC12B576E00"></a></span>In the explorer, make sure to choose <span class="MenuCascade" id="GUID-DBB95A3C-AF27-4BC7-9A16-2E16DC60571E">Show <img src="../images/ac.menuaro.gif"> Animated</span> or <span class="MenuCascade" id="GUID-73697050-162D-4B52-8981-EB197BF41074">Animatable Parameters</span> to see these parameters. 
               </p> <span class="anchor_wrapper"><a name="FIG_D9DFAC3777994BC782D087F0E84AD79B"></a></span><div class="figure-anchor"><img src="../images/GUID-B0AF4A55-B6CB-4C90-913C-C08D3E373C53-low.png"></div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WSA3B2924969ED704E813291282A376B72-00D1"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-1C889D26-6DB0-441D-BECD-43591A18992E"></a></span>Deleting an Offset Effect
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-30829D0A-4A1C-4528-8EC4-3AFD84BC4FC2"></a></span>Do one of the following: 
               </p> <span class="anchor_wrapper"><a name="UL_7E54741C9E3E46CF9E9CD107022BE12C"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-7A98AC4C-7823-482F-9590-3483061CF903"></a></span>Right-click the clip's yellow effect bar and choose <span class="MenuCascade" id="GUID-A79D0EB5-17E8-4F13-B892-00BD40BF4813">Remove Effect</span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4E9E40FE-D43D-4675-BC91-A0E3453CA72D"></a></span>Select the clip and choose <span class="MenuCascade" id="GUID-2508C5A8-4D2C-4107-8869-B0E0045A40D6">Effect <img src="../images/ac.menuaro.gif"> Remove Effect</span> on the animation mixer command bar. This removes the animation on all parameter curves
                        and clears the clip effect expression information for clip and offset effects. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-7C25B70F-E751-489F-8F8E-3D16A0A39CCC"></a></span>Select the clip and choose <span class="MenuCascade" id="GUID-1015D03E-A7EA-41F9-B5DC-6E3D2B9D49DC">Reset Effect Keys - All Parameters</span> on the animation mixer command bar to remove all keys for parameters created with
                        the offset effect except the first and last keys. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-8CB1F3FF-40F0-4A56-95C9-812B4AC1F1BF"></a></span>Select the clip and choose <span class="MenuCascade" id="GUID-8F1187FB-7F9E-46B6-BC28-988556C42AF1">Reset Effect at Frame</span> on the animation mixer command bar to remove all keys for parameters created with
                        the offset effect at the current frame. 
                     </p> 
                  </li>
               </ul> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>