<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-AF081E95-A70E-4BA6-A1DC-856C05C35A46">
      <meta name="indexterm" content="CrowdFX: loading actors">
      <meta name="indexterm" content="actors: loading for CrowdFX">
      <meta name="indexterm" content="CrowdFX: hiding the source model">
      <meta name="indexterm" content="CrowdFX: modifying the source model's envelope">
      <meta name="topic-type" content="concept">
      <title>Loading Actors for the Crowd Simulation</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-AF081E95-A70E-4BA6-A1DC-856C05C35A46"></a></span><div class="head">
            <h1>Loading Actors for the Crowd Simulation</h1>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-D23101CC-48C6-4BDB-8F0D-530978BFB1CC"></a></span>   
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-5F10F18E-C382-4825-8AA9-8ECCD3BFB3DD"></a></span>In a crowd simulation, it's all about the actors, or at least that's what they'll
            tell you. Actors are copies of the original models that you have chosen to be the
            "characters" in the crowd simulation. You can use several different models as actors
            in a single crowd simulation for variation, but be aware that the more models you
            load as actors, the slower the crowd simulation. 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-C26C5898-0DBC-42B1-9606-7C1B8B588478"></a></span>In the image below, the horses and the cowboys are both actors in the same crowd simulation.
            
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-6782EE95-8219-4FC8-A472-937EB86011F3"></a></span> <img src="../images/GUID-C493AF3F-4A95-4203-A8BB-B041BDE9455D-low.png"> 
         </p>
         <p><span class="anchor_wrapper"><a name="GUID-1750B9CA-A349-4100-BA0D-4D2E67D2A14D"></a></span>To quickly add variety to the crowd, you can duplicate the same source model multiple
            times, then modify the envelope geometry or materials of each one, then import each
            one into CrowdFX. One advantage of doing this is that these actors will have identical
            deformer rigs. This allows them to all share the same action sources that you have
            loaded for just one of the actors. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_5548C29C94424915B7B76125AC9DF8E7"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-3F04A30C-651A-4533-84C1-C3237303C32D"></a></span>Loading the Models to Be Used as Actors in the Crowd
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-3BB21D93-6870-496F-97AE-BDD6898EED53"></a></span>To start a crowd simulation, you must first identify the models that you want to use
               for actors. This model can be in the scene or saved as a model (.emdl file) in a Softimage
               database. If you import a character from another 3D software, you can save it as a
               model (.emdl file). See <span class="char_link"><a href="GUID-14884AF9-388D-4C63-B5CF-325B05F4FACE.htm">Preparing a Model for CrowdFX</a></span> for more information on these issues. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-422327CE-82E3-4CAB-ADED-525E43568808"></a></span>To load models as actors for the crowd simulation: 
            </p> <span class="anchor_wrapper"><a name="OL_B636A2BA1635460BBF85C01BE5F7940B"></a></span><ol type="1" start="1">
               <li> Set up one or more models that meet the CrowdFX requirements as described in <span class="char_link"><a href="GUID-14884AF9-388D-4C63-B5CF-325B05F4FACE.htm">Preparing a Model for CrowdFX</a></span>. <span class="anchor_wrapper"><a name="FIG_0B2698C9E12842EE84AD3956C45B6F53"></a></span><div class="figure-anchor"><img src="../images/GUID-28FBE7A8-A3F5-4A53-9E3A-FD6F970264E0-low.png"></div> 
               </li>
               <li>Choose one of the <span class="MenuCascade" id="GUID-089EE88A-4933-4A8B-BE4C-D01703332C9E">CrowdFX <img src="../images/ac.menuaro.gif"> Actors <img src="../images/ac.menuaro.gif"> Get Actor</span> commands from the ICE toolbar: <span class="anchor_wrapper"><a name="UL_C8F9628C54264E068945E35894D09749"></a></span><ul>
                     <li><span class="MenuCascade" id="GUID-B4E74E63-ECC2-4736-AA4A-0261F90D946A">Import Model</span> opens a browser from which you can select a model (.emdl file). 
                     </li>
                     <li><span class="MenuCascade" id="GUID-B3380850-5485-497C-8707-14270A967BCF">Get From Scene</span> prompts you to pick a model or the character's envelope mesh that's in the scene.
                        If you pick a model, you will be prompted to select the body envelope mesh to use
                        if there are other meshes in this model. 
                     </li>
                     <li><span class="MenuCascade" id="GUID-02D0840A-6CA0-4FE1-AC14-9B3124ECBAD8">Default Pedestrian</span> creates a basic biped character, as shown below, usually used for testing purposes.
                        You can use this character for either pedestrian or stadium-type crowd simulations.
                        <span class="anchor_wrapper"><a name="FIG_553FD8629B17405380ECEA91CC574F33"></a></span><div class="figure-anchor"><img src="../images/GUID-01E0524C-EBB6-4366-ABBF-486C462505E2-low.png"></div> 
                     </li>
                  </ul> 
               </li>
               <li>In the <span class="char_link"><a href="CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy.htm">CrowdFX Actor Proxy Property Editor</a></span> that opens, select and load the actions that you want the actor to use in the simulation.
                  These need to be in a particular order, as described in <span class="char_link"><a href="GUID-88FB9DAE-3E03-4335-90D9-476D4C83E014.htm">Loading Action Sources for an Actor</a></span>. 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-ABEBA53B-3E80-433C-B6C1-D187B14357F6"></a></span>After the model is assigned for CrowdFX, a Crowd model is created. The model's mesh
               and rig is duplicated and becomes known as an actor proxy (or just actor). An actor
               proxy model node is added under the Actor_Proxies node in the Crowd model, and contains
               all the data needed for using this actor in the crowd simulation - see <span class="char_link"><a href="GUID-B28743FA-33EC-4DA3-877B-FA7E7FD97F68.htm">Anatomy of a Crowd Simulation</a></span> for details. 
            </p> 
            <div><span class="anchor_wrapper"><a name="GUID-2144D828-9A07-49FB-8129-823240F395E9"></a></span><div class="note-note"><span class="label">NOTE:</span>Once you load an actor, don't duplicate the actor proxy to create another actor. Instead,
                  load the source model again to have the same actor in the crowd simulation. See also
                  <span class="char_link"><a href="GUID-DA3F8CE7-DB8B-4248-97AF-C4438BA22FBB.htm">Adding and Removing Actors</a></span>. 
               </div>
            </div> 
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_6E5753D7E90A46AEB93D15B98575BE32"></a></span> 
               <h3><span class="anchor_wrapper"><a name="GUID-393392BD-680C-4ACC-B41A-C506538E5AA3"></a></span>Actor IDs
               </h3> 
               <p><span class="anchor_wrapper"><a name="GUID-EB0E48F8-AC77-480B-8B18-BFD7C734716F"></a></span>When you assign a model to a crowd, an Actor ID value (<span class="char_link"><a href="GUID-97FE857A-773F-43DE-A265-22200217F94A.htm">CrowdFX_Actor_ID</a></span> attribute) is given to the actor proxy model in the order that the model is loaded,
                  starting at 0 and continuing consecutively. This attribute is assigned to instances
                  in the simulation point cloud's <span class="char_link"><a href="iceref_Initialize_Move_Locomotion_Data.htm">Initialize Move Locomotion Data</a></span> compound. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-837C7C81-ACC0-4C22-A2BD-7E94A53954AC"></a></span>The Actor ID is actually the index of the actor whose action sources are used in the
                  crowd simulation. If an actor is using the same action sources that were loaded with
                  it, its Actor ID is the same as its actor mesh's ID. You can find out the ID of the
                  original actor's mesh with the <span class="char_link"><a href="iceref_Get_Actor_ID.htm">Get Actor ID</a></span> compound. 
               </p> 
            </div> 
            <div class="section"><span class="anchor_wrapper"><a name="SECTION_AFD88D51048D46C1931E1BF955D9ADCA"></a></span> 
               <h3><span class="anchor_wrapper"><a name="GUID-71BF9C00-1521-4F55-97BB-1FE83E438FBF"></a></span>Hiding or Displaying the Actor's Source Model
               </h3>  
               <p><span class="anchor_wrapper"><a name="GUID-1F5B1495-9610-4135-B155-7FB803A2860B"></a></span>To toggle the hidden state of the source model, click the <span class="MenuCascade" id="GUID-86DA7AAC-CD39-4E9D-9070-7D38D036FC09">Actor Source Model <img src="../images/ac.menuaro.gif"> Show/Hide</span> button in the <span class="char_link"><a href="CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy.htm">CrowdFX Actor Proxy Property Editor</a></span>. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-2B2A2571-72C1-4848-9175-DD2D1232EA98"></a></span>You can also branch-select the source model in the explorer and press the H key. 
               </p> 
            </div> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_760B69C19AC34AABBF6C47D89708A80C"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-93829E65-58A4-40C1-BAAB-75FC65DFB6FD"></a></span>Modifying the Source Envelope after Importing the Actor
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-E006A75F-E033-4C0A-A68B-B95A63850126"></a></span>After you import an actor, you may want to make some adjustments to the source model's
               envelope. If you want to have these changes propagated to the actor's envelope, you
               need to make sure that the mesh proxy object that's created for the actor uses the
               updates from the original source envelope, as described here. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-AC3CBBEE-7B1E-4F3A-9C30-A08AB777E8BD"></a></span>This image shows the original envelope's geometry of the source model. 
            </p> <span class="anchor_wrapper"><a name="FIG_434C2FE9DB664085A85CD6E4199CD887"></a></span><div class="figure-anchor"><img src="../images/GUID-B432ECE9-39E9-4D37-A691-E55DF5CCF710-low.png"></div> <span class="anchor_wrapper"><a name="OL_31941A0541314DA79B7BFC645BACC347"></a></span><ol type="1" start="1">
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-27F70CF9-4B94-434B-9E47-3A8B4B64F5E6"></a></span>Make changes to the geometry of the original source's mesh envelope. In this case,
                     "he" becomes a "she" just by moving a few points! 
                  </p> <span class="anchor_wrapper"><a name="FIG_A65B94941C7F4BE78781F0C9F48BCF92"></a></span><div class="figure-anchor"><img src="../images/GUID-CE5A0FDB-E446-44DB-8ED5-386307789C8D-low.png"></div> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-F3E4059A-B161-49F9-AC74-4A3DAA507876"></a></span>In an explorer, expand the original source model's Mesh &gt; Polygon Mesh node to see
                     the construction regions. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-67C6D731-E2A3-4367-9AC7-4C0F95EC1069"></a></span>Move the <em class="strong">Set Mesh Proxy</em> operator so that it's at the top of the Modeling stack. This way it gets evaluated
                     after any modeling operations you've done to the mesh. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-09CAC1B6-94CF-4358-970B-F28A3949D90A"></a></span>All actors in the crowd simulation whose mesh proxy objects are created from this
                     model are immediately updated with these envelope changes. 
                  </p> <span class="anchor_wrapper"><a name="FIG_6384C6376A0D454380A6810BAC675BCD"></a></span><div class="figure-anchor"><img src="../images/GUID-1FCD4206-AC8D-4C88-8086-7D366E41B674-low.png"></div> 
               </li>
            </ol> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>