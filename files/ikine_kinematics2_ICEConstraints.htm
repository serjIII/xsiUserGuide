<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-390FD9F3-1092-4518-933C-2EF2A62C3E93">
      <meta name="indexterm" content="ICE kinematics: constraints">
      <meta name="indexterm" content="constraints: ICE-based">
      <meta name="topic-type" content="concept">
      <title>ICE Constraints</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-390FD9F3-1092-4518-933C-2EF2A62C3E93"></a></span><div class="head">
            <h1>ICE Constraints</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-45947382-831A-4EE3-AF7B-8B4C5A6DF74D"></a></span>Constraints simply involve using the position, orientation, and/or scaling of one
               object to drive the corresponding transformations of another object. They are very
               easy to set up in ICE. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS8F6B3156C107E34084E5D0ABDF9AD1BF-0009"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C5F4BA97-B0A8-4C10-95B4-32F1E7277790"></a></span>Applying Constraints Using the ICE Toolbar
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-6DBDDACE-F8A5-4215-8062-E39A58BE7D8B"></a></span>Several predefined constraints are available from the ICE toolbar. To apply a predefined
                  constraint compound: 
               </p> <span class="anchor_wrapper"><a name="GUID-29D9821B-3D07-4E33-B7CF-A45E005EC394"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-214AEE23-2534-4352-BAD5-42D12D7942CB"></a></span>Select the object to constrain. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-CAB4D8D4-1EB8-4C96-B5FC-00FFCEE9B016"></a></span>Choose a command from the <span class="MenuCascade" id="GUID-E1095912-FDFF-484A-AD75-B1139C3F4E4F">Kinematics <img src="../images/ac.menuaro.gif"> Constrain</span> menu of the ICE toolbar: 
                     </p> <span class="anchor_wrapper"><a name="UL_B582266E3F8A4D3A8A25A6A8F8094C74"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-CB20D008-E215-47E0-AA4B-C533FE4201CE"></a></span> <span class="MenuCascade" id="GUID-047A76B0-7018-43FE-944C-2AF642B31760">Orientation</span> matches the global rotation of the constrainee to the constrainer. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-49457CF2-1045-4D4E-8506-80348E757EE9"></a></span> <span class="MenuCascade" id="GUID-5A07492A-AD08-4DFA-BD53-F194B0444DDF">Pose</span> matches the global scaling, rotation, and translation of the constrainee to the constrainer.
                              
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-26DC7DA8-F38D-48B2-8224-9B450DA6C0BB"></a></span> <span class="MenuCascade" id="GUID-B3EB20BF-8FCE-4DB9-B15A-0D0DC694A0FF">Position</span> matches the global translation of the constrainee to the constrainer. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-A3E3423A-F52D-45EB-B787-44EC525A3D7E"></a></span> <span class="MenuCascade" id="GUID-4B9C3EF1-DD73-49E0-B5F6-E4884D593225">To Closest Surface</span> places the constrainee at the closest location on the surface of the constrainer.
                              
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-7C73208F-F6DB-4876-BCF0-143DEC7D88EB"></a></span> <span class="MenuCascade" id="GUID-62650CC9-55CF-445D-A88A-83FF61BA9647">Turret</span> rotates the constrainee around one axis only to align another axis with the constrainer.
                              
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-385983CB-9B5F-48BE-B590-06C8F1D06F9F"></a></span> <span class="MenuCascade" id="GUID-2A53B11B-FBCC-4B7D-8532-8609A3D79928">Look At</span> rotates the constrainee so that one axis points at the constrainer, like the non-ICE
                              Direction constraint. 
                           </p> 
                        </li>
                     </ul> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-5DF247F0-D93B-4B02-8C09-451370654312"></a></span>Pick the constrainer object. 
                     </p> 
                  </li>
               </ol> 
               <p><span class="anchor_wrapper"><a name="GUID-31A1A661-14B9-4906-A2BE-12B8D4C310CB"></a></span>Multiple ICE-based constraints are applied in order, so for example, if you want to
                  constrain an object to another object's surface and have it point at a target then
                  you must apply <span class="MenuCascade" id="GUID-0992332F-5F39-4EE0-AD03-23CBCC433FE6">To Closest Surface</span> first and then apply <span class="MenuCascade" id="GUID-2C4CA72F-83A9-45B8-B0C9-CDA73612ACDB">Look At</span>. 
               </p> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS8F6B3156C107E34084E5D0ABDF9AD1BF-000A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-0F44950E-B325-4C46-9072-9D4833191EF5"></a></span>Applying and Editing Constraint Compounds Manually
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-FE7908A3-72A6-45BF-8DD4-6F325657C4B4"></a></span>Instead of, or in addition to, using the commands on the <span class="MenuCascade" id="GUID-20CAB0BE-9AB4-419D-944A-8A624B5A2A1A">Kinematics <img src="../images/ac.menuaro.gif"> Constrain</span> menu of the ICE toolbar, you can work with the constraint compounds directly in the
                  ICE tree. The constraint compounds are in the Kinematics category on the Tools tab
                  of the preset manager. 
               </p> <span class="anchor_wrapper"><a name="FIG_6C259534313247C39310DA3EDAC2CE26"></a></span><div class="figure-anchor"><img src="../images/GUID-290ABD2F-8543-4F08-AB9D-0332E2D47AB2-low.png"></div> 
               <p><span class="anchor_wrapper"><a name="GUID-608652E7-B90E-4F79-A34A-9DEC39370D84"></a></span>Here are some basic guidelines for working with the constraint compounds in the ICE
                  tree: 
               </p> <span class="anchor_wrapper"><a name="UL_3C66E4887FAF41F485FB2EC4B2CE4674"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-C3B1F1DC-23CE-43AF-B50F-5903672E864A"></a></span>All constraint compounds must be plugged into an Add Constraints node that is connected
                        to the root or to another execute-type port. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-6F1C0F70-7C22-447F-9FA2-4A868F532E96"></a></span>You can use only one Add Constraints node per constrainee per ICE tree. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F09BA2DA-F43E-45E3-AE54-861315D9C6E2"></a></span>You must use the same constrainee in the Add Constraints node and all attached constraint
                        compounds. The default constrainee is "self" but you can select a different reference
                        in the property editor, or clear it and drive it using the Constrainee In Name port.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-DD5E494A-995E-4A4D-825E-2116CFC6B38C"></a></span>If you want to create a custom constraint that works with the Add Constraints compound,
                        then: 
                     </p> <span class="anchor_wrapper"><a name="UL_F92F6CC24AB24039B7FBF06B5025AB59"></a></span><ul>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-45CFA5D3-75D4-47B3-96FC-2445D233C885"></a></span>To blend with the current transform or the result of previous constraints, for example
                              if you want to modify rotation but leave scaling and position as is, then you should
                              base your calculations on the (constrainee).__TmpConstraintPose attribute instead
                              of (constrainee).kine.global. 
                           </p> 
                        </li>
                        <li> 
                           <p><span class="anchor_wrapper"><a name="GUID-D907C115-FAE6-48D0-B510-DEEF58B3AE19"></a></span>At the end of your custom constraint compound, make sure to set (constrainee).__TmpConstraintPose
                              to the transform that you calculated. Do not set (constrainee).kine.global. 
                           </p> 
                        </li>
                     </ul> 
                  </li>
               </ul> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>