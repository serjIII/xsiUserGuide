<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-DA3F8CE7-DB8B-4248-97AF-C4438BA22FBB">
      <meta name="indexterm" content="CrowdFX: adding more actors to the crowd simulation">
      <meta name="indexterm" content="CrowdFX: randomizing the actors in the crowd">
      <meta name="indexterm" content="CrowdFX: removing actors from the crowd">
      <meta name="topic-type" content="concept">
      <title>Adding and Removing Actors</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-DA3F8CE7-DB8B-4248-97AF-C4438BA22FBB"></a></span><div class="head">
            <h1>Adding and Removing Actors</h1>
         </div><span class="anchor_wrapper"><a name="FIG_D752721BD1B64007AF8405E5F8E45576"></a></span><div class="figure-anchor"><img src="../images/GUID-AEDDD3BD-7D75-4F12-8575-0276A72FD797-low.png"></div>
         <p><span class="anchor_wrapper"><a name="GUID-C21A3302-A6CA-43A0-97BB-E5B493C3225F"></a></span>Once you have created a crowd simulation, you can add more actors to it, or remove
            actors from it. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_93AAC2CFE24044F39A24CEF939969E13"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-6B915BB1-14F4-4987-9EE4-B2C4FF7B8020"></a></span> Adding Actors to the Crowd
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-9E4E2B78-FD69-440C-89CB-F77F4207913D"></a></span>You can add more actors to a crowd simulation at any time. There is no particular
               limit to the number of actors that you can add to the simulation - see <span class="char_link"><a href="GUID-AF081E95-A70E-4BA6-A1DC-856C05C35A46.htm">Loading Actors for the Crowd Simulation</a></span> for more information. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-FA207046-06BE-41AE-9CCA-491406778146"></a></span>To add an actor to the current crowd: 
            </p> <span class="anchor_wrapper"><a name="OL_09A52635C0CD429D9F99B162BC7FDF81"></a></span><ol type="1" start="1">
               <li> Set up one or more models that meet the CrowdFX requirements as described in <span class="char_link"><a href="GUID-14884AF9-388D-4C63-B5CF-325B05F4FACE.htm">Preparing a Model for CrowdFX</a></span>. 
               </li>
               <li>If you have multiple crowd simulations in the scene, make sure that the Crowd model
                  you want to use is current - see <span class="char_link"><a href="GUID-2D267577-4F1A-4200-AA77-A39890B357C7.htm#GUID-D59CC5D2-1F28-4887-820A-7EB3F1847356">Setting the Current Crowd</a></span>. 
               </li>
               <li>Open the <span class="char_link"><a href="CrowdFX_ActorsProxies.htm">CrowdFX Actors Proxies Property Editor</a></span> either from the explorer or by choosing the <span class="MenuCascade" id="GUID-F3A244B4-C0CD-4928-BAF4-1700F8450D79">CrowdFX <img src="../images/ac.menuaro.gif"> Actors <img src="../images/ac.menuaro.gif"> Edit <img src="../images/ac.menuaro.gif"> Inspect Actor Proxies</span> command from the ICE toolbar. 
               </li>
               <li>Do either of the following: <span class="anchor_wrapper"><a name="UL_F0B49CBE0D57407BBAAC81FC7F6274C3"></a></span><ul>
                     <li> Click the <span class="MenuCascade" id="GUID-EA58B4A3-9C72-4D53-BEA5-DA2F831D8429">Edit <img src="../images/ac.menuaro.gif"> Get</span> button and select a model or envelope mesh that's in the scene. If you pick a model,
                        you will be prompted to select the body envelope mesh to use if there are other meshes
                        in this model. 
                     </li>
                     <li> Click the <span class="MenuCascade" id="GUID-AA35A2C6-DCC1-4FB6-AE7F-2F1FBF3BB884">Edit <img src="../images/ac.menuaro.gif"> Import</span> button and select a model (.emdl file) from the browser that appears. 
                     </li>
                  </ul> 
                  <p><span class="anchor_wrapper"><a name="GUID-76E31725-B4F3-4850-89B0-78BE1321528C"></a></span>The new actor model is added to the <span class="MenuCascade" id="GUID-DB9DD069-FA47-4263-A400-C0F6EC09E643">Actor Proxies</span> list in the property page. <span class="anchor_wrapper"><a name="FIG_2B28FD7A0ABA4D5FA6772B08180515D1"></a></span><div class="figure-anchor"><img src="../images/GUID-F51A4A0A-DF48-4BD3-A178-7CC3C81C058E-low.png"></div> 
                  </p> 
               </li>
               <li>In the <span class="char_link"><a href="CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy_CrowdFX_ActorProxy.htm">CrowdFX Actor Proxy Property Editor</a></span> that opens for the new actor, select and load its action sources as described in
                  <span class="char_link"><a href="GUID-88FB9DAE-3E03-4335-90D9-476D4C83E014.htm">Loading Action Sources</a></span>. 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-9B824717-FD38-48CD-94CB-4DF1AE599C12"></a></span>In the current Crowd model, an actor proxy model is added under the Actors_Proxies
               node and to the Actors_Copies group - see <span class="char_link"><a href="GUID-B28743FA-33EC-4DA3-877B-FA7E7FD97F68.htm">Anatomy of a Crowd Simulation</a></span>. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-6EEE46ED-5E33-4AAC-B1F2-584CF4D00BE8"></a></span>The new actor is assigned the next available number for its Actor ID, and the crowd
               simulation is recalculated to consider this new actor. The Initialize compound in
               the Emit ICE tree for the simulation point cloud uses the Actor ID data to determine
               which actor mesh is instanced for each particle - see below. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_ED914DC175A74A68ABC61ED2CE9AC824"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-406848A7-C5B9-4BBE-AD99-D38790672D71"></a></span>Randomizing the Actors Instanced in the Crowd Simulation
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-676055D7-D561-4D23-9252-A562FA7AB215"></a></span>By default, the Actor ID is randomized so that each particle emitted doesn't instance
               the same actor mesh. This is done using a Randomize Actor ID node plugged into the
               Actor ID port of this compound. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-D2DDEC9A-72B2-4209-A7FE-7EB0CD19CB95"></a></span>You can change the Seed value in this node to change how the randomization occurs,
               or use some other logic to assign Actor IDs, such as based on emitter ID. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-613081D5-C3DC-40AE-89C6-D5A66FA52D38"></a></span> <img src="../images/GUID-4AF0EA1F-69C9-4CB1-91AF-50DD6072224E-low.png"> 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-56F232B4-0FBF-4421-AD80-E6D4F1B4EF79"></a></span>To have all instances use the same actor, simply unplug the Randomize Actor ID node
               from the port. Then set the Actor ID value in the Initialize compound to the one you
               want to use. For example, you can keep multiple actors in your crowd, but just test
               one at a time. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_BA9FF2E819EE4BB4B0289CD075772E27"></a></span> 
            <h2><span class="anchor_wrapper"><a name="GUID-1BCB0198-B32A-4EB9-AFF4-1689015089E6"></a></span>Removing Actors from the Crowd
            </h2>  
            <p><span class="anchor_wrapper"><a name="GUID-4C8B995F-6255-4C87-8A4E-F5C93D6D4E95"></a></span>You can easily remove an actor from a crowd simulation. When you do this, the actor
               proxy model is removed from the Crowd model, but the original source model is not
               deleted from the scene. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-275DAF56-EA2C-42EC-B3A2-F03C0901E03C"></a></span>To remove an actor: 
            </p> <span class="anchor_wrapper"><a name="OL_3D4E97BF64D547D2A0AA0B01EA43313D"></a></span><ol type="1" start="1">
               <li>Open the <span class="char_link"><a href="CrowdFX_ActorsProxies.htm">CrowdFX Actors Proxies Property Editor</a></span> either from the explorer or by choosing the <span class="MenuCascade" id="GUID-C1ACBC25-A5D2-4AE0-8E29-24044AC39425">CrowdFX <img src="../images/ac.menuaro.gif"> Actors <img src="../images/ac.menuaro.gif"> Edit <img src="../images/ac.menuaro.gif"> Inspect Actor Proxies</span> command from the ICE toolbar. 
               </li>
               <li>Select the actor you want to remove from the <span class="MenuCascade" id="GUID-888AB27E-DB9E-43FD-BCB8-9F94856EFEE8">Actors Proxies</span> list. 
               </li>
               <li> Click the <span class="MenuCascade" id="GUID-93CC1984-1E5E-4095-A7C2-ECF13D01B721">Edit <img src="../images/ac.menuaro.gif"> Remove</span> button below the list. 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-17EBD396-5955-4D5A-BDFD-D0A342910BB1"></a></span>In its appropriate Crowd model, the actor proxy's Actors_Proxies node is removed,
               and the actor is removed from the Actors_Copies group. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-3558E408-A9E1-48F6-BBB1-466E6C8C1DE3"></a></span>The crowd simulation is recalculated to reflect the actor's removal: the actor's Actor
               ID is not used anymore so the distribution of instanced geometry is done with the
               remaining actors, but the same number of particles are still emitted. 
            </p> 
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>