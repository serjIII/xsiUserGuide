<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-6EF6B6A8-376A-4EC3-A985-318FB01ECCE4">
      <meta name="indexterm" content="goals: ICE particles">
      <meta name="indexterm" content="ICE particles: moving to goals">
      <meta name="indexterm" content="Move Towards Goal compound">
      <meta name="indexterm" content="Multi Goal Sequencer compound">
      <meta name="topic-type" content="concept">
      <title>ICE Particle Goals</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-6EF6B6A8-376A-4EC3-A985-318FB01ECCE4"></a></span><div class="head">
            <h1>ICE Particle Goals</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-37B1C298-71F3-4C36-AE72-781DA0060481"></a></span>When you create a goal for particles, the particles are attracted to it, similar to
               the way in which a magnet attracts or repels pieces of metal. With goals, you can
               create a number of particle effects, such as drops of water forming into a puddle,
               paint being sprayed over a surface, or butterflies being attracted to the bright colors
               on some guy who's just passing by. 
            </p><span class="anchor_wrapper"><a name="FIG_427C4F02B9EB4C68B063FB03E0E3F2B1"></a></span><div class="figure-anchor"><img src="../images/GUID-ADDAE771-D6A1-4E88-8B69-1F3820318642-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-DFCBA4C7-9916-4A8D-B1A9-6E36D0E46A25"></a></span>When a particle is born, it is assigned to a location on the goal object that you
               have defined, and it evolves towards this location throughout its life. The particles
               try to reach the position and/or shape of the goal objects. When the particles reach
               the surface of the goal, their velocity decreases and they "stop." If the goal moves
               or its surface is deformed, the particles keep on trying to reach the goal's surface.
               
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-1706CBE5-F201-4E0A-AA82-1869D729A694"></a></span>When you want particle to form a target shape (like filling a volume), that shape
               can be moving and deforming. In fact, if you deform the goal object, then hide it
               or make it unrenderable, the particles will take on that shape and make it look as
               if you're deforming the particles. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-E92FF731-1437-4062-9A83-733A2B7F69CD"></a></span>Particle goals are part of the overall particle simulation, which means that any particles
               that are progressing toward a goal can also react to obstacles and forces that are
               applied to them. In fact, goals act as a force on particles, similar to how the Attract
               force works. For example, if gravity is pulling particles downwards but their goal
               is above them, the particles will remain in a static position if both these forces
               are of the same strength. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-33874BE8-9538-441C-839A-8BC437511319"></a></span>Creating goals requires the Move Towards Goal compound. This compound lets you do
               two things: 
            </p><span class="anchor_wrapper"><a name="UL_791E61A7BB4D427488B747C2821B1184"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-CEE9EA15-017F-4271-934F-53BEA5DFFE5C"></a></span>Choose the location on the goal object to which the particles are attracted: a random
                     location, a specific position value you define, the closest location, the collision
                     location, or the emit location. 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-4F1275A9-F6B7-4AA2-AC53-C7548312D570"></a></span>Define how the particles move toward the goal. You can set the particle's velocity,
                     alignment, and orientation. 
                  </p> 
               </li>
            </ul>
            <p><span class="anchor_wrapper"><a name="GUID-92FDC23E-DCA5-435A-8A49-31A2BC553AA1"></a></span>If you want the particles to move among multiple goals, you can use the Multi Goal
               Sequencer compound with several instances of the Move Towards Goal compound — see
               Particles Moving Among Multiple Goals. 
            </p>
            <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-0035"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-C91ED33E-4741-4F25-A057-CE913E815A4B"></a></span>To set a goal for particles
               </h2> <span class="anchor_wrapper"><a name="GUID-3EE12E39-D2AE-486F-BED7-7FB49381A3E3"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-E2ED1A56-90C3-47C0-AEE6-857F58FF457C"></a></span>Create an object that you want to use as a goal for the particles to move toward.
                        
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-1A75D5FD-77C9-4615-9159-758D646FEEC5"></a></span>Create a particle emission — see Creating a Basic Particle Emission. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-01E5C84A-1958-4655-A1E8-89A777EFBC59"></a></span>In the ICE tree's preset manager, click the Task tab and select Particles. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B77ADC3E-0E05-4D9A-89D0-D38D73882027"></a></span>Drag the <span class="MenuCascade" id="GUID-83AEA812-8766-4864-B529-1A01495B72C4">Move Towards Goal</span> compound from the Goals group into the ICE view. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-78FB55B7-A88A-4213-9DBC-DB113AAA1A23"></a></span>Plug this compound's Execute output into an Execute port on the Simulation Root node,
                        or a port on the ICETree node. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-578C2404-0D27-4749-8C2D-DD7566BB3D7B"></a></span>Plug the goal object's Get data node into the Geometry port of the Move Towards Goal
                        compound. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-40C6B2A1-B7C3-42C0-8954-D2392C141E24"></a></span>In the Move Towards Goal property editor, set the parameters in the Goal Definition,
                        Motion Towards Goals, and Goal Reached groups. 
                     </p> <span class="anchor_wrapper"><a name="FIG_7331D3B25DA546E09BEA112DB0826BCD"></a></span><div class="figure-anchor"><img src="../images/GUID-78B1C7A6-86EB-4081-B7EF-9E9C3103B844-low.png"></div> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-0037"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-F3DA6001-29F2-432B-A2C0-D8316BC22726"></a></span>To set two goals for particles
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-4028520C-A3DC-458C-8FD4-6C5BC4E68C4D"></a></span>You can use two Move Towards Goal compounds with two goals and the If node to have
                  particles move to two goals at once. 
               </p> <span class="anchor_wrapper"><a name="FIG_784ACBC2F4484C8B8746BC22F6509404"></a></span><div class="figure-anchor"><img src="../images/GUID-CF853B6A-B637-41E2-B43F-B9623F75CDB6-low.png"></div> <span class="anchor_wrapper"><a name="GUID-AF4FB015-6552-4133-BD02-4841262116AD"></a></span><ol type="1" start="1">
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-CCEC8695-547E-4B56-8582-600203FDC31A"></a></span>Create a set of "goal object+Move Towards Goal compound" for each goal that you want
                        the particles to move toward (see the previous section for details). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-78C1D98D-6773-460B-8843-73DFF5799249"></a></span>In the ICE tree's preset manager, click the Tool tab. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-4CC9020A-9B55-431B-8336-0D0475444D08"></a></span>Drag the <span class="MenuCascade" id="GUID-5D61C52B-79DB-4BC1-8586-05DD638C95A1">If</span> node from the Execution group into the ICE view and plug its Result output into a
                        port on the ICETree node. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-2E2B8437-8E9C-4B0F-9D76-DC4902B55997"></a></span>In the ICE tree's preset manager, click the Task tab and select Particles. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-75EB5197-34B9-4550-BDEB-1640FE8275B4"></a></span>Drag the <span class="MenuCascade" id="GUID-80AF8B06-B1F5-4116-A679-D814C4F44C14">Every Nth Particle</span> compound from the Conditionals group and plug its output into the Condition port
                        of the If node. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-91C145E8-0A6A-4BC9-B544-10EAC9D511F0"></a></span>Open this compound's property editor and set the condition that makes the particles
                        switch. In this example, the value of 2 is set so that every other particle goes to
                        one of two goals. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-755C0E09-A58B-45B9-A8D0-46EDE07B87AD"></a></span>Plug one of the Move Towards Goal's Execute output into the If True port of the If
                        node, and plug the other's Execute output into the If False port. 
                     </p> <span class="anchor_wrapper"><a name="FIG_E768323F79434A4BB7A69081CB52BD26"></a></span><div class="figure-anchor"><img src="../images/GUID-A5421495-A1BE-4F9D-8261-FA82469CD707-low.png"></div> 
                  </li>
               </ol> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-003A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-9FA5B2B5-FF4E-48EE-9790-6448D66A9820"></a></span>Particles Moving Among Multiple Goals
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-05C3A200-2246-42F7-A6A2-2624AB9620B0"></a></span>If you want to have particles move from one goal to another, you can create a set
                  of "Move Towards Goal+goal object" nodes, then plug each set into the Multi Goal Sequencer
                  compound. 
               </p> <span class="anchor_wrapper"><a name="FIG_24E778C071A64421BEC0F601071620ED"></a></span><div class="figure-anchor"><img src="../images/GUID-1F1EC20F-5AA3-408F-8278-B973A2FCC1D8-low.png"></div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-003C"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-225EE608-31CA-4E08-BFAF-9F02E9DEFC75"></a></span>To make particles move among multiple goals
                  </h3> <span class="anchor_wrapper"><a name="GUID-366C7917-EF56-4C0E-B539-0DA0156E97D1"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-81333260-C765-4990-97FD-F05202E4B2E1"></a></span>Create a particle simulation — see Setting Up Any Type of ICE Particle Emission. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-A64B948B-71A3-41D0-9B0C-3DC3EC7410B7"></a></span>In the ICE tree's preset manager, click the Task tab and select Particles. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-DC201D67-87F5-4065-A52C-A976B56166D1"></a></span>Drag the <span class="MenuCascade" id="GUID-432B3D24-CA64-48A6-8491-AF0098640467">Multi Goal Sequencer</span> compound from the Goals group into the ICE view. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-70C33801-2678-4FF7-A5D4-C3D6F3BB9710"></a></span>Plug this compound's Execute output into a Port on the ICETree node. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-7DA77517-6F9C-4EDE-8E33-A4E8A77A2F28"></a></span>Create a set of "goal object+Move Towards Goal compound" for each goal that you want
                           the particles to move toward (see the previous section for details). 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-239AD877-A135-49A8-9185-39A46AA22823"></a></span>Plug each of the Move Towards Goal compound Execute outputs into an Execute Move Towards
                           Goal port on the Multi Goal Sequencer compound, in the order in which you want the
                           particles to travel (top goal is the one that is reached first). 
                        </p> <span class="anchor_wrapper"><a name="FIG_4D5156BCF9D544888FCFDC5FB412A88B"></a></span><div class="figure-anchor"><img src="../images/GUID-BE172CCC-8176-4D7A-AC36-CAF0D0C2F830-low.png"></div> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-427ED020-8AE2-466E-9E07-A0B6AB605C8D"></a></span>In the Multi Goal Sequencer property editor, you can set the distance in which the
                           particles need to be to each goal before they go to the next one on the list, and
                           you can choose to cycle through all the goals to create a continuous circuit. 
                        </p> 
                     </li>
                  </ol> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-003E"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-5259CC87-615B-4115-9640-FDB94CD1214A"></a></span>Switching to Other Goals Based on a Condition
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-1C62B257-0344-461E-90A9-9BB3A0990FCE"></a></span>You can use the Switch to Next Goal compound with multiple goals, such as if you want
                  to switch from one goal to another based on a certain condition. You can switch to
                  other goals within a state system or with a compound or node that lets you set conditions,
                  such as the small but mighty If node. 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-07CF429F-263C-4AEE-B3AF-91D6842AA820"></a></span>The following procedure shows how to use the If node and a Conditional compound. 
               </p> <span class="anchor_wrapper"><a name="FIG_B48D0547278C48FAB55D9E14AE6D23E6"></a></span><div class="figure-anchor"><img src="../images/GUID-E7FD6A47-8EC4-48D7-B22E-B7D724B863E9-low.png"><p><span class="anchor_wrapper"><a name="GUID-A56F2BF7-83CF-4932-8676-1E30A290A115"></a></span>Every 4th particle emitted switches to the goal on the right. 
                  </p>
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS023556C5E04D53409E7E875671E8B309-0040"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-F6C0197B-1521-42AC-B6A0-60EA087351A3"></a></span>To switch to other goals
                  </h3> <span class="anchor_wrapper"><a name="GUID-26593E26-65E4-4AD9-A0D5-E0D8F53BD6E1"></a></span><ol type="1" start="1">
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-2160D579-ACEF-4C48-A2A7-719BE177BA95"></a></span>Set up multiple goals as described in the previous section, Particles Moving Among
                           Multiple Goals. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-923B9E41-83FE-4D81-8625-BAE6901C4C48"></a></span>In the ICE tree's preset manager, click the Tool tab. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-DB3121FC-0364-4D80-9370-C6C53C133601"></a></span>Drag the <span class="MenuCascade" id="GUID-ABF9F684-D9B4-4097-BAA2-020A3550EA6B">If</span> node from the Execution group into the ICE view and plug its Result output into an
                           Execute Each Frame port of the first Move Towards Goal compound. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-2064C530-C941-42EC-A6C3-2FA1213E5109"></a></span>In the ICE tree's preset manager, click the Task tab and select Particles. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-08631B9E-47F6-4471-85ED-8932135DA169"></a></span>Drag a compound from the Conditionals group and plug its output into the Condition
                           port of the If node. In this example, the Every Nth Particle compound is used, meaning
                           that every nth particle moves to the next goal. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-EB660EE4-44EC-416E-A99D-2F74E1AA64F1"></a></span>Open this compound's property editor and set the condition that makes the particles
                           switch. In this example, every 4th particle is set as the condition to make the particles
                           switch to the next goal. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-4CE36D59-F7F0-410C-AB59-816551C71D3F"></a></span>Drag the <span class="MenuCascade" id="GUID-F41276F4-BFD7-4EEF-841E-92C270B23FE8">Switch to Next Goal</span> compound from the Goals group into the ICE view. 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-E03ABFF4-85A7-4007-A371-5C8EF18D4F2A"></a></span>Plug its Execute output into the If True port of the If node. 
                        </p> <span class="anchor_wrapper"><a name="FIG_F8573F91B63743AB81FCF656DD6E10C0"></a></span><div class="figure-anchor"><img src="../images/GUID-214E0EB4-519A-4AAD-9121-0157CB4AC423-low.png"></div> 
                     </li>
                  </ol> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>