<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-189AE456-E5D9-4149-9C9D-3E510C05AC08">
      <meta name="indexterm" content="ambient occlusion map: and caching results">
      <meta name="topic-type" content="concept">
      <title>Ambient Occlusion</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-189AE456-E5D9-4149-9C9D-3E510C05AC08"></a></span><div class="head">
            <h1>Ambient Occlusion</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-815653C7-9591-4B86-9DF9-E0C50F2D4006"></a></span>| <span class="char_link"><a href="shaderpresets4002.htm#WS6EE05AA23AA85A43B64451BE2934084F-009D">Render Tree Usage</a></span></p>
            <p><span class="anchor_wrapper"><a name="GUID-739989D7-B8E0-4C8A-8A87-71AD53AF14D0"></a></span> <em class="strong">Category:</em> Illumination
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-AA35FD07-279B-4D1C-80F4-A850DF8012D0"></a></span> <em class="strong">Shader Family:</em> Texture
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F6DDBAA3-FD85-49B3-96AB-FE2DD0B14349"></a></span> <em class="strong">Output:</em> Color
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-00EA8A1D-A517-45F6-943E-FFA36FF77C7D"></a></span>The Ambient Occlusion shader uses a fast and computationally inexpensive technique
               to simulate the effect of global illumination. It works by firing rays into a predefined
               hemispherical region above a given sampled point on an object's surface in order to
               determine the extent to which the point is blocked - or occluded - by other geometry.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-A5CC86C9-F583-4493-B070-699D53DBD7BB"></a></span>Once the amount of occlusion has been determined, a bright and a dark color are used
               to scale the contribution of ambient light on unoccluded and occluded parts of the
               object surface respectively. Where the object is partially occluded the bright and
               dark colors are mixed in accordance with the amount of occlusion.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F4A84665-9A7F-4C96-8326-931B852D3109"></a></span>This shader can also be used for reflective occlusion, which is similar to ambient
               occlusion, but scales the contribution of a reflection map to the object's surface.
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-7C1B3FE1-FB4D-416F-8933-A9DC4B338188"></a></span>For more information about setting up ambient occlusion, see <span class="char_link"><a href="gi_AO.htm">Ambient Occlusion</a></span> [<span class="char_link"><a href="gi_lights_cover.htm">Indirect Illumination</a></span>].
            </p>
            <div><span class="anchor_wrapper"><a name="GUID-44E0004C-64FC-417D-A92D-14571BBDE1EE"></a></span><div class="note-note"><span class="label">NOTE:</span> The ambient occlusion shader is also used by both RenderMap and Ultimapper to generate
                  ambient occlusion maps. Make sure that ambient occlusion is enabled for the scene
                  and keep in mind that the caching results are not captured in the ambient occlusion
                  maps generated by these tools. For more information about using RenderMap and Ultimapper,
                  see <span class="char_link"><a href="rendermap_ChoosingandConfiguringMapstoGenerate.htm#WS300B74AA30F7724DADB761C00818E7A8-0010">Specifying the Surface Map Type</a></span> and <span class="char_link"><a href="tex_transfer.htm">Transferring Surface Attributes (Ultimapper)</a></span> [<span class="char_link"><a href="tex_cover.htm">Textures and Maps</a></span>].
               </div>
            </div>
            <div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-5AA43178-F312-43B1-9E86-C97B347F1CCA"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-B895AC88-F47C-400D-8D5A-09BB60DB3DD0">Number of Samples</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-0499B81A-FF15-4411-857D-FCD4703D946D"></a></span><p class="table-body">Specifies the number of sample rays used to determine occlusion. Higher settings produce
                           a smoother result but take longer to render.
                        </p> <span class="anchor_wrapper"><a name="GUID-A80E1B23-7C39-4CBC-9CDA-B8FA83C30969"></a></span><p class="table-body">If set to 0 or a negative value then mental ray will use the global Ambient Occlusion
                           &gt; Rays setting in the <span class="char_link"><a href="property4502.htm">mental ray Render Options Property Editor</a></span>.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-EC0A7F6E-23FA-4A46-9E96-2ED78D3B2F73"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-674AC9F1-6899-4A2B-901B-837ACC8EFD59">Bright Color</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-33395C08-AF8C-4BE0-96ED-248CE49D0F20"></a></span><p class="table-body">This color is used to scale the ambient lighting/reflection when the sampled point
                           is completely unoccluded. If the point is partially occluded, this color is mixed
                           with the Dark Color.
                        </p> <span class="anchor_wrapper"><a name="GUID-E7100678-6518-4EC3-987B-DDBA03164C8E"></a></span><p class="table-body">Typically, this color is set to white, but you can choose any color using the sliders.
                           You can also drive the color using a texture.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-1C3534D2-7CFE-46CF-8F69-57BDBB3C944F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-47FC1106-D0E1-4795-A091-1451061590A5">Dark Color</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-74CF979E-AF77-46CB-A442-C30BE9DC26B9"></a></span><p class="table-body">This color is used to scale the ambient lighting/reflection when the sampled point
                           is completely occluded. If the point is partially occluded, this color is mixed with
                           the Bright Color.
                        </p> <span class="anchor_wrapper"><a name="GUID-5A1417BD-C506-4F23-A22C-4AEF10D3892E"></a></span><p class="table-body">Typically, this color is set to black, but you can choose any color using the sliders.
                           You can also drive the color using a texture.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-153FB8E4-103D-47AA-B447-1F56BAEAE577"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-CA632817-4DB0-46A9-A277-BFD1F5310593">Spread</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-127938E7-39B6-45B6-8AD4-BCFAE5E93962"></a></span><p class="table-body">Defines the angle of the cone from which sample rays are fired. A value of 0 samples
                           only in the direction of the surface normal, while a value of 1.0 samples the entire
                           hemisphere above the sampled point.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-4D7E4261-3509-483D-AF55-999E994CD6F6"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-3F6C91AE-38D1-4402-A4C7-D2FBE809D463">Maximum Distance</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> 
                        <p><span class="anchor_wrapper"><a name="GUID-08397F65-E635-43B6-942F-1CBBD9529FD6"></a></span>Specifies the maximum range for sample rays fired from a given point.
                        </p>
                        <ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-4DAE2071-CA9E-436E-BF57-4EFA18C27449"></a></span>When Maximum Distance set to 0 the entire scene is sampled, meaning that rays are
                                 traced until they reach the scene boundary.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-9B4E376F-367D-4725-A7F5-3DAD25F58822"></a></span>When Maximum Distance is set to a non-zero value, sample rays are traced only for
                                 the specified distance. Objects outside of this range do not occlude the sampled object
                                 at all. Objects within this distance occlude more the closer they are to the object.
                              </p> 
                           </li>
                        </ul> <span class="anchor_wrapper"><a name="GUID-728D41A9-0454-472C-99CE-DB6FE679A3DB"></a></span><p class="table-body">It's usually preferable to limit the maximum distance by using non-zero values. Distant
                           objects generally affect the final result less because they occupy a proportionally
                           much smaller area of the sampling hemisphere than closer objects of the same size.
                           The slight reduction in overall occlusion that this may cause is offset by the accompanying
                           reduction in render time.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-683DF9E6-84C5-430A-821D-11191119970A"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-7E1DD3CA-EFF2-4B20-A1AD-FB016FC2EE19">Reflective</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-24003B2D-4B4C-4989-9F86-AFB120EF17F0"></a></span><p class="table-body">When activated, the shader performs reflection occlusion rather than ambient occlusion.
                           This changes the sampling pattern from a cone around the surface normal to a more
                           distributed pattern around the direction of reflection.
                        </p> <span class="anchor_wrapper"><a name="GUID-836EF6BA-B6C2-485E-B18E-91483F9B99D6"></a></span><p class="table-body">Using reflection occlusion can help enhance the realism of reflection maps by incorporating
                           color and detail from the surrounding environment map.
                        </p> 
                     </td>
                  </tr>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-95396ED8-3018-409F-80D6-B524D0B213FA"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-51A8CD32-1B4F-4D99-A903-F9BD72E56B13">Output Mode</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-8DE80A5E-D9FB-42EA-97AA-9BF4EAC5A3B6"></a></span><p class="table-body">The shader had five different modes that control the output color:</p> 
                        <ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-26E08662-86DF-47A4-8BA0-CF40A24A902A"></a></span> <span class="MenuCascade" id="GUID-D09DC8C6-5B95-4F10-8AE8-000C0FCF8F8F">Occlusion Using Shading Normal:</span> produces a standard ambient occlusion effect, where the Bright and Dark colors are
                                 used to scale the ambient lighting/reflection in accordance with the amount of occlusion.
                              </p> 
                           </li>
                        </ul>
                        <p><span class="anchor_wrapper"><a name="GUID-D117032F-EC29-4D51-9D38-D6209E818CCB"></a></span>In this mode, sampling is performed in the direction of the shading normal.
                        </p>
                        <ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-E14D5847-8D8D-44A0-B7D1-C3A877C76665"></a></span> <span class="MenuCascade" id="GUID-3C14BC47-5507-41D1-AF3A-81AF4E0C1402">Occlusion Using Bent Normals:</span> produces a standard ambient occlusion effect, where the Bright and Dark colors are
                                 used to scale the ambient lighting/reflection in accordance with the amount of occlusion.
                              </p> 
                           </li>
                        </ul>
                        <p><span class="anchor_wrapper"><a name="GUID-C0A5666D-B9A5-4B78-8DF7-48DBDCC68A06"></a></span>In this mode, the sampling direction is biased to return more of the <span class="MenuCascade" id="GUID-C626D5F6-D9D7-47A9-84A1-4F6DB4E0A408">Bright color</span> in the blended result.
                        </p>
                        <ul>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-C3CC4A40-EB33-4BB8-AC51-18FEF39CA002"></a></span> <span class="MenuCascade" id="GUID-0F895B07-2CFE-4A70-80E6-F896FB35F20C">Sampled Environment:</span> is similar to regular occlusion, but also performs environment sampling. As such,
                                 when the scene uses an environment map, the map color is multiplied with the Bright
                                 color to produce the final unoccluded color value.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-BCDA8110-6544-4A33-9961-BFBF0186F2F2"></a></span> <span class="MenuCascade" id="GUID-1BF70499-0929-4C99-8F59-DBF94DB19FB6">Return Bent Normals (World Space):</span> returns a color value based on the average of the unoccluded sample rays in world
                                 space. The Red, Green, and Blue components correspond to the X, Y, and Z axes respectively.
                              </p> 
                           </li>
                           <li> 
                              <p><span class="anchor_wrapper"><a name="GUID-AA4339CF-41B2-4327-8BD2-4E95BCE26134"></a></span> <span class="MenuCascade" id="GUID-C2E03F28-597E-408F-B8FD-4611D135C509">Return Bent Normals (Object Space):</span> returns a color value based on the average of the unoccluded sample rays in object
                                 space. The Red, Green, and Blue components correspond to the X, Y, and Z axes respectively.
                              </p> 
                           </li>
                        </ul> 
                     </td>
                  </tr>
                  <tr class="ruledEvenRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-C6BE4D06-0386-4C11-8000-8F46A429B7FE"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-9F1ABC24-BD44-44A5-AD4B-AFD454651FC6">Occlusion in Alpha</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-E740475B-AFE5-4A44-AB70-A51E1724E8AF"></a></span><p class="table-body">When activated, the scalar occlusion value is stored in the alpha channel, irrespective
                           of the specified Output Mode.
                        </p> <span class="anchor_wrapper"><a name="GUID-EA9B3780-8198-47E4-A346-FBE72494725B"></a></span><p class="table-body">Normally, the color returned for a given point is a blend between the <span class="MenuCascade" id="GUID-8E28664B-A9E1-45CA-8670-1F1F1E2D6A64">Bright color</span> and the <span class="MenuCascade" id="GUID-DEF5DC6E-61B7-42F4-BC0D-C5CC139AF2C8">Dark color,</span> including the alpha channel, depending on how that point on the surface is occluded.
                        </p> <span class="anchor_wrapper"><a name="GUID-5D60CD76-BD05-4018-A72D-5A080099E63A"></a></span><p class="table-body">When this parameter is on, the blending between the bright and dark color is not done
                           for the alpha channel. Instead, the alpha channel stores the actual amount of occlusion.
                        </p> <span class="anchor_wrapper"><a name="GUID-2A3EDCB4-9E9A-435C-BFE1-7F456C61C1F6"></a></span><p class="table-body">If you need the alpha channel to be 1, independently of the occlusion, simply set
                           the <span class="MenuCascade" id="GUID-5C2B4A59-E0D2-45AD-B403-AF92F8AB4EA6">Bright color</span> and <span class="MenuCascade" id="GUID-0A91B5AD-6B33-4D5A-A08A-A6D968DB3275">Dark color</span> alpha values to 1, and the blend will always return 1.
                        </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS6EE05AA23AA85A43B64451BE2934084F-009D"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-0BB26617-3EAD-45E0-9B19-A744B338A6A3"></a></span>Render Tree Usage
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-5A520782-132D-4A74-91F0-EB64808A5AC2"></a></span>For standard ambient occlusion, this shader is typically connected to the Material
                  Node's Surface input or the Ambient input of a surface shader like Phong or Lambert.
                  For reflection occlusion, it can be connected to a surface shader's Reflection input,
                  or to the Material node's Environment input.
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-6C260ADA-041F-42EC-B161-424FE9780CEF"></a></span>For more information, see <span class="char_link"><a href="lights_AO_ConnectingtheAmbientOcclusionShader.htm">Connecting the Ambient Occlusion Shader</a></span> [<span class="char_link"><a href="gi_lights_cover.htm">Indirect Illumination</a></span>].
               </p> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>