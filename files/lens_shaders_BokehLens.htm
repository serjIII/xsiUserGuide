<!DOCTYPE html>

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta name="product" content="SI">
      <meta name="release" content="2015">
      <meta name="book" content="GeneralUser">
      <meta name="created" content="2014-03-26">
      <meta name="topicid" content="GUID-20262AAF-A91E-45C7-BE23-85338CAC4440">
      <meta name="topic-type" content="concept">
      <title>Bokeh (mia)</title>
      <link rel="stylesheet" type="text/css" href="../style/softimage.css"><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%">
      <div class="body_content" id="body-content"><span class="anchor_wrapper"><a name="GUID-20262AAF-A91E-45C7-BE23-85338CAC4440"></a></span><div class="head">
            <h1>Bokeh (mia)</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-549B2254-46B7-43B4-93E0-369B69846F9E"></a></span>| <span class="char_link"><a href="lens_shaders_BokehLens.htm#WS8B73F3A56BA07E47A5E27C11F73EBA9F-0007">Render Tree Usage</a></span> 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-5791F4A6-E18F-4CE6-A50F-0A4F32FE6A43"></a></span> <em class="strong">Category:</em> Lens 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-F660DA8F-A1ED-475E-90F0-DD233FFCA2E3"></a></span> <em class="strong">Shader Family:</em> Lens 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-6F9E9F2E-F0F8-4327-9C2A-A92B21448F5D"></a></span> <em class="strong">Output:</em> Color 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-732F76B8-7E25-4B03-8A27-76C18CAD8E38"></a></span> <span class="MenuCascade" id="GUID-91074249-94FF-463B-A11A-24D4A887F117">Related mental ray shader:</span> <span class="char_link"><a href="mentalray_mia_lens_bokeh.htm">mia_lens_bokeh</a></span> 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-AE953BF4-EC3D-4071-A8FE-01B9098FC355"></a></span>"Bokeh" is a Japanese term meaning "blur", that is often used to describe how the
               out-of-focus regions in a photograph are perceived. The term Depth of Field (DOF)
               does not actually describe the blur itself, but the depth of the region that is in
               focus. The Bokeh shader is essentially a depth of field shader. 
            </p><span class="anchor_wrapper"><a name="FIG_15BC53B7980240ABAFC31AA06D0F65CD"></a></span><div class="figure-anchor"><img src="../images/GUID-B9F42B1C-00D6-4FD0-A4EC-D19961E5BDB4-low.png"></div>
            <p><span class="anchor_wrapper"><a name="GUID-FE7D1773-F080-4526-8966-B9FB0EC9598A"></a></span>Image rendered with Focal = 40, CoF = 0.5, Samples = 20, and Use Bokeh = On. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-639378E7-A54D-4DFD-BD5E-5E75FDF11BA2"></a></span>You can use the Bokeh Lens shader with an RGB Bokeh map to simulate chromatic aberration
               of the lens. Chromatic aberration is an artifact often seen when using low-end or
               wide angle lenses, and it is seen as "fringes" of color around the elements in an
               image. When using the Bokeh Lens shader, you will notice that you only get the chromatic
               aberration effect on the out-of-focus regions of the rendered image. 
            </p><span class="anchor_wrapper"><a name="TABLE_4B93E9C5587B4931BF50138D12661424"></a></span><div class="table_Ruled">
               <table cellpadding="0" cellspacing="0" class="ruled">
                  <colgroup>
                     <col width="220px" align="left">
                     <col align="left">
                  </colgroup>
                  <tr class="ruledOddRow">
                     <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-94E3B891-DA63-4763-9B76-C00A9CE32941"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-93DFC019-7338-49EC-A6D0-3C411E6EA683">Enabled</span> 
                        </p> 
                     </td>
                     <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-F3856B26-E3B1-49FC-A6A2-C1B91D5BF75A"></a></span><p class="table-body">Enables or disables the shader. </p> 
                     </td>
                  </tr>
               </table>
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS8B73F3A56BA07E47A5E27C11F73EBA9F-0004"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-D6D5E6F8-6A3A-4473-B0B5-F2BB4D11D4E2"></a></span>Focus Settings
               </h2> <span class="anchor_wrapper"><a name="TABLE_FC381DD576FB4AE087ED982A85C1492C"></a></span><div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col width="220px" align="left">
                        <col align="left">
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-8EFFA3DA-B371-4A76-B5FB-02D4B1068C13"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-6B1A0790-AD19-4962-B1FD-1CFFE329F60E">Focal Plane Distance</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-6F0CACB9-38A6-4C26-A5B3-75F582D52602"></a></span><p class="table-body">The distance to the focal plane from the camera: a point at this distance from the
                              camera is completely in focus. 
                           </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-58C5D512-7A01-4884-B6B5-60D43399FE9F"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-68B5C610-ECEE-4676-8E92-C876EF2393D7">CoF Radius</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-4B08B1C4-3951-4AD7-950A-71E298F6D439"></a></span><p class="table-body">Radius of the circle of confusion. This is an actual measurement in scene units, and
                              for a real-world camera this is approximately the radius of the iris (and it depends
                              on the cameras f-stop). It is a good rule of thumb to keep it at a couple of centimeters
                              in size (expressed in the current scene units), otherwise the scene may look unrealistic
                              and be perceived as miniature. 
                           </p> <span class="anchor_wrapper"><a name="GUID-15B99B44-CA92-43BB-91D7-A29306E1C173"></a></span><p class="table-body">Keep in mind that a small radius of confusion creates a deeper depth of field effect,
                              while a large radius of confusion creates a more shallow depth of field effect. 
                           </p> 
                        </td>
                     </tr>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-1DB6765C-E829-4007-A634-A20F659DD972"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-A01AB7EB-129D-4721-937C-DAF3BC99A213">Samples</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-B00419B5-B5A6-4EAC-A639-F4AB0ED4B49A"></a></span><p class="table-body">Defines how many rays are shot. Fewer samples are faster to render, but produce grainier
                              results. More samples are slower to render, but create smoother results. 
                           </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-A00CC265-4D3B-4ABE-8084-5D977E2D5C0D"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-8B328901-DD11-4822-A62F-5928B5BF4B10">Sampling Bias</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-26D577BA-DAD2-4642-AAAB-F2FD4B1A0142"></a></span><p class="table-body">When Sampling Bias is 1.0, the circle of confusion is sampled as a uniform disk. </p> <span class="anchor_wrapper"><a name="GUID-822564F5-2D7B-4BDB-85E8-22C83B18F421"></a></span><p class="table-body">Lower values push the sample probability towards the center, creating a "softer" looking
                              DOF effect with a more "misty" look. 
                           </p> <span class="anchor_wrapper"><a name="GUID-DE627018-666F-44E0-B74B-A7FD22D3995A"></a></span><p class="table-body">Higher values push the sample probability towards the edge, creating a "harder" looking
                              DOF effect where bright spots actually resolve as small circles. 
                           </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS8B73F3A56BA07E47A5E27C11F73EBA9F-0005"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-E57538C5-4436-4D72-8CEE-A9BD97A765D9"></a></span>Shutter Blades
               </h2> <span class="anchor_wrapper"><a name="TABLE_A12D5E780707437CB027A04EC7997C51"></a></span><div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col width="220px" align="left">
                        <col align="left">
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-13D6333F-33D0-47AC-93CE-4DFEA0A88D01"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-87029CB1-476E-412F-A887-222B8C29B7F2">Blade Count</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-BF55EE6A-0E7E-4AFB-B386-3F540836A1AC"></a></span><p class="table-body">The blade count defines how many "edges" the circle of confusion has. A zero value
                              makes it a perfect circle. 
                           </p> 
                        </td>
                     </tr>
                     <tr class="ruledEvenRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-ABCF69B8-9B53-4796-9487-477AF142FC5B"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-34E14A0F-9811-4465-B1E2-FFC7B55AC472">Angle</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-30CFC7D1-3EB8-40F6-B536-250AE1ABF2D2"></a></span><p class="table-body">Sets the angle for the blade, which is expressed such that 0.0 is zero degrees and
                              1.0 is 360 degrees. 
                           </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS8B73F3A56BA07E47A5E27C11F73EBA9F-0006"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-5DAC8FAA-E68A-40B5-A828-7E6826D12476"></a></span>Bokeh
               </h2> <span class="anchor_wrapper"><a name="TABLE_EE6FA5B0100F404C8CC1663F202BBAF3"></a></span><div class="table_Ruled">
                  <table cellpadding="0" cellspacing="0" class="ruled">
                     <colgroup>
                        <col width="220px" align="left">
                        <col align="left">
                     </colgroup>
                     <tr class="ruledOddRow">
                        <td class="table-body"> <span class="anchor_wrapper"><a name="GUID-D14FEFD7-F37C-460F-BAD9-5457A95C4B46"></a></span><p class="table-body"> <span class="MenuCascade" id="GUID-60793C35-6B83-4699-A508-7295C2B03D2D">Use Bokeh Image</span> 
                           </p> 
                        </td>
                        <td class="table-body" align="left"> <span class="anchor_wrapper"><a name="GUID-DFB13DC2-A69E-4B33-9A45-316CC8E16E33"></a></span><p class="table-body">Enables the use of a specific bokeh map. </p> <span class="anchor_wrapper"><a name="GUID-5B7E3162-018B-4FBC-BFE3-6E1E2A9214A7"></a></span><p class="table-body">By default the noIcon_pic image clip is connected to the <span class="MenuCascade" id="GUID-E0FD3E9B-48CA-4050-9503-DAFCC5534B51">bokeh</span> input port. To apply your own bokeh map, add the image to the scene as a clip (Get
                              &gt; Clip &gt; Create Clip From File), and then add it to the render tree from the Clips
                              menu. Connect the new clip node to the bokeh input port to replace the noIcon_pic
                              image. For more information about working with image clips and sources, see <span class="char_link"><a href="data_image_sources_clips.htm">Managing Image Sources &amp; Clips</a></span>. 
                           </p> <span class="anchor_wrapper"><a name="GUID-957781BC-4AA7-4D92-B846-2FA2DEB5E78B"></a></span><p class="table-body">When enabled, the Sampling Bias, Blade Count and Angle parameters have no effect.
                              The bokeh map defines the shape of the depth of field, so that a filled white circle
                              on a black background is equivalent to the standard blur. 
                           </p> <span class="anchor_wrapper"><a name="GUID-6D1C4B87-A916-4A34-8AD2-DACBD5586068"></a></span><p class="table-body">Generally, you need more samples to accurately resolve a custom bokeh map. </p> 
                        </td>
                     </tr>
                  </table>
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS8B73F3A56BA07E47A5E27C11F73EBA9F-0007"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-75116F12-BC31-4DF5-9EB3-F0E25881529D"></a></span>Render Tree Usage
               </h2> 
               <p><span class="anchor_wrapper"><a name="GUID-400F14E3-A120-48A2-9D7B-1E8F2B3817C6"></a></span>This shader can be applied directly to the camera in the lens shader stack. See <span class="char_link"><a href="cameras_AddingLensShaderstotheCamera.htm">Applying Lens Shaders to Cameras</a></span> [<span class="char_link"><a href="cam_cover.htm">Cameras and Motion Blur</a></span>]. 
               </p> <span class="anchor_wrapper"><a name="FIG_2424964E3BA44CE2B32ACD5DD2DB0429"></a></span><div class="figure-anchor"><img src="../images/GUID-5AD0A392-040C-4B10-A470-DB3702688F98-low.png"></div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png"></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br></div>
   </body>
</html>